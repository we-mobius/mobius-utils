{"version":3,"sources":["webpack://@we-mobius/mobius-utils/./node_modules/axios/index.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/adapters/xhr.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/axios.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/cancel/Cancel.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/cancel/CancelToken.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/cancel/isCancel.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/core/Axios.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/core/InterceptorManager.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/core/buildFullPath.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/core/createError.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/core/dispatchRequest.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/core/enhanceError.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/core/mergeConfig.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/core/settle.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/core/transformData.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/defaults.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/helpers/bind.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/helpers/buildURL.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/helpers/combineURLs.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/helpers/cookies.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/helpers/isAxiosError.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/helpers/spread.js","webpack://@we-mobius/mobius-utils/./node_modules/axios/lib/utils.js","webpack://@we-mobius/mobius-utils/./src/es/atom/atom.js","webpack://@we-mobius/mobius-utils/./src/es/atom/atoms/base.atom.js","webpack://@we-mobius/mobius-utils/./src/es/atom/atoms/data.atom.js","webpack://@we-mobius/mobius-utils/./src/es/atom/atoms/mutation.atom.js","webpack://@we-mobius/mobius-utils/./src/es/atom/drivers/base.drivers.js","webpack://@we-mobius/mobius-utils/./src/es/atom/helpers.js","webpack://@we-mobius/mobius-utils/./src/es/atom/helpers/batch-create.helpers.js","webpack://@we-mobius/mobius-utils/./src/es/atom/helpers/derive-create.helpers.js","webpack://@we-mobius/mobius-utils/./src/es/atom/helpers/hybrid-create.helpers.js","webpack://@we-mobius/mobius-utils/./src/es/atom/helpers/normal-create.helpers.js","webpack://@we-mobius/mobius-utils/./src/es/atom/helpers/transform.helpers.js","webpack://@we-mobius/mobius-utils/./src/es/atom/index.js","webpack://@we-mobius/mobius-utils/./src/es/atom/mediators.js","webpack://@we-mobius/mobius-utils/./src/es/atom/mediators/base.mediators.js","webpack://@we-mobius/mobius-utils/./src/es/atom/mediators/flat.mediators.js","webpack://@we-mobius/mobius-utils/./src/es/atom/mediators/replay.mediators.js","webpack://@we-mobius/mobius-utils/./src/es/atom/mediators/trigger.mediators.js","webpack://@we-mobius/mobius-utils/./src/es/atom/meta.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/base.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/case.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/combine.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/combineLatest.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/debounce.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/defaultTo.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/distinctEver.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/distinctPrevious.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/effect.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/emptyStartWith.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/filter.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/iif.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/map.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/merge.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/nilToVoid.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/partition.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/pluck.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/skip.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/skipUntil.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/skipWhile.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/startWith.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/switch.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/take.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/takeUntil.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/takeWhile.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/tap.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/throttle.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/withHistory.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/withLatestFrom.taches.js","webpack://@we-mobius/mobius-utils/./src/es/atom/taches/zip.taches.js","webpack://@we-mobius/mobius-utils/./src/es/external/app.js","webpack://@we-mobius/mobius-utils/./src/es/external/class.js","webpack://@we-mobius/mobius-utils/./src/es/external/debug.js","webpack://@we-mobius/mobius-utils/./src/es/external/dom.js","webpack://@we-mobius/mobius-utils/./src/es/external/environment.js","webpack://@we-mobius/mobius-utils/./src/es/external/event.js","webpack://@we-mobius/mobius-utils/./src/es/external/index.js","webpack://@we-mobius/mobius-utils/./src/es/external/path.js","webpack://@we-mobius/mobius-utils/./src/es/external/request.js","webpack://@we-mobius/mobius-utils/./src/es/external/response.js","webpack://@we-mobius/mobius-utils/./src/es/external/scope.js","webpack://@we-mobius/mobius-utils/./src/es/external/struct.js","webpack://@we-mobius/mobius-utils/./src/es/external/unique.js","webpack://@we-mobius/mobius-utils/./src/es/functional/_private.js","webpack://@we-mobius/mobius-utils/./src/es/functional/combinators.js","webpack://@we-mobius/mobius-utils/./src/es/functional/either.monad.js","webpack://@we-mobius/mobius-utils/./src/es/functional/helpers.js","webpack://@we-mobius/mobius-utils/./src/es/functional/identity.monad.js","webpack://@we-mobius/mobius-utils/./src/es/functional/index.js","webpack://@we-mobius/mobius-utils/./src/es/functional/io.monad.js","webpack://@we-mobius/mobius-utils/./src/es/functional/maybe.monad.js","webpack://@we-mobius/mobius-utils/./src/es/functional/monads.js","webpack://@we-mobius/mobius-utils/./src/es/functional/task.monad.js","webpack://@we-mobius/mobius-utils/./src/es/index.js","webpack://@we-mobius/mobius-utils/./src/es/internal/array.js","webpack://@we-mobius/mobius-utils/./src/es/internal/base.js","webpack://@we-mobius/mobius-utils/./src/es/internal/boolean.js","webpack://@we-mobius/mobius-utils/./src/es/internal/date.js","webpack://@we-mobius/mobius-utils/./src/es/internal/function.js","webpack://@we-mobius/mobius-utils/./src/es/internal/hybrid.js","webpack://@we-mobius/mobius-utils/./src/es/internal/index.js","webpack://@we-mobius/mobius-utils/./src/es/internal/number.js","webpack://@we-mobius/mobius-utils/./src/es/internal/object.js","webpack://@we-mobius/mobius-utils/./src/es/internal/regexp.js","webpack://@we-mobius/mobius-utils/./src/es/internal/string.js","webpack://@we-mobius/mobius-utils/./src/es/semantic.js","webpack://@we-mobius/mobius-utils/webpack/bootstrap","webpack://@we-mobius/mobius-utils/webpack/runtime/define property getters","webpack://@we-mobius/mobius-utils/webpack/runtime/hasOwnProperty shorthand","webpack://@we-mobius/mobius-utils/webpack/runtime/make namespace object","webpack://@we-mobius/mobius-utils/./src/index.js"],"names":["isAtom","tar","isObject","BaseAtom","pipe","args","compose","isData","Data","constructor","value","options","TypeError","_options","isDatar","_datar","Datar","_consumers","Set","type","isEmpty","of","empty","datar","subscribe","consumer","add","unsubscribe","delete","trigger","isUndefined","forEach","triggerValue","observe","mutation","isMutation","mutator","mutate","beObservedBy","_mutator","isMutator","isFunction","Mutator","_mutation","_tempDatar","run","fill","isTerminator","registerTrigger","forceWrap","_internalTriggerFunction","controller","Mutation","operation","ofLift","liftType","isLifted","origin_operation","ofLiftBoth","ofLiftLeft","ofLiftRight","triggerOperation","data","_data","_tempMutator","createGeneralDriver","createOptions","prepareSingletonLevelContexts","prepareOptions","prepareDriverLevelContexts","_","prepareInstance","_0","_1","singletonLevelContexts","driverLevelContexts","driver","inputs","outputs","driverInterfaces","formatInterfaces","interfaces","Object","entries","key","connectInterfaces","up","down","normalize","replayWithLatest","isArray","i","binaryTweenPipeAtom","idx","useGeneralDriver","looseCurryN","driverOptions","innerInputs","innerOutputs","others","outerInputs","outerOutputs","invoker","getAtomType","isMediator","atom","isSameTypeOfAtom","curryN","tarA","tarB","atomTypeA","atomTypeB","isSameTypeOfMediator","pipeAtom","reverse","cur","all","length","composeAtom","upstreamAtom","downstreamAtom","tweenAtom","v","binaryTweenComposeAtom","flip","nAryTweenPipeAtom","nAryTweenComposeAtom","binaryLiftPipeAtom","binaryLiftComposeAtom","nAryLiftPipeAtom","nAryLiftComposeAtom","binaryHyperPipeAtom","binaryHyperComposeAtom","nAryHyperPipeAtom","nAryHyperComposeAtom","forceWrapToData","item","wrapToData","mutationToDataS","createDataInArray","arr","wrapFn","map","createDataInObject","obj","result","forceWrapToMutation","wrapToMutation","dataToMutationS","createMutationInArray","createMutationInObject","forceWrapToAtom","wrapToAtom","createAtomInArray","createAtomInObject","createIterableTrigger","iterable","handler","asIs","autoStart","repeatable","isIterable","iterateState","times","done","values","internalTriggers","WeakSet","iterate","error","internalTrigger","start","cancel","formatIterableTriggerCreatorFlatArgs","res","hasOwnProperty","argsKeyList","arg","isBoolean","shift","createIterableTriggerF","createDataFromIterable","createDataWithTrigger","createMutationFromIterable","createMutationWithTrigger","createEventTrigger","target","isEventTarget","listener","e","addEventListener","removeEventListener","formatEventTriggerCreatorFlatArgs","isGeneralObject","isString","createEventTriggerF","createDataFromEvent","createMutationFromEvent","createIntervalTrigger","step","interval","timer","started","startInterval","setInterval","clearInterval","formatIntervalTriggerCreatorFlatArgs","val","createIntervalTriggerF","createDataFromInterval","createMutationFromInterval","createTimeoutTrigger","timeout","isNumber","setTimeout","clearTimeout","formatTimeoutTriggerCreatorFlatArgs","createTimeoutTriggerF","createDataFromTimeout","createMutationFromTimeout","createObservableTrigger","observable","isObservable","subscription","formatObservableTriggerCreatorFlatArgs","createObservableTriggerF","createDataFromObservable","createMutationFromObservable","createFunctionTrigger","agent","shouldEmit","emitFunction","pause","formatFunctionTriggerCreatorFlatArgs","createFunctionTriggerF","createDataFromFunction","createMutationFromFunction","withMediator","mediator","_mediator","withReplayMediator","ReplayMediator","withTriggerMediator","TriggerMediator","createDataWithReplayMediator","createMutationWithReplayMediator","createDataWithTriggerMediator","createMutationWithTriggerMediator","createDataWithReplay","replayMediator","createMutationWithReplay","triggerMediator","register","createEmptyData","createEmptyMutation","createDataOf","createMutationOf","createMutationOfLL","createMutationOfLR","createMutationOfLB","DEFAULT_MUTATION_OPTIONS","isReplayMediator","mutationToData","transform","_data2","dataToData","atomToData","prev","dataToMutation","mutationToMutation","atomToMutation","BaseMediator","new","Error","_atom","release","isFlatMediator","FlatMediator","flattedD","_origin_atom","_connection","_subscribeController","autoConnect","connect","asIsM","prevD","subscribeController1","subscribeController2","tempData","disconnect","withValueFlatted","replayTime","_history","setReplayTime","push","_setHistory","autoTrigger","_replayTime","Math","floor","abs","t","slice","replayTo","replay","subscribeController","replayWithoutLatest","isTriggerMediator","_map","WeakMap","_add","set","_remove","get","remove","removeAll","successFlag","isVoid","isVacuo","Void","VOID","Terminator","TERMINATOR","Vacuo","internalVacuo","defineProperty","VACUO","undefined","fillEmpty","fillAuto","checkOperation","isValidOperationTarget","isValidOpTar","lift","liftBoth","liftLeft","liftRight","prevDatar","createGeneralTache","tacheOptions","prepareMidpiece","prepareTacheLevelContexts","prepareInput","source","any","prepareOutput","midpieces","tacheLevelContexts","sources","useGeneralTache","tacheMaker","tache","createSSTache","outputD","createSMTache","createObjectSMTache","createArraySMTache","configArr","config","mutations","Array","from","output","index","configObj","reduce","acc","name","createMSTache","sourcesType","toLowerCase","createArrayMSTache","createObjectMSTache","numberOfSources","acceptNonAtom","opCustomizeType","opLiftType","autoUpdateContexts","wrapMutations","id","wrappedDatas","trunkM","baseContexts","contexts","actualOperation","states","wrapMutation","newSources","datas","keysOfSources","keys","createMMTache","caseT","preds","cases","objectCaseT","arrayCaseT","some","staticArrayCaseT","dynamicArrayCaseT","pred","wrapPredMutations","wrapCaseMutations","wrapTargetM","wrappedPredDatas","wrappedCaseDatas","wrappedTargetD","caseM","_internalStates","case","_internalValues","matched","len","staticObjectCaseT","dynamicObjectCaseT","size","combineT","arrayCombineT","objectCombineT","atoms","inputAtoms","combineM","_intervalValues","combineLatestT","arrayCombineLatestT","objectCombineLatestT","every","debounceTimeT","staticDebounceTimeT","dynamicDebounceTimeT","wrapTimerM","wrappedTimerD","debounceM","clock","ms","defaultToT","dft","dynamicDefautToT","staticDefaultToT","wrapDftM","wrappedDftD","defaultM","distinctEverT","staticDistinctEverT","dynamicDistinctEverT","wrapTransformM","wrappedTransformD","distinctM","history","transformed","includes","asIsDistinctEverT","distinctPreviousT","staticDistinctPreviousT","dynamicDistinctPreviousT","previous","prevTransformed","asIsDistinctPreviousT","effectT","effect","staticEffectT","dynamicEffectT","wrapEffectM","wrappedEffectD","effectM","hasSetReturned","_returned","returned","emptyStartWithT","dynamicEmptyStartWithT","staticEmptyStartWithT","wrapStartM","wrappedStartD","startM","startExpired","filterT","staticFilterT","dynamicFilterT","wrapPredM","wrappedPredD","filterM","iifT","trueTarget","falseTarget","staticIifT","dynamicIifT","wrapTrueTargetM","wrappedTrueTargetD","wrapFalseTargetM","wrappedFalseTargetD","predRes","mapT","fn","staticMapT","dynamicMapT","wrapMapM","wrappedMapD","mapM","mergeT","mergeM","nilToVoidT","transM","isNil","partitionT","pluckT","selector","staticPluckT","dynamicPluckT","wrapSelectorM","wrappedSelectorD","pluckM","getByPath","skipT","n","staticSkipT","dynamicSkipT","wrapNumM","wrappedNumD","skipM","skiped","skipUntilT","cond","wrapCondM","wrappedCondD","skipWhileT","Boolean","startWithT","dynamicStartWithT","staticStartWithT","targetQueue","unshift","switchTacheFactory","mutationFactory","to","wrapToM","wrappedToD","wrapFromM","wrappedFromD","switchM","switchT","dynamicSwitchT","staticSwitchT","promiseSwitchT","promise","takeT","staticTakeT","dynamicTakeT","parseInt","takeM","taked","takeUntilT","takeWhileT","tapT","tapValueT","level","levelDict","LOG","INFO","WARN","ERROR","colorDict","log","info","warn","stringified","JSON","stringify","console","toUpperCase","throttleTimeT","staticThrottleTimeT","dynamicThrottleTimeT","throttleM","canEmit","withHistoryT","withStaticHistoryT","withDynamicHistoryT","withHistoryM","pop","pairwiseT","truthyPairwiseT","withLatestFromT","wrapSourceM","wrappedSourceD","withLatestFromM","zipLatestT","arrayZipLatestT","objectZipLatestT","inputDatas","zipM","_internalState","GLOBAL_VARS","Map","globalVar","makeEventHandler","eventHandler","makeGeneralEventHandler","eventHandlerRD","completeStateRD","_elementBasedMessageProxyMap","makeElementBasedMessageProxy","proxy","ele","document","getElementById","tempEle","createElement","style","display","body","appendChild","ElementBasedMessageProxy","onymousInnerMessageD","onymousSendM","detail","dispatchEvent","makeCustomEvent","anonymousSendM","sendedD","element","innerMessageD","sender","onymousSender","anonymousSender","namedReceiver","receiver","broadReceiver","anonymousReceiver","customizeReveiver","send","message","receive","receiveDetail","_proxy","neatenClassStr","str","replace","trim","classStrToArr","split","filter","s","classArrToObj","flat","Infinity","classStrToObj","classObjToArr","classArrToStr","join","classObjToStr","toClassStr","toClassArr","toClassObj","formatClassTo","cls","prefixClassWith","prefix","classArr","indexOf","classStr","classObj","_key","removePrefixOfClass","addClass","added","addedClassObj","targetClassObj","resClassObj","removeClass","removed","removedClassObj","toggleClass","toggled","toggledClassArr","replaceClass","replaced","replacedArr","containClass","contained","containedClassArr","targetClassArr","perf","now","round","performance","stdLineLog","curry","file","fnName","description","makeTigerLogger","textGen","text","appends","makeLinedTigerLogger","fileName","inspect","x","inspectFn","f","toString","inspectTerm","ts","k","kv","String","inspectArgs","injectScript","src","onload","removeAfterLoad","script","setAttribute","parentNode","removeChild","head","CustomEvent","eventType","pollingToGetNode","callback","node","querySelector","isInWXMINA","wx","canIUse","isInWeb","isInBrowser","isInNode","global","wxmina","adaptMultiPlatform","webFn","nodeFn","wxminaFn","defaultFn","adaptMultiPlatformAwait","domLoadedD","domLoadedRD","windowLoadedD","window","windowLoadedRD","readyStateD","readyState","readyStateRD","interactiveStateD","interactiveStateRD","completeStateD","windowResizeD","windowResizeRD","windowD","windowRD","documentD","documentRD","removeRepetition","reject","removeRepetitionOf","ofList","removeRepetitionExcept","exceptList","removeRepetitionOfEmpty","removeRepetitionOfSlash","neatenPathname","pathname","toArray","pathnameToArray","neatedPathname","pathnameToString","isPathnameStrictEqual","pathname1","pathname2","isPathnameLooseEqual","preCook","isTruthy","isPathnameEqual","mode","pathnames","allPass","prop","neatenSearch","isStartWith","neatenQueryStr","substring","queryStrToQueryObj","decodeURIComponent","queryObjToQueryStr","encodeURIComponent","searchToQueryStr","searchToQueryObj","queryStrToSearch","queryObjToSearch","toSearch","sth","toQueryStr","toQueryObj","_commonDefaultConfig","withCredentials","headers","biu","Promise","resolve","_useAxios","axios","then","response","status","statusText","catch","_useWxRequest","dataType","responseType","header","success","fail","withDataExtracted","makeErrorResponseF","isSuccessResponse","actualData","responseModifier","modifyBiuConfig","hardDeepMerge","asPostRequest","method","asGetRequest","withJSONContent","withoutCredentials","makeBaseResponse","code","code_message","status_message","formatResponseMakerFlattenArgs","objectArgs","isResponse","isResponseCode","isError","makeSuccessResponse","makeFailResponse","makeErrorResponse","makeUnknownResponse","makeSuccessResponseF","makeFailResponseF","makeUnknownResponseF","propStatusEq","propEq","hasValidResponseCode","isFailResponse","isErrorResponse","isUnknowResponse","DEFAULT_SUCCESS_RESPONSE_CODE","DEFAULT_FAIL_RESPONSE_CODE","DEFAULT_ERROR_RESPONSE_CODE","DEFAULT_UNKNOWN_RESPONSE_CODE","formatSuccessResponse","formatFailResponse","formatErrorResponse","formatUnknownResponse","formatResponse","SCOPE_MANAGERS","createScopeManager","creator","scopeMap","promiseMap","getCreator","getOptions","isRegisteredScope","scope","releaseScope","releaseManager","isStray","strayFlag","flag","registerScope","_scope","_instance","_params","instance","params","getInstance","assign","acceptPromise","_promise","makeScopeManager","manager","struct","curryS","validatorMaker","isValid","path","boolean","string","number","array","object","is","_fingerPrint","makeUniqueString","seed","fingerPrint","Date","identity","omega","constant","always","kite","a","b","y","apply","applyTo","thrush","vireo","duplication","substitution","g","substitution2","converge","h","compose2","psi","composeB","Z","Either","_value","Right","right","left","Left","isLeft","isRight","chain","ap","cata","sequence","traverse","mfn","either","_complement","argPlaceholder","isArgPlaceholder","placeholder","prototype","call","looseCurryS","args2","targetNum","internalLooseCurry","filled","innerArgs","innerArg","concat","validArgs","validLen","extraArgs","looseCurry","internalCurry","internalCurryN","internalLooseCurryN","validArgsLen","composeL","fns","composeR","pipeL","pipeR","memorize","hasher","cache","hash","invokerFactory","curryFn","looseInvoker","nAry","looseNAry","binary","looseBinary","unary","looseUnary","tap","Identity","isIdentity","IO","const","isIO","perform","performUnsafeIO","io","mIO","Maybe","just","Just","nothing","Nothing","fromNullable","isNull","fromUndefinedable","fromFalsyable","isFalsy","fromNilable","fromEmptyable","isNothing","isJust","isMaybe","orJust","orElse","dlft","maybeMonad","safe","maybe","m","isFunctor","isMonad","isApplicative","isMonoid","liftN","fnArgsLen","lifted","liftA2","liftA3","liftA4","liftA5","maybeToEither","eitherToMaybe","Task","isTask","fork","mx","shuffle","j","random","unique","union","_longer","arr1","arr2","_shorter","intersection","lookupArr","filteredArr","isDefined","variable","boo","num","isSymbol","symbol","isDate","date","getTime","isMap","isWeakMap","weakMap","isSet","isWeakSet","weakSet","isRegExp","regex","isPromise","isAsyncFn","isGeneratorFunction","isAsyncGeneratorFunction","err","isEmptyStr","isEmptyArr","isEmptyObj","isOutDated","isWindow","isDocument","EventTarget","Symbol","iterator","asUndefined","asNull","noop","and","or","not","complement","isTrue","isFalse","isNotNil","strictEquals","v1","v2","equals","looseEquals","ifElse","when","unless","iif","UNITS_DICT","year","month","week","day","hour","minute","second","millisecond","UNITS_MILLI_DICT","humanize","timestamp","milliseconds","iife","once","called","debounce","waiting","throttle","isCalling","waitFn","throttleTime","packing","range","oData","filterTruthy","filterFalsy","tests","anyPass","isEven","isOdd","maxTo","max","minTo","min","minOf","maxOf","between","truthyKeys","truthyValues","assignTo","defaultProps","getPathArray","getRes","emptifyObj","deepCopyViaJSON","parse","deepCopy","newObj","targetValue","sourceValue","smartDeepMerge","isPhoneNum","test","isTelNum","isQQId","isEmailAddress","trimRight","trimLeft","substr","isAllSpace","_randomPacket","randomString","chars","packet","semantic","equiped","equip","MobiusUtils"],"mappings":";;;;;;;;;AAAA,4FAAuC,C;;;;;;;;;;;ACA1B;;AAEb,YAAY,mBAAO,CAAC,qDAAY;AAChC,aAAa,mBAAO,CAAC,iEAAkB;AACvC,cAAc,mBAAO,CAAC,yEAAsB;AAC5C,eAAe,mBAAO,CAAC,2EAAuB;AAC9C,oBAAoB,mBAAO,CAAC,6EAAuB;AACnD,mBAAmB,mBAAO,CAAC,mFAA2B;AACtD,sBAAsB,mBAAO,CAAC,yFAA8B;AAC5D,kBAAkB,mBAAO,CAAC,yEAAqB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;AClLa;;AAEb,YAAY,mBAAO,CAAC,kDAAS;AAC7B,WAAW,mBAAO,CAAC,gEAAgB;AACnC,YAAY,mBAAO,CAAC,4DAAc;AAClC,kBAAkB,mBAAO,CAAC,wEAAoB;AAC9C,eAAe,mBAAO,CAAC,wDAAY;;AAEnC;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,eAAe,mBAAO,CAAC,kEAAiB;AACxC,oBAAoB,mBAAO,CAAC,4EAAsB;AAClD,iBAAiB,mBAAO,CAAC,sEAAmB;;AAE5C;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,oEAAkB;;AAEzC;AACA,qBAAqB,mBAAO,CAAC,gFAAwB;;AAErD;;AAEA;AACA,sBAAsB;;;;;;;;;;;;ACvDT;;AAEb;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;;;AClBa;;AAEb,aAAa,mBAAO,CAAC,2DAAU;;AAE/B;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACxDa;;AAEb;AACA;AACA;;;;;;;;;;;;ACJa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;AAChC,eAAe,mBAAO,CAAC,yEAAqB;AAC5C,yBAAyB,mBAAO,CAAC,iFAAsB;AACvD,sBAAsB,mBAAO,CAAC,2EAAmB;AACjD,kBAAkB,mBAAO,CAAC,mEAAe;;AAEzC;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA,yBAAyB;AACzB,KAAK;AACL;AACA,CAAC;;AAED;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;;;;;;;;;;;;AC9Fa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;;ACnDa;;AAEb,oBAAoB,mBAAO,CAAC,mFAA0B;AACtD,kBAAkB,mBAAO,CAAC,+EAAwB;;AAElD;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBa;;AAEb,mBAAmB,mBAAO,CAAC,qEAAgB;;AAE3C;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjBa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;AAChC,oBAAoB,mBAAO,CAAC,uEAAiB;AAC7C,eAAe,mBAAO,CAAC,uEAAoB;AAC3C,eAAe,mBAAO,CAAC,yDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;;;;;;;;;;;AC9Ea;;AAEb;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzCa;;AAEb,YAAY,mBAAO,CAAC,mDAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,2BAA2B;AAC3B,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;;;;;;;;;;;ACtFa;;AAEb,kBAAkB,mBAAO,CAAC,mEAAe;;AAEzC;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxBa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,MAAM;AACjB,WAAW,eAAe;AAC1B,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;;;;;ACnBa;;AAEb,YAAY,mBAAO,CAAC,kDAAS;AAC7B,0BAA0B,mBAAO,CAAC,8FAA+B;;AAEjE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,gEAAgB;AACtC,GAAG;AACH;AACA,cAAc,mBAAO,CAAC,iEAAiB;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,OAAO,YAAY;AACnB;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;ACjGa;;AAEb;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACVa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;ACrEa;;AAEb;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACba;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0CAA0C;AAC1C,SAAS;;AAET;AACA,4DAA4D,wBAAwB;AACpF;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,kCAAkC;AAClC,+BAA+B,aAAa,EAAE;AAC9C;AACA;AACA,KAAK;AACL;;;;;;;;;;;;ACpDa;;AAEb;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACba;;AAEb;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;;;;;;;;;;;ACVa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;ACnEa;;AAEb,YAAY,mBAAO,CAAC,mDAAU;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACXa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,eAAe;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;;;;;ACpDa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1Ba;;AAEb,WAAW,mBAAO,CAAC,gEAAgB;;AAEnC;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C,2BAA2B;AAC3B;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,4BAA4B;AAC5B,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OA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","file":"index.js","sourcesContent":["module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","export * from './atoms/base.atom.js'\r\nexport * from './atoms/data.atom.js'\r\nexport * from './atoms/mutation.atom.js'\r\n","import { pipe, compose } from '../../functional.js'\r\nimport { isObject } from '../../internal.js'\r\n\r\nexport const isAtom = tar => isObject(tar) && tar.isAtom\r\n\r\n/**\r\n * !! please consider BaseMediator when add property or method to BaseAtom\r\n */\r\nexport class BaseAtom {\r\n  get isAtom () {\r\n    return true\r\n  }\r\n\r\n  pipe (...args) {\r\n    return pipe(...args)(this)\r\n  }\r\n\r\n  compose (...args) {\r\n    return compose(...args)(this)\r\n  }\r\n}\r\n","import { isUndefined, isFunction, isObject, isEmpty } from '../../internal.js'\r\nimport { Mutator, Datar, isDatar, isMutator, isTerminator } from '../meta.js'\r\nimport { isMutation } from './mutation.atom.js'\r\nimport { BaseAtom } from './base.atom.js'\r\n\r\n/**\r\n * @param { any } tar\r\n * @return { boolean }\r\n */\r\nexport const isData = tar => isObject(tar) && tar.isData\r\n\r\nexport class Data extends BaseAtom {\r\n  constructor (value, options = {}) {\r\n    super()\r\n    if (!isObject(options)) {\r\n      throw (new TypeError(\r\n        `\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`\r\n      ))\r\n    }\r\n    this._options = options\r\n\r\n    if (isDatar(value)) {\r\n      this._datar = value\r\n    } else {\r\n      this._datar = Datar.of(value)\r\n    }\r\n    this._consumers = new Set()\r\n  }\r\n\r\n  /**\r\n   * @return { 'DataAtom' } 'DataAtom'\r\n   */\r\n  get type () { return 'DataAtom' }\r\n\r\n  /**\r\n   * @return { true } true\r\n   */\r\n  get isData () { return true }\r\n\r\n  get isEmpty () { return this._datar.isEmpty }\r\n\r\n  static of (value, options = {}) {\r\n    return new Data(value, options)\r\n  }\r\n\r\n  /**\r\n   * Same as Data.of(VACUO)\r\n   *\r\n   * @return { Data }\r\n   */\r\n  static empty (options = {}) {\r\n    return new Data(Datar.empty(), options)\r\n  }\r\n\r\n  /**\r\n   * Static value of Data.\r\n   *\r\n   * @return { Datar } datar\r\n   */\r\n  get datar () { return this._datar }\r\n  /**\r\n   * Static value of Data, same as Data.datar.value.\r\n   *\r\n   * @return { any } value\r\n   */\r\n  get value () { return this._datar.value }\r\n\r\n  /**\r\n   * Steram value of Data.\r\n   *\r\n   * @param { function } consumer The consumer will be invoked by trigger method when there is a adequate value.\r\n   * @return { { unsubscribe: function } } SubscriptionController\r\n   */\r\n  subscribe (consumer) {\r\n    this._consumers.add(consumer)\r\n    return {\r\n      unsubscribe: () => {\r\n        return this._consumers.delete(consumer)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param { Datar | undefined } datar\r\n   * @return { void }\r\n   */\r\n  trigger (datar) {\r\n    if (!isUndefined(datar) && !isDatar(datar)) {\r\n      throw (new TypeError('Data must be triggered with a Datar.'))\r\n    }\r\n    const _datar = datar || this.datar\r\n\r\n    if (!isEmpty(_datar)) {\r\n      this._consumers.forEach(consumer => {\r\n        consumer(_datar, this)\r\n      })\r\n    }\r\n  }\r\n\r\n  triggerValue (value) {\r\n    return this.trigger(Datar.of(value))\r\n  }\r\n\r\n  /**\r\n   * Change the value of Data in a stream manner.\r\n   *\r\n   * Given \"mutation\" will be **upstream** of current Data, which is different from \"beObservedBy\" method.\r\n   *\r\n   * @param { Mutation } mutation (other data ->) mutation -> current data\r\n   */\r\n  observe (mutation) {\r\n    if (!isMutation(mutation)) {\r\n      throw (new TypeError('Data can only observe a Mutation!'))\r\n    }\r\n    return mutation.subscribe((mutator, mutation) => {\r\n      this.mutate(mutator, mutation)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Change the value of Data in a stream manner.\r\n   *\r\n   * Given \"mutation\" will be **downstream** of current Data, which is different from \"observe\" method.\r\n   *\r\n   * @param { Mutation } mutation current data -> mutation (-> other data)\r\n   */\r\n  beObservedBy (mutation) {\r\n    return mutation.observe(this)\r\n  }\r\n\r\n  /**\r\n   * Change the value of Data in a static manner.\r\n   *\r\n   * take mutator-like param(convert to mutator)\r\n   *   -> run mutator with current datar & contexts\r\n   *   -> wrap and save result of mutator.run as new datar\r\n   *   -> trigger consumers with new datar & contexts\r\n   *\r\n   * @param { Mutator | Mutation | function } mutator Used to produce new value with current datar.\r\n   * @param { Mutation } mutation Provide to mutator's operation (function) as execute contexts.\r\n   * @return { Data } Data(this)\r\n   */\r\n  mutate (mutator, mutation) {\r\n    let _mutator\r\n    if (isMutator(mutator)) {\r\n      _mutator = mutator\r\n    } else if (isMutation(mutator)) {\r\n      _mutator = mutator.mutator\r\n    } else if (isFunction(mutator)) {\r\n      _mutator = Mutator.of(mutator)\r\n    } else {\r\n      throw (new TypeError(`\"mutator\" is expected to be type of \"Mutator\" | \"Mutation\" | \"Function\", but received \"${typeof mutator}\".`))\r\n    }\r\n    let _mutation\r\n    if (!mutation) {\r\n      _mutation = isMutation(mutator) ? mutator : _mutation\r\n    } else {\r\n      if (isMutation(mutation)) {\r\n        _mutation = mutation\r\n      } else {\r\n        throw (new TypeError(`\"mutation\" is expected to be type of \"Mutation\", but received \"${typeof mutation}\".`))\r\n      }\r\n    }\r\n\r\n    const _tempDatar = Datar.of(_mutator.run(this._datar, _mutation)).fill(_mutator)\r\n\r\n    // NOTE: If result of operation is TERMINATOR,\r\n    // do not update the datar or trigger the subscribers\r\n    if (!isTerminator(_tempDatar.value)) {\r\n      this._datar = _tempDatar\r\n      this.trigger()\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  /**\r\n   * @param { function } trigger Takes an internalTrigger(Function) as first parameter,\r\n   *                             invoke internalTrigger with any value will lead to\r\n   *                             Data's trigger method be triggerd with given value.\r\n   * @param { { forceWrap?: boolean } } options\r\n   * @accept ((datar -> trigger(datar)) -> controller, options)\r\n   * @accept ((value -> trigger(datar)) -> controller, { forceWrap: true })\r\n   * @return { {} } TriggerController\r\n   */\r\n  registerTrigger (trigger, options = {}) {\r\n    if (!trigger) {\r\n      throw (new TypeError(`\"trigger\" is required, but received \"${trigger}\".`))\r\n    }\r\n    if (!isFunction(trigger)) {\r\n      throw (new TypeError(`\"trigger\" is expected to be type of \"Function\", but received \"${typeof trigger}\".`))\r\n    }\r\n    if (!isObject(options)) {\r\n      throw (new TypeError(`\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n    }\r\n\r\n    const { forceWrap = false } = options\r\n\r\n    const _internalTriggerFunction = (...args) => {\r\n      if (!isDatar(args[0]) || forceWrap) {\r\n        args[0] = Datar.of(args[0])\r\n      }\r\n      return this.trigger(...args)\r\n    }\r\n\r\n    const controller = trigger(_internalTriggerFunction)\r\n    return controller\r\n  }\r\n}\r\n","import { isUndefined, isFunction, isObject, isEmpty } from '../../internal.js'\r\nimport { Mutator, Datar, isDatar, isMutator, isTerminator } from '../meta.js'\r\nimport { isData } from './data.atom.js'\r\nimport { BaseAtom } from './base.atom.js'\r\n\r\n/**\r\n * @param { any } tar\r\n * @return { boolean }\r\n */\r\nexport const isMutation = tar => isObject(tar) && tar.isMutation\r\n\r\nexport class Mutation extends BaseAtom {\r\n  constructor (operation, options = {}) {\r\n    super()\r\n    if (!isObject(options)) {\r\n      throw (new TypeError(\r\n        `\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`\r\n      ))\r\n    }\r\n    this._options = options\r\n\r\n    if (isMutator(operation)) {\r\n      this._mutator = operation\r\n    } else if (isFunction(operation)) {\r\n      this._mutator = Mutator.of(operation)\r\n    } else {\r\n      throw new TypeError(\r\n        `\"operation\" is expected to be type of \"Mutator\" | \"Function\", but received \"${typeof operation}\".`\r\n      )\r\n    }\r\n\r\n    this._consumers = new Set()\r\n  }\r\n\r\n  /**\r\n   * @return { 'MutationAtom' } 'MutationAtom'\r\n   */\r\n  get type () { return 'MutationAtom' }\r\n\r\n  /**\r\n   * @return { true } true\r\n   */\r\n  get isMutation () { return true }\r\n\r\n  get isEmpty () { return this._mutator.isEmpty }\r\n\r\n  static of (operation, options = {}) {\r\n    return new Mutation(operation, options)\r\n  }\r\n\r\n  static empty (options = {}) {\r\n    return new Mutation(Mutator.empty(), options)\r\n  }\r\n\r\n  static ofLift (operation, options = {}) {\r\n    const { liftType: type } = options\r\n    return new Mutation(Mutator.lift(operation, { type }), { ...options, isLifted: true, origin_operation: operation })\r\n  }\r\n\r\n  static ofLiftBoth (operation, options = {}) {\r\n    return new Mutation(Mutator.liftBoth(operation), { ...options, isLifted: true, origin_operation: operation })\r\n  }\r\n\r\n  static ofLiftLeft (operation, options = {}) {\r\n    return new Mutation(Mutator.liftLeft(operation), { ...options, isLifted: true, origin_operation: operation })\r\n  }\r\n\r\n  static ofLiftRight (operation, options = {}) {\r\n    return new Mutation(Mutator.liftRight(operation), { ...options, isLifted: true, origin_operation: operation })\r\n  }\r\n\r\n  /**\r\n   * Static value of Mutation.\r\n   *\r\n   * @return { Mutator } mutator\r\n   */\r\n  get mutator () { return this._mutator }\r\n  /**\r\n   * @return { function } operation\r\n   */\r\n  get operation () {\r\n    if (this._options && this._options.isLifted) {\r\n      return this._options.origin_operation\r\n    } else {\r\n      return this._mutator.operation\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Steram value of Mutation.\r\n   *\r\n   * @param { function } consumer The consumer will be invoked by trigger method when there is a adequate value.\r\n   * @return { { unsubscribe: function } } SubscriptionController\r\n   */\r\n  subscribe (consumer) {\r\n    this._consumers.add(consumer)\r\n    return {\r\n      unsubscribe: () => {\r\n        return this._consumers.delete(consumer)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param { Mutator | undefined } mutator\r\n   * @return { void }\r\n   */\r\n  trigger (mutator) {\r\n    if (!isUndefined(mutator) && !isMutator(mutator)) {\r\n      throw (new TypeError('Mutation must be triggered with a Mutator.'))\r\n    }\r\n    const _mutator = mutator || this.mutator\r\n\r\n    if (!isEmpty(_mutator)) {\r\n      this._consumers.forEach(consumer => {\r\n        consumer(_mutator, this)\r\n      })\r\n    }\r\n  }\r\n\r\n  triggerOperation (operation) {\r\n    return this.trigger(Mutator.of(operation))\r\n  }\r\n\r\n  /**\r\n   * Change the value of Mutation in a stream manner.\r\n   *\r\n   * Given \"data\" will be **upstream** of current Mutation, which is different from \"beObservedBy\" method.\r\n   *\r\n   * @param { Mutation } mutation data -> current mutation (-> other data)\r\n   */\r\n  observe (data) {\r\n    if (!isData(data)) {\r\n      throw (new TypeError('Mutation can only observe a Data!'))\r\n    }\r\n    return data.subscribe((datar, data) => {\r\n      this.mutate(datar, data)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Change the value of Mutation in a stream manner.\r\n   *\r\n   * Given \"data\" will be **downstream** of current Mutation, which is different from \"observe\" method.\r\n   *\r\n   * @param { Mutation } mutation (other data ->) current mutation -> data\r\n   */\r\n  beObservedBy (data) {\r\n    return data.observe(this)\r\n  }\r\n\r\n  /**\r\n   * Change the value of Mutation in a static manner.\r\n   *\r\n   * take datar-like param(convert to datar)\r\n   *   -> run datar with current mutator & contexts\r\n   *   -> wrap and save result of datar.run as new mutator\r\n   *   -> trigger consumers with new mutator & contexts\r\n   *\r\n   * @param { Datar | Data | any } datar Will be the 2nd param of mutator's operation.\r\n   * @param { Data } data\r\n   * @return { Mutation } Mutation(this)\r\n   */\r\n  mutate (datar, data) {\r\n    let _datar = null\r\n    if (isDatar(datar)) {\r\n      _datar = datar\r\n    } else if (isData(datar)) {\r\n      _datar = datar.datar\r\n    } else {\r\n      _datar = Datar.of(datar)\r\n    }\r\n\r\n    if (isTerminator(_datar.value)) return this\r\n\r\n    let _data\r\n    if (!data) {\r\n      _data = isData(data) ? datar : _data\r\n    } else {\r\n      if (isData(data)) {\r\n        _data = data\r\n      } else {\r\n        throw (new TypeError(`\"data\" is expected to be type of \"Data\", but received \"${typeof data}\".`))\r\n      }\r\n    }\r\n\r\n    // NOTE: 运行效果相当于：const _tempMutator = this._mutator.fill(_datar)\r\n    // 但实际意义完全不同\r\n    const _tempMutator = Mutator.of(_datar.run(this._mutator, _data)).fill(_datar)\r\n\r\n    this._mutator = _tempMutator\r\n    this.trigger()\r\n\r\n    return this\r\n  }\r\n\r\n  /**\r\n   * @param { function } trigger Takes an internalTrigger(Function) as first parameter,\r\n   *                             invoke internalTrigger with any value will lead to\r\n   *                             Mutation's trigger method be triggerd with given value.\r\n   * @param { { forceWrap?: boolean } } options\r\n   * @accept ((mutator -> trigger(mutator)) -> controller, options)\r\n   * @accept ((operation -> trigger(mutator)) -> controller, { forceWrap: true })\r\n   * @return { {} } TriggerController\r\n   */\r\n  registerTrigger (trigger, options = {}) {\r\n    if (!trigger) {\r\n      throw (new TypeError(`\"trigger\" is required, but received \"${trigger}\".`))\r\n    }\r\n    if (!isFunction(trigger)) {\r\n      throw (new TypeError(`\"trigger\" is expected to be type of \"Function\", but received \"${typeof trigger}\".`))\r\n    }\r\n    if (!isObject(options)) {\r\n      throw (new TypeError(`\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n    }\r\n\r\n    const { forceWrap = false } = options\r\n\r\n    const _internalTriggerFunction = (...args) => {\r\n      if (!isMutator(args[0]) || forceWrap) {\r\n        args[0] = Mutator.of(args[0])\r\n      }\r\n      this.trigger(...args)\r\n    }\r\n    const controller = trigger(_internalTriggerFunction)\r\n    return controller\r\n  }\r\n}\r\n","import { isObject, isArray, isFunction } from '../../internal.js'\r\nimport { looseCurryN } from '../../functional.js'\r\nimport { isAtom, Data } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param { {\r\n *   prepareOptions?: ((options: object) => object),\r\n *   prepareDriverLevelContexts?: (() => object),\r\n *   prepareSingletonLevelContexts?: ((options: object, driverLevelContexts: object) => object),\r\n *   prepareInstance: (options: object, driverLevelContexts: object, singletonLevelContexts: object) => { inputs: object, outputs: object }\r\n * } | function } createOptions\r\n * @return { (options?: {}) => { inputs: object, outputs: object } } Driver\r\n */\r\nexport const createGeneralDriver = (createOptions = {}) => {\r\n  if (!isObject(createOptions) && !isFunction(createOptions)) {\r\n    throw (new TypeError(`\"createOptions\" is expected to be type of \"Object\" | \"Function\", but received \"${typeof createOptions}\".`))\r\n  }\r\n  if (isFunction(createOptions)) {\r\n    createOptions = { prepareSingletonLevelContexts: createOptions }\r\n  }\r\n\r\n  const {\r\n    prepareOptions = options => options,\r\n    prepareDriverLevelContexts = () => ({}),\r\n    prepareSingletonLevelContexts = _ => ({}),\r\n    prepareInstance = (_0, _1, singletonLevelContexts) => ({ ...singletonLevelContexts })\r\n  } = createOptions\r\n\r\n  if (!isFunction(prepareOptions)) {\r\n    throw (new TypeError(`\"prepareOptions\" is expected to be type of \"Function\", but received \"${typeof prepareOptions}\".`))\r\n  }\r\n  if (!isFunction(prepareDriverLevelContexts)) {\r\n    throw (new TypeError(`\"prepareDriverLevelContexts\" is expected to be type of \"Function\", but received \"${typeof prepareDriverLevelContexts}\".`))\r\n  }\r\n  if (!isFunction(prepareSingletonLevelContexts)) {\r\n    throw (new TypeError(`\"prepareSingletonLevelContexts\" is expected to be type of \"Function\", but received \"${typeof prepareSingletonLevelContexts}\".`))\r\n  }\r\n  if (!isFunction(prepareInstance)) {\r\n    throw (new TypeError(`\"prepareInstance\" is expected to be type of \"Function\", but received \"${typeof prepareInstance}\".`))\r\n  }\r\n\r\n  const driverLevelContexts = prepareDriverLevelContexts()\r\n  if (!isObject(driverLevelContexts)) {\r\n    throw (new TypeError(`\"driverLevelContexts\" is expected to be type of \"Object\", but received \"${typeof driverLevelContexts}\"`))\r\n  }\r\n\r\n  /**\r\n   * @param { object? } options In order to clarify the role of each configuration item,\r\n   *                            the configuration is best to be in object format.\r\n   * @return { { inputs: object, outputs: object } } DriverInterfaces\r\n   */\r\n  const driver = (options = {}) => {\r\n    if (!isObject(options)) {\r\n      throw (new TypeError(`\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n    }\r\n\r\n    options = prepareOptions(options)\r\n    if (!isObject(options)) {\r\n      throw (new TypeError(`The returned value of \"prepareOptions\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n    }\r\n\r\n    const singletonLevelContexts = prepareSingletonLevelContexts(options, driverLevelContexts)\r\n    if (!isObject(singletonLevelContexts)) {\r\n      throw (new TypeError(`\"singletonLevelContexts\" is expected to be type of \"Object\", but received \"${typeof singletonLevelContexts}\"`))\r\n    }\r\n\r\n    const { inputs = {}, outputs = {} } = singletonLevelContexts\r\n    if (!isObject(inputs)) {\r\n      throw (new TypeError(`\"inputs\" returned as singletonLevelContexts is expected to be type of \"Object\", but received \"${typeof inputs}\"`))\r\n    }\r\n    if (!isObject(outputs)) {\r\n      throw (new TypeError(`\"outputs\" returned as singletonLevelContexts is expected to be type of \"Object\", but received \"${typeof outputs}\"`))\r\n    }\r\n\r\n    const driverInterfaces = prepareInstance(options, driverLevelContexts, singletonLevelContexts)\r\n\r\n    return driverInterfaces\r\n  }\r\n\r\n  return driver\r\n}\r\n\r\nconst formatInterfaces = interfaces => {\r\n  if (!isObject(interfaces)) {\r\n    throw (new TypeError(`\"interfaces\" is expected to be type of \"Object\", but received \"${typeof interfaces}\"`))\r\n  }\r\n  const { inputs: { ...inputs } = {}, outputs: { ...outputs } = {} } = interfaces\r\n\r\n  if (!isObject(inputs)) {\r\n    throw (new TypeError(`\"inputs\" of interfaces is expected to be type of \"Object\", but received \"${typeof inputs}\"`))\r\n  }\r\n  if (!isObject(outputs)) {\r\n    throw (new TypeError(`\"outputs\" of interfaces is expected to be type of \"Object\", but received \"${typeof outputs}\"`))\r\n  }\r\n\r\n  Object.entries(interfaces).forEach(([key, value]) => {\r\n    if (key !== 'inputs' && key !== 'outputs') {\r\n      inputs[key] = value\r\n    }\r\n  })\r\n\r\n  return { inputs: { ...inputs }, outputs: { ...outputs } }\r\n}\r\n\r\nexport const connectInterfaces = (up, down) => {\r\n  const normalize = value => isAtom(value) ? replayWithLatest(1, value) : replayWithLatest(1, Data.of(value))\r\n\r\n  // The up & down value are expected to be type of Atom,\r\n  //   -> one of the up | down value is required to be type of Atom at least.\r\n  //   -> cause there is no way to get the auto-generated down Atom.\r\n  if (isAtom(up) && !isAtom(down)) {\r\n    if (isArray(down)) {\r\n      down.forEach(i => {\r\n        if (isAtom(i)) {\r\n          binaryTweenPipeAtom(normalize(up), i)\r\n        } else {\r\n          // do nothing\r\n        }\r\n      })\r\n    } else {\r\n      // do nothing\r\n    }\r\n  } else if (isAtom(up) && isAtom(down)) {\r\n    // downstream atom do not need to be replayable\r\n    binaryTweenPipeAtom(normalize(up), down)\r\n  } else if (!isAtom(up) && isAtom(down)) {\r\n    binaryTweenPipeAtom(normalize(up), down)\r\n  } else if (isObject(up) && isObject(down)) {\r\n    Object.entries(up).forEach(([key, value]) => {\r\n      if (down[key]) {\r\n        connectInterfaces(value, down[key])\r\n      }\r\n    })\r\n  } else if (isArray(up) && isArray(down)) {\r\n    up.forEach((value, idx) => {\r\n      if (down[idx]) {\r\n        connectInterfaces(value, down[idx])\r\n      }\r\n    })\r\n  } else {\r\n    throw (new TypeError(\r\n      'The up interfaces & down interfaces are expected to be the type combinations as follows:' +\r\n      ' (Atom, Any) | (Any, Atom) | (Object | Object) | (Array | Array).'\r\n    ))\r\n  }\r\n}\r\n/**\r\n * @param { function } driver\r\n * @param { { } } driverOptions\r\n * @param { { inputs?: object, outputs?: object } } interfaces\r\n * @return { { inputs: object, outputs: object, ... } }\r\n */\r\nexport const useGeneralDriver = looseCurryN(3, (driver, driverOptions, interfaces) => {\r\n  const driverInterfaces = driver(driverOptions)\r\n\r\n  const { inputs: { ...innerInputs } = {}, outputs: { ...innerOutputs } = {}, ...others } = { ...driverInterfaces }\r\n  const { inputs: { ...outerInputs } = {}, outputs: { ...outerOutputs } = {} } = { ...formatInterfaces(interfaces) }\r\n\r\n  connectInterfaces(outerInputs, innerInputs)\r\n  connectInterfaces(innerOutputs, outerOutputs)\r\n\r\n  return { inputs: innerInputs, outputs: innerOutputs, ...others }\r\n})\r\n","import { invoker, flip, curryN } from '../functional.js'\r\nimport { isAtom, isData, isMutation, Mutation, Data } from './atom.js'\r\nimport { isMediator } from './mediators.js'\r\n\r\nexport * from './helpers/normal-create.helpers.js'\r\nexport * from './helpers/batch-create.helpers.js'\r\nexport * from './helpers/hybrid-create.helpers.js'\r\nexport * from './helpers/derive-create.helpers.js'\r\nexport * from './helpers/transform.helpers.js'\r\n\r\nexport const observe = invoker(2, 'observe')\r\nexport const beObservedBy = invoker(2, 'beObservedBy')\r\n\r\nexport const getAtomType = tar => {\r\n  return isMediator(tar) ? getAtomType(tar.atom) : tar.type\r\n}\r\n\r\nexport const isSameTypeOfAtom = curryN(2, (tarA, tarB) => {\r\n  if (!isAtom(tarA) || !isAtom(tarB)) {\r\n    return false\r\n  } else {\r\n    const atomTypeA = getAtomType(tarA)\r\n    const atomTypeB = getAtomType(tarB)\r\n    return atomTypeA === atomTypeB\r\n  }\r\n})\r\nexport const isSameTypeOfMediator = curryN(2, (tarA, tarB) => isMediator(tarA) && isMediator(tarB) && tarA.type === tarB.type)\r\n\r\nexport const pipeAtom = (...args) => {\r\n  args.reverse().forEach((cur, idx, all) => {\r\n    if (idx >= 1) {\r\n      cur.beObservedBy(all[idx - 1])\r\n    }\r\n  })\r\n  return args[args.length - 1]\r\n}\r\n\r\nexport const composeAtom = (...args) => {\r\n  args.forEach((cur, idx, all) => {\r\n    if (idx >= 1) {\r\n      cur.beObservedBy(all[idx - 1])\r\n    }\r\n  })\r\n  return args[0]\r\n}\r\n\r\n/**\r\n * Automatically pipe two atom\r\n *\r\n * - if they are in the different type, use normal pipe logic\r\n * - if they are in the same type, create a tween atom between them,\r\n *   then use normal pipe logic to three atom\r\n *   - for Data atom, tween atom is the type of Mutation (asIs Mutation)\r\n *   - for Mutation atom, tween atom is the type of Data\r\n *\r\n * @param upstreamAtom Atom, i.e. Data | Mutation\r\n * @param downstreamAtom Atom, i.e. Data | Mutation\r\n * @return downstreamAtom\r\n */\r\nexport const binaryTweenPipeAtom = (upstreamAtom, downstreamAtom) => {\r\n  if (!isAtom(upstreamAtom)) {\r\n    throw (new TypeError('\"upstreamAtom\" argument of binaryTweenPipeAtom are expected to be type of \"Mutation\" or \"Data\".'))\r\n  }\r\n  if (!isAtom(downstreamAtom)) {\r\n    throw (new TypeError('\"downstreamAtom\" argument of binaryTweenPipeAtom are expected to be type of \"Mutation\" or \"Data\".'))\r\n  }\r\n\r\n  if (!isSameTypeOfAtom(upstreamAtom, downstreamAtom)) {\r\n    // data, mutation\r\n    // mutation, data\r\n    return pipeAtom(upstreamAtom, downstreamAtom)\r\n  } else {\r\n    // data, data\r\n    // mutation, mutation\r\n    let tweenAtom\r\n    if (isData(upstreamAtom)) {\r\n      tweenAtom = Mutation.ofLiftLeft(v => v)\r\n    } else if (isMutation(upstreamAtom)) {\r\n      tweenAtom = Data.empty()\r\n    } else {\r\n      throw (new TypeError('Unexpected type of Atom detected!'))\r\n    }\r\n    return pipeAtom(upstreamAtom, tweenAtom, downstreamAtom)\r\n  }\r\n}\r\n\r\n/**\r\n * Automatically compose two atom\r\n *\r\n * - if they are in the different type, use normal compose logic\r\n * - if they are in the same type, create a tween atom between them,\r\n *   then use normal compose logic to three atom\r\n *   - for Data atom, tween atom is the type of Mutation (asIs Mutation)\r\n *   - for Mutation atom, tween atom is the type of Data\r\n *\r\n * @param downstreamAtom Atom, i.e. Data | Mutation\r\n * @param upstreamAtom Atom, i.e. Data | Mutation\r\n * @return downstreamAtom\r\n */\r\nexport const binaryTweenComposeAtom = flip(binaryTweenPipeAtom)\r\n\r\nexport const nAryTweenPipeAtom = (...args) => {}\r\nexport const nAryTweenComposeAtom = (...args) => {}\r\n\r\nexport const binaryLiftPipeAtom = () => {}\r\nexport const binaryLiftComposeAtom = () => {}\r\n\r\nexport const nAryLiftPipeAtom = (...args) => {}\r\nexport const nAryLiftComposeAtom = (...args) => {}\r\n\r\nexport const binaryHyperPipeAtom = () => {}\r\nexport const binaryHyperComposeAtom = () => {}\r\n\r\nexport const nAryHyperPipeAtom = (...args) => {}\r\nexport const nAryHyperComposeAtom = (...args) => {}\r\n","import { isArray, isObject, isFunction } from '../../internal.js'\r\nimport { looseCurryN } from '../../functional.js'\r\nimport { isMutator } from '../meta.js'\r\nimport { Data, Mutation, isData, isMutation, isAtom } from '../atom.js'\r\nimport { mutationToDataS, dataToMutationS } from './transform.helpers.js'\r\n\r\n/**\r\n * items will be wrapped in Data.\r\n */\r\nconst forceWrapToData = (item) => Data.of(item)\r\n/**\r\n * Mutations will be transform to Data, Datas will not be handled, other values will be wrapped in Data.\r\n */\r\nconst wrapToData = (item) => isData(item) ? item : (isMutation(item) ? mutationToDataS(item) : Data.of(item))\r\n/**\r\n * forceWrap - true: items will be wrapped in Data.\r\n *\r\n * forceWrap - false: Mutations will be transform to Data, Datas will not be handled, other values will be wrapped in Data.\r\n */\r\nexport const createDataInArray = looseCurryN(1, (arr, options = {}) => {\r\n  if (!isArray(arr)) {\r\n    throw new TypeError(`\"arr\" argument in createDataInArray is expected to be type of \"Array\", but received ${typeof arr}.`)\r\n  }\r\n\r\n  const { forceWrap = false } = options\r\n\r\n  const wrapFn = forceWrap ? forceWrapToData : wrapToData\r\n  return arr.map(wrapFn)\r\n})\r\n/**\r\n * forceWrap - true: items will be wrapped in Data.\r\n *\r\n * forceWrap - false: Mutations will be transform to Data, Datas will not be handled, other values will be wrapped in Data.\r\n */\r\nexport const createDataInObject = looseCurryN(1, (obj, options = { }) => {\r\n  if (!isObject(obj)) {\r\n    throw new TypeError(`\"obj\" argument in createDataInObject is expected to be type of \"Objcet\", but received ${typeof obj}.`)\r\n  }\r\n  const { forceWrap = false } = options\r\n  const result = {}\r\n\r\n  const wrapFn = forceWrap ? forceWrapToData : wrapToData\r\n  Object.entries(obj).map(([key, value]) => {\r\n    result[key] = wrapFn(value)\r\n  })\r\n\r\n  return result\r\n})\r\n\r\n/**\r\n * Datas will be transform to Mutation, Mutations will not be handled, other values will be wrapped in Mutation.\r\n */\r\nconst forceWrapToMutation = (item) => Mutation.of(() => item)\r\n/**\r\n * items will be wrapped in Mutation.\r\n */\r\nconst wrapToMutation = (item) => {\r\n  if (isData(item)) {\r\n    return dataToMutationS(item)\r\n  } else if (isMutation(item)) {\r\n    return item\r\n  } else if (isMutator(item)) {\r\n    return Mutation.of(item)\r\n  } else if (isFunction(item)) {\r\n    return Mutation.ofLiftBoth(item)\r\n  } else {\r\n    return Mutation.of(() => item)\r\n  }\r\n}\r\n/**\r\n * forceWrap - true: items will be wrapped in Mutation.\r\n *\r\n * forceWrap - false: Datas will be transform to Mutation, Mutations will not be handled, other values will be wrapped in Mutation.\r\n */\r\nexport const createMutationInArray = looseCurryN(1, (arr, options = {}) => {\r\n  if (!isArray(arr)) {\r\n    throw new TypeError(`\"arr\" argument in createMutationInArray is expected to be type of \"Array\", but received ${typeof arr}.`)\r\n  }\r\n  const { forceWrap = false } = options\r\n\r\n  const wrapFn = forceWrap ? forceWrapToMutation : wrapToMutation\r\n  return arr.map(wrapFn)\r\n})\r\n/**\r\n * forceWrap - true: items will be wrapped in Mutation.\r\n *\r\n * forceWrap - false: Datas will be transform to Mutation, Mutations will not be handled, other values will be wrapped in Mutation.\r\n */\r\nexport const createMutationInObject = looseCurryN(1, (obj, options = {}) => {\r\n  if (!isObject(obj)) {\r\n    throw new TypeError(`\"obj\" argument in createMutationInObject is expected to be type of \"Objcet\", but received ${typeof obj}.`)\r\n  }\r\n  const { forceWrap = false } = options\r\n\r\n  const result = {}\r\n  const wrapFn = forceWrap ? forceWrapToMutation : wrapToMutation\r\n  Object.entries(obj).map(([key, value]) => {\r\n    result[key] = wrapFn(value)\r\n  })\r\n\r\n  return result\r\n})\r\n\r\n/**\r\n * functions will be wrapped in Mutation, other values will be wrapped in Data.\r\n */\r\nconst forceWrapToAtom = (item) => Data.of(item)\r\n\r\n/**\r\n * Atoms will not be handled, functions will be wrapped in Mutation, other values will be wrapped in Data.\r\n */\r\nconst wrapToAtom = (item) => {\r\n  if (isAtom(item)) {\r\n    return item\r\n  } else if (isMutator(item)) {\r\n    return Mutation.of(item)\r\n  } else if (isFunction(item)) {\r\n    return Mutation.ofLiftBoth(item)\r\n  } else {\r\n    return Data.of(item)\r\n  }\r\n}\r\n\r\n/**\r\n * forceWrap - true: functions will be wrapped in Mutation, other values will be wrapped in Data.\r\n *\r\n * forceWrap - false: Atoms will not be handled, functions will be wrapped in Mutation, other values will be wrapped in Data.\r\n */\r\nexport const createAtomInArray = looseCurryN(1, (arr, options = {}) => {\r\n  if (!isArray(arr)) {\r\n    throw new TypeError(`\"arr\" argument in createAtomInArray is expected to be type of \"Array\", but received ${typeof arr}.`)\r\n  }\r\n  const { forceWrap = false } = options\r\n\r\n  const wrapFn = forceWrap ? forceWrapToAtom : wrapToAtom\r\n  return arr.map(wrapFn)\r\n})\r\n/**\r\n * forceWrap - true: functions will be wrapped in Mutation, other values will be wrapped in Data.\r\n *\r\n * forceWrap - false: Atoms will not be handled, functions will be wrapped in Mutation, other values will be wrapped in Data.\r\n */\r\nexport const createAtomInObject = looseCurryN(1, (obj, options = {}) => {\r\n  if (!isObject(obj)) {\r\n    throw new TypeError(`\"obj\" argument in createMutationInObject is expected to be type of \"Objcet\", but received ${typeof obj}.`)\r\n  }\r\n  const { forceWrap = false } = options\r\n\r\n  const result = {}\r\n  const wrapFn = forceWrap ? forceWrapToAtom : wrapToAtom\r\n  Object.entries(obj).map(([key, value]) => {\r\n    result[key] = wrapFn(value)\r\n  })\r\n\r\n  return result\r\n})\r\n","import {\r\n  isString, isFunction, isBoolean, isNumber, isObject,\r\n  isEventTarget, isObservable, isGeneralObject, isIterable,\r\n  hasOwnProperty, asIs\r\n} from '../../internal.js'\r\nimport { compose } from '../../functional.js'\r\nimport { createDataWithTrigger, createMutationWithTrigger } from './hybrid-create.helpers.js'\r\n\r\n/************************************************************************************************************************\r\n *                                                 IterableTrigger creators\r\n ************************************************************************************************************************/\r\n/**\r\n * @param iterable Iterable, which values will be trigged in sequence\r\n * @param autoStart Boolean, optional, default to false, indicate if the iterable will be iterated automatically\r\n * @param repeatable Boolean, optional, defautl to true, indicate if the iterable will be iterated repeatedly\r\n * @param handler Function, optional, default to asIS, will be apply to values before them passed to trigger\r\n */\r\nexport const createIterableTrigger = ({ iterable, handler = asIs, autoStart = false, repeatable = true } = {}) => {\r\n  if (!isFunction(handler)) {\r\n    throw (new TypeError('\"handler\" is expected to be a Function.'))\r\n  }\r\n  if (!isIterable(iterable)) {\r\n    throw (new TypeError('\"iterable\" is expected to be iterable.'))\r\n  }\r\n\r\n  const iterateState = { times: 0, done: false, values: [] }\r\n  const internalTriggers = new WeakSet()\r\n\r\n  const iterate = () => {\r\n    try {\r\n      iterateState.values = [...iterable]\r\n      iterateState.values.forEach(i => {\r\n        internalTriggers.forEach(trigger => {\r\n          trigger(handler(i))\r\n        })\r\n      })\r\n      iterateState.done = true\r\n      iterateState.times += 1\r\n    } catch (error) {\r\n    }\r\n\r\n    return iterateState\r\n  }\r\n\r\n  return internalTrigger => {\r\n    internalTriggers.add(internalTrigger)\r\n\r\n    if (autoStart) {\r\n      iterate()\r\n    }\r\n\r\n    return {\r\n      start: () => {\r\n        if (repeatable || iterateState.times === 0) {\r\n          iterate()\r\n        }\r\n        return iterateState\r\n      },\r\n      cancel: () => {}\r\n    }\r\n  }\r\n}\r\nexport const formatIterableTriggerCreatorFlatArgs = (...args) => {\r\n  let res = {}\r\n\r\n  if (args.length === 1) {\r\n    // accept ({ iterable, ... })\r\n    // accept (Any)\r\n    if (isObject(args[0]) && hasOwnProperty('iterable', args[0])) {\r\n      res = args[0]\r\n    } else {\r\n      res = { iterable: args[0] }\r\n    }\r\n  } else if (args.length > 1) {\r\n    const argsKeyList = ['autoStart', 'repeatable']\r\n    args.forEach(arg => {\r\n      if (isIterable(arg)) {\r\n        res.iterable = res.iterable || arg\r\n      } else if (isFunction(arg)) {\r\n        res.handler = res.handler || arg\r\n      } else if (isBoolean(arg)) {\r\n        res[argsKeyList.shift()] = arg\r\n      }\r\n    })\r\n  }\r\n\r\n  return res\r\n}\r\nexport const createIterableTriggerF = compose(createIterableTrigger, formatIterableTriggerCreatorFlatArgs)\r\nexport const createDataFromIterable = compose(createDataWithTrigger, createIterableTriggerF)\r\nexport const createMutationFromIterable = compose(createMutationWithTrigger, createIterableTriggerF)\r\n\r\n/************************************************************************************************************************\r\n *                                                 EventTrigger creators\r\n ************************************************************************************************************************/\r\n/**\r\n * @param target EventTarget, which has addEventListener method & removeEventListener method\r\n * @param type String, event type which will pass as first argument of addEventListener & removeEventListener\r\n * @param handler Function, optional, default to asIS, will be apply to event argument before it passed to trigger\r\n * @return Trigger\r\n */\r\nexport const createEventTrigger = ({ target, type, handler = asIs } = {}) => {\r\n  if (!isFunction(handler)) {\r\n    throw (new TypeError('\"handler\" is expected to be a Function.'))\r\n  }\r\n  if (!isEventTarget(target)) {\r\n    throw (new TypeError('\"target\" is expected to be an instance of EventTarget.'))\r\n  }\r\n  return internalTrigger => {\r\n    const listener = e => {\r\n      internalTrigger(handler(e))\r\n    }\r\n    target.addEventListener(type, listener)\r\n    return {\r\n      cancel: () => {\r\n        target.removeEventListener(type, listener)\r\n      }\r\n    }\r\n  }\r\n}\r\nexport const formatEventTriggerCreatorFlatArgs = (...args) => {\r\n  let res = {}\r\n\r\n  if (args.length === 1) {\r\n    // accept ({ target: EventTarget, ... })\r\n    // accept (Any)\r\n    if (isObject(args[0]) && hasOwnProperty('target', args[0])) {\r\n      res = args[0]\r\n    } else {\r\n      res = { target: args[0] }\r\n    }\r\n  } else if (args.length > 1) {\r\n    args.forEach(arg => {\r\n      if (isGeneralObject(arg)) {\r\n        res.target = res.target || arg\r\n      } else if (isString(arg)) {\r\n        res.type = res.type || arg\r\n      } else if (isFunction(arg)) {\r\n        res.handler = res.handler || arg\r\n      }\r\n    })\r\n  }\r\n\r\n  return res\r\n}\r\nexport const createEventTriggerF = compose(createEventTrigger, formatEventTriggerCreatorFlatArgs)\r\nexport const createDataFromEvent = compose(createDataWithTrigger, createEventTriggerF)\r\nexport const createMutationFromEvent = compose(createMutationWithTrigger, createEventTriggerF)\r\n\r\n/************************************************************************************************************************\r\n *                                                 IntervalTrigger creators\r\n ************************************************************************************************************************/\r\n/**\r\n * @param start Number, optional, default to 0, (in millisecond) will be the start value of interval value\r\n * @param step Number, optional, default to 1000, (in millisecond) will add to start value when interval goes\r\n * @param interval Number, optional, default to 1000, (in millisecond) will be the ms argument of setInterval\r\n * @param autoStart Boolean, optional, default to true, indicate if the interval will auto start\r\n * @param handler Function, optional, default to asIs, will be apply to interval value before it passed to trigger\r\n * @return Trigger\r\n */\r\nexport const createIntervalTrigger = ({ handler = asIs, start = 0, step = 1000, interval = 1000, autoStart = true } = {}) => {\r\n  if (!isFunction(handler)) {\r\n    throw (new TypeError('\"handler\" is expected to be a Function.'))\r\n  }\r\n  let i = start\r\n  let timer = 0\r\n  let started = false\r\n  const internalTriggers = new WeakSet()\r\n\r\n  const startInterval = () => {\r\n    started = true\r\n    try {\r\n      timer = setInterval(() => {\r\n        i += step\r\n        internalTriggers.forEach(trigger => {\r\n          trigger(handler(i))\r\n        })\r\n      }, interval)\r\n    } catch (error) {\r\n      started = false\r\n    }\r\n\r\n    return timer\r\n  }\r\n\r\n  return internalTrigger => {\r\n    internalTriggers.add(internalTrigger)\r\n\r\n    if (!started && autoStart) {\r\n      startInterval()\r\n    }\r\n\r\n    return {\r\n      start: () => {\r\n        if (!started) {\r\n          return startInterval()\r\n        }\r\n        return timer\r\n      },\r\n      cancel: () => {\r\n        clearInterval(timer)\r\n      }\r\n    }\r\n  }\r\n}\r\nexport const formatIntervalTriggerCreatorFlatArgs = (...args) => {\r\n  let res = {}\r\n\r\n  if (args.length === 1) {\r\n    if (isObject(args[0])) {\r\n      res = args[0]\r\n    }\r\n  } else if (args.length > 1) {\r\n    const argsKeyList = ['start', 'step', 'interval', 'autoStart', 'handler']\r\n    args.forEach((val) => {\r\n      if (isFunction(val)) {\r\n        res.handler = res.handler || val\r\n      } else {\r\n        res[argsKeyList.shift()] = val\r\n      }\r\n    })\r\n  }\r\n\r\n  return res\r\n}\r\nexport const createIntervalTriggerF = compose(createIntervalTrigger, formatIntervalTriggerCreatorFlatArgs)\r\nexport const createDataFromInterval = compose(createDataWithTrigger, createIntervalTriggerF)\r\nexport const createMutationFromInterval = compose(createMutationWithTrigger, createIntervalTriggerF)\r\n\r\n/************************************************************************************************************************\r\n *                                                 TimeoutTrigger creators\r\n ************************************************************************************************************************/\r\n/**\r\n * @param timeout Number, required, (in millisecond) will be the ms argument of setTimeout\r\n * @param autoStart Boolean, optional, default to true, indicate if the timeout will auto start\r\n * @param handler Function, optional, default to asIs, result of its execution will be passed to trigger\r\n * @return Trigger\r\n */\r\nexport const createTimeoutTrigger = ({ timeout, handler = asIs, autoStart = true } = {}) => {\r\n  if (!isFunction(handler)) {\r\n    throw (new TypeError('\"handler\" is expected to be a Function.'))\r\n  }\r\n  if (!isNumber(timeout)) {\r\n    throw (new TypeError('\"timeout\" is required and expected to be a Number.'))\r\n  }\r\n\r\n  let started = false\r\n  let timer = 0\r\n  const internalTriggers = new WeakSet()\r\n\r\n  const start = () => {\r\n    started = true\r\n    try {\r\n      timer = setTimeout(() => {\r\n        internalTriggers.forEach(trigger => {\r\n          trigger(handler())\r\n        })\r\n      }, timeout)\r\n    } catch (error) {\r\n      started = false\r\n    }\r\n\r\n    return timer\r\n  }\r\n\r\n  return internalTrigger => {\r\n    internalTriggers.add(internalTrigger)\r\n\r\n    if (!started && autoStart) {\r\n      start()\r\n    }\r\n\r\n    return {\r\n      start: () => {\r\n        if (!started) {\r\n          return start()\r\n        }\r\n        return timer\r\n      },\r\n      cancel: () => {\r\n        clearTimeout(timer)\r\n      }\r\n    }\r\n  }\r\n}\r\nexport const formatTimeoutTriggerCreatorFlatArgs = (...args) => {\r\n  let res = {}\r\n\r\n  if (args.length === 1) {\r\n    if (isObject(args[0])) {\r\n      res = args[0]\r\n    }\r\n  } else if (args.length > 1) {\r\n    args.forEach(arg => {\r\n      if (isNumber(arg)) {\r\n        res.timeout = hasOwnProperty('timeout', res) ? res.timeout : arg\r\n      } else if (isFunction(arg)) {\r\n        res.handler = hasOwnProperty('handler', res) ? res.handler : arg\r\n      } else if (isBoolean(arg)) {\r\n        res.autoStart = hasOwnProperty('autoStart', res) ? res.autoStart : arg\r\n      }\r\n    })\r\n  }\r\n\r\n  return res\r\n}\r\nexport const createTimeoutTriggerF = compose(createTimeoutTrigger, formatTimeoutTriggerCreatorFlatArgs)\r\nexport const createDataFromTimeout = compose(createDataWithTrigger, createTimeoutTriggerF)\r\nexport const createMutationFromTimeout = compose(createMutationWithTrigger, createTimeoutTriggerF)\r\n\r\n/************************************************************************************************************************\r\n *                                                 ObservableTrigger creators\r\n ************************************************************************************************************************/\r\n/**\r\n * @param observable Observable, required\r\n * @param autoStart Boolean, optional, default to true, indicate if the Observable will be subscribed automatically\r\n * @param handler Function, optional, default to asIs, will be apply to emitted value of Observable before it passed to trigger\r\n * @return Trigger\r\n */\r\nexport const createObservableTrigger = ({ observable, handler = asIs, autoStart = true }) => {\r\n  if (!isFunction(handler)) {\r\n    throw (new TypeError('\"handler\" is expected to be a Function.'))\r\n  }\r\n  if (!isObservable(observable)) {\r\n    throw (new TypeError('\"observable\" is expected to be an observable object which implements the subscribe method.'))\r\n  }\r\n\r\n  let started = false\r\n  let subscription\r\n  const internalTriggers = new WeakSet()\r\n\r\n  const start = () => {\r\n    try {\r\n      started = true\r\n      subscription = observable.subscribe(val => {\r\n        internalTriggers.forEach(trigger => {\r\n          trigger(handler(val))\r\n        })\r\n      })\r\n    } catch (error) {\r\n      started = false\r\n    }\r\n    return subscription\r\n  }\r\n\r\n  return internalTrigger => {\r\n    internalTriggers.add(internalTrigger)\r\n\r\n    if (!started && autoStart) {\r\n      start()\r\n    }\r\n\r\n    return {\r\n      start: () => {\r\n        if (!started) {\r\n          return start()\r\n        }\r\n        return subscription\r\n      },\r\n      cancel: () => {\r\n        return subscription.unsubscribe()\r\n      }\r\n    }\r\n  }\r\n}\r\nexport const formatObservableTriggerCreatorFlatArgs = (...args) => {\r\n  let res = {}\r\n\r\n  if (args.length === 1) {\r\n    if (isObject(args[0])) {\r\n      res = args[0]\r\n    }\r\n  } else if (args.length > 1) {\r\n    args.forEach(arg => {\r\n      if (isObservable(arg)) {\r\n        res.observable = hasOwnProperty('observable', res) ? res.observable : arg\r\n      } else if (isFunction(arg)) {\r\n        res.handler = hasOwnProperty('handler', res) ? res.handler : arg\r\n      } else if (isBoolean(arg)) {\r\n        res.autoStart = hasOwnProperty('autoStart', res) ? res.autoStart : arg\r\n      }\r\n    })\r\n  }\r\n  return res\r\n}\r\nexport const createObservableTriggerF = compose(createObservableTrigger, formatObservableTriggerCreatorFlatArgs)\r\nexport const createDataFromObservable = compose(createDataWithTrigger, createObservableTriggerF)\r\nexport const createMutationFromObservable = compose(createMutationWithTrigger, createObservableTriggerF)\r\n\r\n/************************************************************************************************************************\r\n *                                                 normal function trigger creators\r\n ************************************************************************************************************************/\r\n/**\r\n * @param agent Function, required, which takes emitFunction as argument, it will execute in create process\r\n * @param autoStart Boolean, optional, default to true, indicate if the shouldEmit will be set to true initially\r\n * @param handler Function, optional, default to asIs, will be apply to emitted value of emitFunction before it passed to trigger\r\n * @return Trigger\r\n */\r\nexport const createFunctionTrigger = ({ agent, handler = asIs, autoStart = true }) => {\r\n  if (!isFunction(agent)) {\r\n    throw (new TypeError('\"agent\" is expected to be a Function.'))\r\n  }\r\n  if (!isFunction(handler)) {\r\n    throw (new TypeError('\"handler\" is expected to be a Function.'))\r\n  }\r\n\r\n  let shouldEmit = autoStart\r\n\r\n  return internalTrigger => {\r\n    let emitFunction = (...args) => {\r\n      if (shouldEmit) {\r\n        internalTrigger(handler(...args))\r\n      }\r\n    }\r\n    agent(emitFunction)\r\n    return {\r\n      start: () => { shouldEmit = true },\r\n      pause: () => { shouldEmit = false },\r\n      cancel: () => {\r\n        shouldEmit = false\r\n        emitFunction = null\r\n      }\r\n    }\r\n  }\r\n}\r\nexport const formatFunctionTriggerCreatorFlatArgs = (...args) => {\r\n  let res = {}\r\n\r\n  if (args.length === 1) {\r\n    if (isObject(args[0])) {\r\n      res = args[0]\r\n    } else if (isFunction(args[0])) {\r\n      res.agent = args[0]\r\n    }\r\n  } else if (args.length > 1) {\r\n    args.forEach(arg => {\r\n      if (isFunction(arg)) {\r\n        if (!res.agent) {\r\n          res.agent = arg\r\n        } else if (!res.handler) {\r\n          res.handler = arg\r\n        }\r\n      } else if (isBoolean(arg)) {\r\n        res.autoStart = hasOwnProperty('autoStart', res) ? res.autoStart : arg\r\n      }\r\n    })\r\n  }\r\n  return res\r\n}\r\nexport const createFunctionTriggerF = compose(createFunctionTrigger, formatFunctionTriggerCreatorFlatArgs)\r\nexport const createDataFromFunction = compose(createDataWithTrigger, createFunctionTriggerF)\r\nexport const createMutationFromFunction = compose(createMutationWithTrigger, createFunctionTriggerF)\r\n","import { looseCurryN } from '../../functional.js'\r\nimport { Data, Mutation } from '../atom.js'\r\nimport { ReplayMediator, TriggerMediator } from '../mediators.js'\r\n\r\n/**\r\n * create mediator of given atom, then return array of given atom & created mediator\r\n *\r\n * @param atom Atom\r\n * @param mediator Mediator\r\n * @param options optional, options of specified Mediator\r\n */\r\nexport const withMediator = looseCurryN(2, (atom, mediator, options) => {\r\n  const _mediator = mediator.of(atom, options)\r\n  return [atom, _mediator]\r\n})\r\n\r\nexport const withReplayMediator = looseCurryN(1, (atom, options = {}) => withMediator(atom, ReplayMediator, options))\r\nexport const withTriggerMediator = looseCurryN(1, (atom, options = {}) => withMediator(atom, TriggerMediator, options))\r\n\r\n/**\r\n * @return [data, replayMediator]\r\n */\r\nexport const createDataWithReplayMediator = (options = {}) => withReplayMediator(Data.empty(), options)\r\n/**\r\n * @return [mutation, replayMediator]\r\n */\r\nexport const createMutationWithReplayMediator = (options = {}) => withReplayMediator(Mutation.empty(), options)\r\n\r\n/**\r\n * @return [data, triggerMediator]\r\n */\r\nexport const createDataWithTriggerMediator = () => withTriggerMediator(Data.empty())\r\n/**\r\n * @return [mutation, triggerMediator]\r\n */\r\nexport const createMutationWithTriggerMediator = () => withTriggerMediator(Mutation.empty())\r\n\r\n/**\r\n * @param options optional, options of ReplayMediator\r\n * @return [data, replayMediator, options]\r\n */\r\nexport const createDataWithReplay = (options = {}) => {\r\n  const [data, replayMediator] = createDataWithReplayMediator(options)\r\n  return [data, replayMediator, options]\r\n}\r\n/**\r\n * @param options optional, options of ReplayMediator\r\n * @return [mutation, replayMediator, options]\r\n */\r\nexport const createMutationWithReplay = (options = {}) => {\r\n  const [mutation, replayMediator] = createMutationWithReplayMediator(options)\r\n  return [mutation, replayMediator, options]\r\n}\r\n\r\n/**\r\n * @param trigger Trigger\r\n * @return [data, triggerMediator, trigger, controller]\r\n */\r\nexport const createDataWithTrigger = trigger => {\r\n  const [data, triggerMediator] = createDataWithTriggerMediator()\r\n  const controller = triggerMediator.register(trigger)\r\n  return [data, triggerMediator, trigger, controller]\r\n}\r\n/**\r\n * @param trigger Trigger\r\n * @return [mutation, triggerMediator, trigger, controller]\r\n */\r\nexport const createMutationWithTrigger = trigger => {\r\n  const [mutation, triggerMediator] = createMutationWithTriggerMediator()\r\n  const controller = triggerMediator.register(trigger)\r\n  return [mutation, triggerMediator, trigger, controller]\r\n}\r\n","import { isObject } from '../../internal.js'\r\nimport { Data, Mutation } from '../atom.js'\r\n\r\nexport const createEmptyData = () => Data.empty()\r\nexport const createEmptyMutation = () => Mutation.empty()\r\n\r\nexport const createDataOf = (value, options) => Data.of(value, options)\r\nexport const createMutationOf = (operation, options) => {\r\n  if (!options || !isObject(options)) return Mutation.of(operation)\r\n  return Mutation.ofLift(operation, options)\r\n}\r\n\r\nexport const createMutationOfLL = (operation, options) => Mutation.ofLiftLeft(operation, options)\r\nexport const createMutationOfLR = (operation, options) => Mutation.ofLiftRight(operation, options)\r\nexport const createMutationOfLB = (operation, options) => Mutation.ofLiftBoth(operation, options)\r\n","import { isFunction, isObject } from '../../internal.js'\r\nimport { looseCurryN } from '../../functional.js'\r\nimport { Mutation, isMutation, Data, isData, isAtom } from '../atom.js'\r\nimport { isReplayMediator, replayWithLatest } from '../mediators.js'\r\n\r\nconst DEFAULT_MUTATION_OPTIONS = { liftType: 'both' }\r\n\r\n/**\r\n * @param mutation Mutation\r\n * @return atom Data\r\n */\r\nexport const mutationToDataS = looseCurryN(1, (mutation, options = {}) => {\r\n  if (!isMutation(mutation)) {\r\n    throw (new TypeError(`\"mutation\" is expected to be type of \"Mutation\", but received \"${typeof mutation}\".`))\r\n  }\r\n  if (!isObject(options)) {\r\n    throw (new TypeError(`\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n  }\r\n\r\n  const _data = Data.empty(options)\r\n  _data.observe(mutation)\r\n\r\n  if (isReplayMediator(mutation)) {\r\n    return replayWithLatest(1, _data)\r\n  } else {\r\n    return _data\r\n  }\r\n})\r\n\r\n/**\r\n * @param transform Function\r\n * @param mutation Mutation\r\n * @param options Object, optional\r\n * @return atom Data | ReplayMediator, same type of param \"mutation\"\r\n */\r\nexport const mutationToData = looseCurryN(2, (transform, mutation, options = { ...DEFAULT_MUTATION_OPTIONS }) => {\r\n  if (!isFunction(transform)) {\r\n    throw (new TypeError(`\"transform\" is expected to be type of \"Function\", but received \"${typeof transform}\".`))\r\n  }\r\n  if (!isMutation(mutation)) {\r\n    throw (new TypeError(`\"mutation\" is expected to be type of \"Mutation\", but received \"${typeof mutation}\".`))\r\n  }\r\n  if (!isObject(options)) {\r\n    throw (new TypeError(`\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n  }\r\n\r\n  const _data = Data.empty()\r\n  const _mutation = Mutation.ofLift(transform, options)\r\n  const _data2 = Data.empty()\r\n\r\n  _data2.observe(_mutation)\r\n  _mutation.observe(_data)\r\n  _data.observe(mutation)\r\n\r\n  if (isReplayMediator(mutation)) {\r\n    return replayWithLatest(1, _data2)\r\n  } else {\r\n    return _data2\r\n  }\r\n})\r\n\r\n/**\r\n * @param transform Function\r\n * @param data Data | ReplayMediator\r\n * @param options Object, optional\r\n * @return atom Data | ReplayMediator, same type of param \"data\"\r\n */\r\nexport const dataToData = looseCurryN(2, (transform, data, options = { ...DEFAULT_MUTATION_OPTIONS }) => {\r\n  if (!isFunction(transform)) {\r\n    throw (new TypeError(`\"transform\" is expected to be type of \"Function\", but received \"${typeof transform}\".`))\r\n  }\r\n  if (!isData(data)) {\r\n    throw (new TypeError(`\"data\" is expected to be type of \"Data\", but received \"${typeof data}\".`))\r\n  }\r\n  if (!isObject(options)) {\r\n    throw (new TypeError(`\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n  }\r\n\r\n  const _mutation = Mutation.ofLift(transform, options)\r\n  const _data = Data.empty()\r\n\r\n  _data.observe(_mutation)\r\n  _mutation.observe(data)\r\n\r\n  if (isReplayMediator(data)) {\r\n    return replayWithLatest(1, _data)\r\n  } else {\r\n    return _data\r\n  }\r\n})\r\n\r\n/**\r\n * @param transform Function\r\n * @param atom Atom\r\n * @param options Object, optional\r\n * @return atom Data\r\n */\r\nexport const atomToData = looseCurryN(2, (transform, atom, options = { ...DEFAULT_MUTATION_OPTIONS }) => {\r\n  if (!isFunction(transform)) {\r\n    throw (new TypeError(`\"transform\" is expected to be type of \"Function\", but received \"${typeof transform}\".`))\r\n  }\r\n  if (!isAtom(atom)) {\r\n    throw (new TypeError(`\"atom\" is expected to be type of \"Mutation\" | \"Data\", but received \"${typeof atom}\".`))\r\n  }\r\n\r\n  if (isMutation(atom)) {\r\n    return mutationToData(transform, atom, options)\r\n  }\r\n  if (isData(atom)) {\r\n    return dataToData(transform, atom, options)\r\n  }\r\n\r\n  throw (new TypeError('Unrecognized type of \"Atom\" received in atomToData, expected \"Mutation\" | \"Data\".'))\r\n})\r\n\r\n/**\r\n * @param data Data\r\n * @return atom Mutation\r\n */\r\nexport const dataToMutationS = looseCurryN(1, (data, options = {}) => {\r\n  if (!isData(data)) {\r\n    throw (new TypeError(`\"data\" is expected to be type of \"Data\", but received \"${typeof data}\".`))\r\n  }\r\n  if (!isObject(options)) {\r\n    throw (new TypeError(`\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n  }\r\n\r\n  const _mutation = Mutation.ofLiftBoth(prev => prev, options)\r\n\r\n  _mutation.observe(data)\r\n\r\n  if (isReplayMediator(data)) {\r\n    return replayWithLatest(1, _mutation)\r\n  } else {\r\n    return _mutation\r\n  }\r\n})\r\n\r\n/**\r\n * @param transform Function\r\n * @param data Atom\r\n * @param options Object, optional\r\n * @retrun atom Mutation\r\n */\r\nexport const dataToMutation = looseCurryN(2, (transform, data, options = { ...DEFAULT_MUTATION_OPTIONS }) => {\r\n  if (!isFunction(transform)) {\r\n    throw (new TypeError(`\"transform\" is expected to be type of \"Function\", but received \"${typeof transform}\".`))\r\n  }\r\n  if (!isData(data)) {\r\n    throw (new TypeError(`\"data\" is expected to be type of \"Data\", but received \"${typeof data}\".`))\r\n  }\r\n  if (!isObject(options)) {\r\n    throw (new TypeError(`\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n  }\r\n\r\n  const _mutation = Mutation.ofLift(transform, options)\r\n\r\n  _mutation.observe(data)\r\n\r\n  if (isReplayMediator(data)) {\r\n    return replayWithLatest(1, _mutation)\r\n  } else {\r\n    return _mutation\r\n  }\r\n})\r\n\r\n/**\r\n * @param transform Function\r\n * @param mutation Mutation\r\n * @param options Object, optional\r\n * @return atom Mutation\r\n */\r\nexport const mutationToMutation = looseCurryN(2, (transform, mutation, options = { ...DEFAULT_MUTATION_OPTIONS }) => {\r\n  if (!isFunction(transform)) {\r\n    throw (new TypeError(`\"transform\" is expected to be type of \"Function\", but received \"${typeof transform}\".`))\r\n  }\r\n  if (!isMutation(mutation)) {\r\n    throw (new TypeError(`\"mutation\" is expected to be type of \"Mutation\", but received \"${typeof mutation}\".`))\r\n  }\r\n  if (!isObject(options)) {\r\n    throw (new TypeError(`\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n  }\r\n\r\n  const _data = Data.empty()\r\n  const _mutation = Mutation.ofLift(transform, options)\r\n\r\n  _mutation.observe(_data)\r\n  _data.observe(mutation)\r\n\r\n  if (isReplayMediator(mutation)) {\r\n    return replayWithLatest(1, _mutation)\r\n  } else {\r\n    return _mutation\r\n  }\r\n})\r\n\r\n/**\r\n * @param transform Function\r\n * @param atom Atom\r\n * @param options Object, optional\r\n * @param atom Mutation\r\n */\r\nexport const atomToMutation = looseCurryN(2, (transform, atom, options = { ...DEFAULT_MUTATION_OPTIONS }) => {\r\n  if (!isFunction(transform)) {\r\n    throw (new TypeError(`\"transform\" is expected to be type of \"Function\", but received \"${typeof transform}\".`))\r\n  }\r\n  if (!isAtom(atom)) {\r\n    throw (new TypeError(`\"atom\" is expected to be type of \"Mutation\" | \"Data\", but received \"${typeof atom}\".`))\r\n  }\r\n\r\n  if (isMutation(atom)) {\r\n    return mutationToMutation(transform, atom, options)\r\n  }\r\n  if (isData(atom)) {\r\n    return dataToMutation(transform, atom, options)\r\n  }\r\n\r\n  throw (new TypeError('Unrecognized type of \"Atom\" received in atomToMutation, expected \"Mutation\" | \"Data\".'))\r\n})\r\n","export * from './meta.js'\r\nexport * from './atom.js'\r\nexport * from './mediators.js'\r\nexport * from './taches.js'\r\nexport * from './drivers.js'\r\nexport * from './helpers.js'\r\n","export * from './mediators/base.mediators.js'\r\nexport * from './mediators/trigger.mediators.js'\r\nexport * from './mediators/replay.mediators.js'\r\nexport * from './mediators/flat.mediators.js'\r\n","import { isObject } from '../../internal.js'\r\nimport { pipe, compose } from '../../functional.js'\r\n\r\nexport const isMediator = tar => isObject(tar) && tar.isMediator\r\n\r\nexport class BaseMediator {\r\n  constructor (atom) {\r\n    if (new.target === BaseMediator) {\r\n      throw new Error('BaseMediator can not be instantiated!')\r\n    }\r\n    this._atom = atom\r\n  }\r\n\r\n  /***********************************************************\r\n   *             Mediator's propertys and methods\r\n   ***********************************************************/\r\n\r\n  get isMediator () {\r\n    return true\r\n  }\r\n\r\n  /***********************************************************\r\n   *                Atom's propertys and methods\r\n   ***********************************************************/\r\n\r\n  get atom () {\r\n    return this._atom\r\n  }\r\n\r\n  get isAtom () {\r\n    return this._atom.isAtom\r\n  }\r\n\r\n  get isData () {\r\n    return this._atom.isData\r\n  }\r\n\r\n  get isMutation () {\r\n    return this._atom.isMutation\r\n  }\r\n\r\n  get isEmpty () {\r\n    return this._atom.isEmpty\r\n  }\r\n\r\n  get datar () {\r\n    if (this.isData) {\r\n      return this._atom.datar\r\n    } else {\r\n      throw (new TypeError('There is no \"datar\" property on Mutation instance.'))\r\n    }\r\n  }\r\n\r\n  get value () {\r\n    if (this.isData) {\r\n      return this._atom.value\r\n    } else {\r\n      throw (new TypeError('There is no \"value\" property on Mutation instance.'))\r\n    }\r\n  }\r\n\r\n  get mutator () {\r\n    if (this.isMutation) {\r\n      return this._atom.mutator\r\n    } else {\r\n      throw (new TypeError('There is no \"mutator\" property on Data instance.'))\r\n    }\r\n  }\r\n\r\n  get operation () {\r\n    if (this.isMutation) {\r\n      return this._atom.operation\r\n    } else {\r\n      throw (new TypeError('There is no \"operation\" property on Data instance.'))\r\n    }\r\n  }\r\n\r\n  subscribe (...args) {\r\n    return this._atom.subscribe(...args)\r\n  }\r\n\r\n  trigger (...args) {\r\n    return this._atom.trigger(...args)\r\n  }\r\n\r\n  triggerValue (...args) {\r\n    if (this.isData) {\r\n      return this._atom.triggerValue(...args)\r\n    } else {\r\n      throw (new TypeError('There is no \"triggerValue\" method on Mutation instance.'))\r\n    }\r\n  }\r\n\r\n  triggerOperation (...args) {\r\n    if (this.isMutation) {\r\n      return this._atom.triggerOperation(...args)\r\n    } else {\r\n      throw (new TypeError('There is no \"triggerOperation\" method on Data instance.'))\r\n    }\r\n  }\r\n\r\n  observe (...args) {\r\n    return this._atom.observe(...args)\r\n  }\r\n\r\n  beObservedBy (...args) {\r\n    return this._atom.beObservedBy(...args)\r\n  }\r\n\r\n  mutate (...args) {\r\n    return this._atom.mutate(...args)\r\n  }\r\n\r\n  registerTrigger (...args) {\r\n    return this._atom.registerTrigger(...args)\r\n  }\r\n\r\n  pipe (...args) {\r\n    // ! do not use:\r\n    // ! return this._atom.pipe(...args)\r\n    return pipe(...args)(this)\r\n  }\r\n\r\n  compose (...args) {\r\n    // ! do not use:\r\n    // ! return this._atom.compose(...args)\r\n    return compose(...args)(this)\r\n  }\r\n\r\n  release () {\r\n    this._atom = null\r\n  }\r\n}\r\n","import { isObject } from '../../internal.js'\r\nimport { looseCurryN } from '../../functional.js'\r\nimport {\r\n  Data, Mutation, isAtom\r\n} from '../../atom.js'\r\nimport { BaseMediator } from './base.mediators.js'\r\n\r\nexport const isFlatMediator = tar => isObject(tar) && tar.isFlatMediator\r\n\r\nexport class FlatMediator extends BaseMediator {\r\n  constructor (atom, options) {\r\n    const flattedD = Data.empty()\r\n    super(flattedD)\r\n    this._atom = flattedD\r\n    this._origin_atom = atom\r\n    this._connection = null\r\n    this._subscribeController = null\r\n    this.options = options\r\n\r\n    // initialize\r\n    const { autoConnect } = this.options\r\n    if (autoConnect) {\r\n      this.connect()\r\n    }\r\n  }\r\n\r\n  get type () {\r\n    return 'FlatMediator'\r\n  }\r\n\r\n  get isFlatMediator () {\r\n    return true\r\n  }\r\n\r\n  static of (atom, options) {\r\n    if (!isAtom(atom)) {\r\n      throw (new TypeError('FlatMediator can apply to an Atom only.'))\r\n    }\r\n    const { autoConnect = true } = options\r\n    return new FlatMediator(atom, { autoConnect })\r\n  }\r\n\r\n  connect () {\r\n    if (this._origin_atom.isData) {\r\n      // Data -> extract value(Data) -> asIsM -> newData\r\n      const asIsM = Mutation.ofLiftLeft(prevD => prevD)\r\n      this._subscribeController = this._origin_atom.subscribe(({ value }) => {\r\n        const subscribeController1 = this._atom.observe(asIsM)\r\n        const subscribeController2 = asIsM.observe(value)\r\n        // value is a normal Data which means it will not replay the latest value automatically\r\n        value.trigger()\r\n        this._connection = {\r\n          unsubscribe: () => {\r\n            subscribeController1.unsubscribe()\r\n            subscribeController2.unsubscribe()\r\n          }\r\n        }\r\n      })\r\n    } else if (this.isMutation) {\r\n      // Mutation -> tempData -> extract value(Data) -> asIsM -> newData\r\n      const tempData = Data.empty()\r\n      const asIsM = Mutation.ofLiftLeft(prevD => prevD)\r\n      this._subscribeController = tempData.subscribe(({ value }) => {\r\n        const subscribeController1 = this._atom.observe(asIsM)\r\n        const subscribeController2 = asIsM.observe(value)\r\n        // value is a normal Data which means it will not replay the latest value automatically\r\n        value.trigger()\r\n        this._connection = {\r\n          unsubscribe: () => {\r\n            subscribeController1.unsubscribe()\r\n            subscribeController2.unsubscribe()\r\n          }\r\n        }\r\n      })\r\n      tempData.observe(this._origin_atom)\r\n    }\r\n  }\r\n\r\n  disconnect () {\r\n    if (this._connection) {\r\n      this._connection.unsubscribe()\r\n      this._connection = null\r\n    }\r\n  }\r\n\r\n  release () {\r\n    this._subscribeController.unsubscribe()\r\n    super.release()\r\n  }\r\n}\r\n\r\nexport const withValueFlatted = looseCurryN(1, (atom, options = {}) => {\r\n  return FlatMediator.of(atom, options)\r\n})\r\n","import { isObject, isNumber } from '../../internal.js'\r\nimport { isAtom } from '../atom.js'\r\nimport { BaseMediator } from './base.mediators.js'\r\nimport { curryN } from '../../functional.js'\r\n\r\nexport const isReplayMediator = tar => isObject(tar) && tar.isReplayMediator\r\n\r\nexport class ReplayMediator extends BaseMediator {\r\n  constructor (atom, replayTime = 1) {\r\n    super(atom)\r\n    this._history = []\r\n    this._consumers = []\r\n    this.setReplayTime(replayTime)\r\n    this._subscribeController = atom.subscribe(val => {\r\n      this._history.push(val)\r\n      this._setHistory()\r\n    })\r\n  }\r\n\r\n  get type () {\r\n    return 'ReplayMediator'\r\n  }\r\n\r\n  get isReplayMediator () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * @param options Number | Object\r\n   */\r\n  static of (atom, options) {\r\n    if (!isAtom(atom)) {\r\n      throw (new TypeError('ReplayMediator can apply to an Atom only.'))\r\n    }\r\n    if (isReplayMediator(atom)) {\r\n      return atom\r\n    }\r\n\r\n    let _options = {}\r\n    if (isNumber(options)) {\r\n      _options.replayTime = options\r\n    } else if (isObject(options)) {\r\n      _options = {\r\n        ..._options,\r\n        ...options\r\n      }\r\n    } else {\r\n      throw new TypeError(`\"options\" argument of ReplayMediator is expected to be type of \"Number\" | \"Object\", but received ${typeof options}.`)\r\n    }\r\n\r\n    const { replayTime, autoTrigger = true } = _options\r\n\r\n    const _mediator = new ReplayMediator(atom, replayTime)\r\n\r\n    if (autoTrigger) {\r\n      atom.trigger()\r\n    }\r\n    return _mediator\r\n  }\r\n\r\n  setReplayTime (replayTime) {\r\n    if (!isNumber(replayTime)) {\r\n      throw (new TypeError('repalyTime is expected to be a Number.'))\r\n    }\r\n    this._replayTime = Math.floor(Math.abs(replayTime))\r\n    this._setHistory()\r\n  }\r\n\r\n  _setHistory () {\r\n    const t = this._history.length - this._replayTime\r\n    this._history = this._history.slice(t >= 0 ? t : 0)\r\n  }\r\n\r\n  replayTo (consumer) {\r\n    this._history.forEach(val => {\r\n      consumer(val)\r\n    })\r\n  }\r\n\r\n  replay () {\r\n    this._consumers.forEach((consumer) => {\r\n      this.replayTo(consumer)\r\n    })\r\n  }\r\n\r\n  subscribe (consumer) {\r\n    this._consumers.push(consumer)\r\n    const subscribeController = this._atom.subscribe(consumer)\r\n    this.replayTo(consumer)\r\n    return subscribeController\r\n  }\r\n\r\n  // NOTE: important!!!\r\n  // !!! important\r\n  beObservedBy (...args) {\r\n    return args[0].observe(this)\r\n  }\r\n\r\n  release () {\r\n    this._subscribeController.unsubscribe()\r\n    super.release()\r\n  }\r\n}\r\n\r\nexport const replayWithoutLatest = curryN(2, (replayTime, atom) => {\r\n  return ReplayMediator.of(atom, { replayTime, autoTrigger: false })\r\n})\r\nexport const replayWithLatest = curryN(2, (replayTime, atom) => {\r\n  return ReplayMediator.of(atom, { replayTime, autoTrigger: true })\r\n})\r\n","import { isObject } from '../../internal.js'\r\nimport { isAtom } from '../atom.js'\r\nimport { BaseMediator } from './base.mediators.js'\r\n\r\nexport const isTriggerMediator = tar => isObject(tar) && tar.isTriggerMediator\r\n\r\nexport class TriggerMediator extends BaseMediator {\r\n  constructor (atom) {\r\n    super(atom)\r\n    // _map :: (trigger, controller)\r\n    this._map = new WeakMap()\r\n  }\r\n\r\n  get type () {\r\n    return 'TriggerMediator'\r\n  }\r\n\r\n  get isTriggerMediator () {\r\n    return true\r\n  }\r\n\r\n  static of (atom) {\r\n    if (!isAtom(atom)) {\r\n      throw (new TypeError('TriggerMediator can apply to an Atom only.'))\r\n    }\r\n    return new TriggerMediator(atom)\r\n  }\r\n\r\n  get map () {\r\n    return this._map\r\n  }\r\n\r\n  // _add :: (trigger, controller) -> Map\r\n  _add (trigger, controller) {\r\n    return this._map.set(trigger, controller)\r\n  }\r\n\r\n  // _remove :: trigger -> Boolean\r\n  _remove (trigger) {\r\n    return this._map.delete(trigger)\r\n  }\r\n\r\n  register (trigger, options) {\r\n    const controller = this._atom.registerTrigger(trigger, options)\r\n    controller && this._add(trigger, controller)\r\n    return controller\r\n  }\r\n\r\n  get (trigger) {\r\n    return this._map.get(trigger)\r\n  }\r\n\r\n  // remove :: trigger -> Boolean\r\n  remove (trigger) {\r\n    const controller = this._map.get(trigger)\r\n    controller && controller.cancel()\r\n    return this._remove(trigger)\r\n  }\r\n\r\n  // removeAll :: () -> Boolean\r\n  removeAll () {\r\n    let successFlag = false\r\n    this._map.forEach((controller, trigger) => {\r\n      controller.cancel()\r\n      successFlag = this._remove(trigger) && successFlag\r\n    })\r\n    return successFlag\r\n  }\r\n\r\n  release () {\r\n    this.removeAll()\r\n    super.release()\r\n  }\r\n}\r\n","import { isUndefined, isString, isObject, isFunction } from '../internal/base.js'\r\nimport { looseCurryN } from '../functional.js'\r\n\r\n/**\r\n *    Metas\r\n * Void       -> Void's role in Atom world is same as undefined & null 's role in normal JavaScript world.\r\n *               It is designed to replace values that can be converted to false, such as undefined & null.\r\n *               So falsy values can flowing through the Atoms as normal values flowing.\r\n *               For the typical usages, please check nilToVoidT & defaultT.\r\n * Terminator -> Terminator is designed as a signal for \"interruption\" of Atom Flow.\r\n *               Mutation will not mutate(trigger an operation to update the downstream data's value)\r\n *                 a Data or Datar which value is Terminator.\r\n *               Data will not mutate(update own value to income operation's result) a Mutation or Mutator or Operation\r\n *                 which result is Terminator.\r\n *               For the typical usages, please check filterT or skipT or takeT.\r\n * Vacuo      -> A value that can serve as the value (for Datar, or operation for Mutator)\r\n *                 of Datar and Mutator at the same time.\r\n * Datar      -> Designed to carry the value of Data.\r\n * Mutator    -> Designed to carry the operation of Mutation.\r\n */\r\n\r\nexport const isDatar = tar => isObject(tar) && tar.isDatar\r\nexport const isMutator = tar => isObject(tar) && tar.isMutator\r\n\r\nexport const isVoid = tar => isObject(tar) && tar.isVoid\r\nexport const isTerminator = tar => isObject(tar) && tar.isTerminator\r\nexport const isVacuo = tar => isFunction(tar) && tar.isVacuo\r\n\r\n/**\r\n *—————————————————————————————————————————————— Nothing Particle ————————————————————————————————————————————————————\r\n */\r\n/**\r\n *\r\n */\r\nexport class Void {\r\n  get isVoid () { return true }\r\n}\r\nexport const VOID = new Void()\r\n\r\n/**\r\n *—————————————————————————————————————————————— Terminator Particle ————————————————————————————————————————————————————\r\n */\r\n/**\r\n *\r\n */\r\nexport class Terminator {\r\n  get isTerminator () { return true }\r\n}\r\nexport const TERMINATOR = new Terminator()\r\n\r\n/**\r\n *—————————————————————————————————————————————— Vacuo Particle ————————————————————————————————————————————————————\r\n */\r\n/**\r\n * 利用 JavaScript Function is also an Object 的特性，\r\n * 使 Vacuo 既能够作为 Datar.of() 也能作为 Mutator.of() 的参数，\r\n * 从而实现 Empty Datar 和 Empty Mutator。\r\n *\r\n * 因为要兼容浏览器扩展的执行环境，所以 class Vacuo extends Function 语法无法使用\r\n *   -> Refer: https://developer.chrome.com/docs/apps/contentSecurityPolicy/\r\n */\r\nexport const Vacuo = () => {\r\n  const internalVacuo = function () {}\r\n  Object.defineProperty(internalVacuo, 'isVacuo', {\r\n    get: () => { return true }\r\n  })\r\n  Object.defineProperty(internalVacuo, 'isEmpty', {\r\n    get: () => { return true }\r\n  })\r\n  return internalVacuo\r\n}\r\nexport const VACUO = Vacuo()\r\n\r\n/**\r\n *—————————————————————————————————————————————— Datar Particle ————————————————————————————————————————————————————\r\n */\r\n/**\r\n *\r\n */\r\nexport class Datar {\r\n  constructor (value, mutator = VACUO, options = {}) {\r\n    if (!isUndefined(mutator) && !isMutator(mutator) && !isVacuo(mutator)) {\r\n      throw (new TypeError(\r\n        `The 2nd parameter of Datar's constructor is expected to be type of \"Mutator\" | \"Vacuo\" | \"Undefined\", but received \"${typeof mutator}\".`\r\n      ))\r\n    }\r\n\r\n    this._options = options\r\n\r\n    this.value = value\r\n    this.mutator = mutator\r\n  }\r\n\r\n  static of (value, mutator = undefined, options = {}) {\r\n    return new Datar(value, mutator, options)\r\n  }\r\n\r\n  static empty () {\r\n    return new Datar(VACUO)\r\n  }\r\n\r\n  get isDatar () { return true }\r\n\r\n  get isEmpty () { return isVacuo(this.value) }\r\n\r\n  /**\r\n   * @param { Mutator | Vacuo } mutator\r\n   * @return { Datar } this(Datar)\r\n   */\r\n  fill (mutator) {\r\n    if (!isMutator(mutator) && !isVacuo(mutator)) {\r\n      throw (new TypeError(\r\n        `The 1st parameter of Datar's fill method is expected to be type of \"Mutator\" | \"Vacuo\", but received \"${typeof mutator}\".`\r\n      ))\r\n    }\r\n    this.mutator = mutator\r\n    return this\r\n  }\r\n\r\n  fillEmpty () {\r\n    this.mutator = VACUO\r\n    return this\r\n  }\r\n\r\n  fillAuto (mutator = VACUO) {\r\n    return this.fill(mutator)\r\n  }\r\n\r\n  /**\r\n   * Rarely used, this method exists to ensure the symmetry of Datar and Mutator.\r\n   *\r\n   * @param { Mutator | Vacuo } mutator default to VACUO\r\n   * @return { function | Vacuo } operation function | Vacuo\r\n   */\r\n  run (mutator = VACUO, ...args) {\r\n    if (!isMutator(mutator) && !isVacuo(mutator)) {\r\n      throw (new TypeError(\r\n        `The 1st parameter of Datar's run method is expected to be type of \"Mutator\" | \"Vacuo\", but received \"${typeof mutator}\".`\r\n      ))\r\n    }\r\n    // return operation or vacuo\r\n    return isMutator(mutator) ? mutator.operation : mutator\r\n  }\r\n}\r\n\r\n/**\r\n *—————————————————————————————————————————————— Mutator Particle ————————————————————————————————————————————————————\r\n */\r\n/**\r\n * @param { any } operation\r\n */\r\nconst checkOperation = operation => {\r\n  if (!isFunction(operation)) {\r\n    throw (new TypeError(`\"operation\" is expected to be type of \"Function\", but received \"${typeof operation}\".`))\r\n  }\r\n}\r\n/**\r\n * @param { any } tar\r\n * @return { boolean } true | false\r\n */\r\nconst isValidOperationTarget = tar => isDatar(tar) || isVacuo(tar)\r\n/**\r\n *\r\n */\r\nexport class Mutator {\r\n  constructor (operation, datar = VACUO, options = {}) {\r\n    if (!isUndefined(datar) && !isValidOperationTarget(datar)) {\r\n      throw (new TypeError(\r\n        `The 2nd parameter of Mutator's constructor is expected to be type of \"Datar\" | \"Vacuo\" | \"Undefined\", but received \"${typeof datar}\".`\r\n      ))\r\n    }\r\n    checkOperation(operation)\r\n\r\n    this._options = options\r\n\r\n    this.operation = operation\r\n    this.datar = datar\r\n  }\r\n\r\n  static of (operation, datar = undefined, options = {}) {\r\n    return new Mutator(operation, datar, options)\r\n  }\r\n\r\n  static empty () {\r\n    return new Mutator(VACUO)\r\n  }\r\n\r\n  get isMutator () { return true }\r\n\r\n  get isEmpty () { return isVacuo(this.operation) }\r\n\r\n  static checkOperation (operation) {\r\n    checkOperation(operation)\r\n  }\r\n\r\n  static isValidOpTar (tar) {\r\n    return isValidOperationTarget(tar)\r\n  }\r\n\r\n  static isValidOperationTarget (tar) {\r\n    return isValidOperationTarget(tar)\r\n  }\r\n\r\n  /**\r\n   * Dispatch opration to correct lift method according to the given options.\r\n   *\r\n   * @param { function } operation\r\n   * @param { { type: 'both' | 'left' | 'right' } } options\r\n   */\r\n  static lift (operation, options) {\r\n    if (!options) {\r\n      throw (new TypeError(`\"options\" is required for lift method of Mutator, but received \"${options}\".`))\r\n    }\r\n    if (!isObject(options)) {\r\n      throw (new TypeError(`\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n    }\r\n    const { type } = options\r\n\r\n    if (!isString(type)) {\r\n      throw (new TypeError(`\"type\" is expected to be type of \"String\", but received \"${typeof type}\".`))\r\n    }\r\n\r\n    if (type === 'both') {\r\n      return this.liftBoth(operation)\r\n    } else if (type === 'left') {\r\n      return this.liftLeft(operation)\r\n    } else if (type === 'right') {\r\n      return this.liftRight(operation)\r\n    } else {\r\n      throw (new TypeError(`\"type\" is expected be one of \"both\" | \"left\" | \"right\", but received \"${type}\".`))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Automatically unwrap both left & right param to value.\r\n   *\r\n   * @param { function } operation\r\n   * @return { function } curried function(2, loose)\r\n   */\r\n  static liftBoth (operation) {\r\n    checkOperation(operation)\r\n    return looseCurryN(2, (prevDatar, datar, ...args) => {\r\n      return operation(\r\n        isValidOperationTarget(prevDatar) ? prevDatar.value : prevDatar,\r\n        isValidOperationTarget(datar) ? datar.value : datar,\r\n        ...args\r\n      )\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Automatically unwrap left param to value， keep right param Datar.\r\n   *\r\n   * @param { function } operation\r\n   * @return { function } curried function(2, loose)\r\n   */\r\n  static liftLeft (operation) {\r\n    checkOperation(operation)\r\n    return looseCurryN(2, (prevDatar, datar, ...args) => {\r\n      return operation(\r\n        isValidOperationTarget(prevDatar) ? prevDatar.value : prevDatar,\r\n        datar,\r\n        ...args\r\n      )\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Automatically unwrap right param to value， keep left param Datar.\r\n   *\r\n   * @param { function } operation\r\n   * @return { function } curried function(2, loose)\r\n   */\r\n  static liftRight (operation) {\r\n    checkOperation(operation)\r\n    return looseCurryN(2, (prevDatar, datar, ...args) => {\r\n      return operation(\r\n        prevDatar,\r\n        isValidOperationTarget(datar) ? datar.value : datar,\r\n        ...args\r\n      )\r\n    })\r\n  }\r\n\r\n  /**\r\n   * @param { Datar | Vacuo } mutator\r\n   * @return { Mutator } this(Mutator)\r\n   */\r\n  fill (datar) {\r\n    if (!isValidOperationTarget(datar)) {\r\n      throw (new TypeError(\r\n        `The 1st parameter of Mutator's fill method is expected to be type of \"Datar\" | \"Vacuo\", but received \"${typeof mutator}\".`\r\n      ))\r\n    }\r\n    this.datar = datar\r\n    return this\r\n  }\r\n\r\n  fillEmpty () {\r\n    this.datar = VACUO\r\n    return this\r\n  }\r\n\r\n  fillAuto (datar = VACUO) {\r\n    return this.fill(datar)\r\n  }\r\n\r\n  /**\r\n   * Atom Flow: Data A -> Mutation -> Data B\r\n   *\r\n   *   -> Data A is observed by Mutation, Mutation is observed by Data B;\r\n   *\r\n   *   -> Data A emits a datar, Mutation takes that datar as the 1st parameter of operation;\r\n   *\r\n   *   -> Mutation takes datar from Data A, then emits a mutator, Data B will take that mutator;\r\n   *\r\n   *   -> Data B takes mutator from Mutation, then pass its own datar to that mutator's operation as the 2nd parameter;\r\n   *\r\n   *   -> The operation evaluates while it has both two parameters, the result will be wrapped in a new datar;\r\n   *\r\n   *   -> The new datar will be the new datar of Data B.\r\n   *\r\n   * @param { Datar | Vacuo } datar default to VACUO\r\n   * @return { any }\r\n   */\r\n  run (datar = VACUO, ...args) {\r\n    // 保证 Mutator 的 operation 接收到的两个必要参数都是合法的操作对象\r\n    return this.operation(this.datar, isValidOperationTarget(datar) ? datar : Datar.of(datar), ...args)\r\n  }\r\n}\r\n","// creators\r\nexport * from './taches/base.taches.js'\r\n\r\n// Single to Single\r\nexport * from './taches/nilToVoid.taches.js'\r\n\r\n// Single to Multi\r\nexport * from './taches/partition.taches.js'\r\n\r\n// Multi to Single\r\nexport * from './taches/defaultTo.taches.js'\r\nexport * from './taches/pluck.taches.js'\r\nexport * from './taches/map.taches.js'\r\nexport * from './taches/filter.taches.js'\r\nexport * from './taches/startWith.taches.js'\r\nexport * from './taches/emptyStartWith.taches.js'\r\nexport * from './taches/debounce.taches.js'\r\nexport * from './taches/throttle.taches.js'\r\n\r\nexport * from './taches/withHistory.taches.js'\r\n\r\nexport * from './taches/switch.taches.js'\r\n\r\nexport * from './taches/distinctPrevious.taches.js'\r\nexport * from './taches/distinctEver.taches.js'\r\nexport * from './taches/skip.taches.js'\r\nexport * from './taches/skipUntil.taches.js'\r\nexport * from './taches/skipWhile.taches.js'\r\nexport * from './taches/take.taches.js'\r\nexport * from './taches/takeUntil.taches.js'\r\nexport * from './taches/takeWhile.taches.js'\r\n\r\nexport * from './taches/iif.taches.js'\r\nexport * from './taches/case.taches.js'\r\n\r\nexport * from './taches/combine.taches.js'\r\nexport * from './taches/combineLatest.taches.js'\r\nexport * from './taches/merge.taches.js'\r\nexport * from './taches/zip.taches.js'\r\nexport * from './taches/withLatestFrom.taches.js'\r\n\r\nexport * from './taches/effect.taches.js'\r\n\r\n// utils\r\nexport * from './taches/tap.taches.js'\r\n","import { isString, isArray, isObject, isFunction } from '../../internal.js'\r\nimport { looseCurryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\n\r\n// S -> Single, M -> Multi\r\n\r\nconst DEFAULT_MUTATION_OPTIONS = { liftType: 'both' }\r\n\r\n/**\r\n * @param { {} | function } createOptions\r\n * @return { function }\r\n */\r\nexport const createGeneralTache = looseCurryN(2, (createOptions = {}, tacheOptions = { ...DEFAULT_MUTATION_OPTIONS }) => {\r\n  if (!isObject(createOptions) && !isFunction(createOptions)) {\r\n    throw (new TypeError(`\"createOptions\" is expected to be type of \"Object\" | \"Function\", but received \"${typeof createOptions}\".`))\r\n  }\r\n  if (isFunction(createOptions)) {\r\n    createOptions = { prepareMidpiece: createOptions }\r\n  }\r\n\r\n  const {\r\n    prepareTacheLevelContexts = () => ({}),\r\n    prepareOptions = options => options,\r\n    prepareInput = (_0, _1, source) => source,\r\n    prepareMidpiece = () => Mutation.ofLiftBoth(any => any),\r\n    prepareOutput = () => Data.empty(),\r\n    connect = (options, [inputs, midpieces, outputs]) => {\r\n      pipeAtom(midpieces, outputs)\r\n      binaryTweenPipeAtom(inputs, midpieces)\r\n    }\r\n  } = createOptions\r\n\r\n  const tacheLevelContexts = prepareTacheLevelContexts()\r\n  if (!isObject(tacheLevelContexts)) {\r\n    throw (new TypeError(`\"tacheLevelContexts\" is expected to be type of \"Object\", but received \"${typeof tacheLevelContexts}\".`))\r\n  }\r\n\r\n  if (!isObject(tacheOptions)) {\r\n    throw (new TypeError(`\"tacheOptions\" is expected to be type of \"Object\", but received \"${typeof tacheOptions}\".`))\r\n  }\r\n  tacheOptions = prepareOptions(tacheOptions)\r\n\r\n  if (!isObject(tacheOptions)) {\r\n    throw (new TypeError(`The returned value of \"prepareOptions\" is expected to be type of \"Object\", but received \"${typeof tacheOptions}\".`))\r\n  }\r\n\r\n  return (...sources) => {\r\n    const inputs = prepareInput(tacheOptions, tacheLevelContexts, sources.length > 1 ? sources : sources[0])\r\n    const midpieces = prepareMidpiece(tacheOptions, tacheLevelContexts, inputs)\r\n    const outputs = prepareOutput(tacheOptions, tacheLevelContexts, midpieces)\r\n    connect(tacheOptions, tacheLevelContexts, [inputs, midpieces, outputs])\r\n    return outputs\r\n  }\r\n})\r\n/**\r\n * @param { function } tacheMaker partial applied createGeneralTache\r\n */\r\nexport const useGeneralTache = looseCurryN(3, (tacheMaker, tacheOptions, ...sources) => {\r\n  const tache = tacheMaker(tacheOptions)\r\n  const outputs = sources.length > 1 ? tache(...sources) : tache(sources[0])\r\n  return outputs\r\n})\r\n\r\n/**\r\n * @param { function | object }  operation\r\n * @param { ?{ type?: string } } options which type is LiftType the operation will use\r\n * @accept ({ operation, options? })\r\n * @accept (operation, options?)\r\n * @return TacheMaker\r\n */\r\nexport const createSSTache = (operation, options = { ...DEFAULT_MUTATION_OPTIONS }) => {\r\n  // @accept ({ operation, options? })\r\n  if (isObject(operation) && operation.operation) {\r\n    options = operation.options ? { ...DEFAULT_MUTATION_OPTIONS, ...operation.options } : { ...DEFAULT_MUTATION_OPTIONS }\r\n    operation = operation.operation\r\n  }\r\n\r\n  if (!isFunction(operation)) {\r\n    throw (new TypeError(`\"operation\" is expected to be type of \"Function\", but received ${typeof operation}.`))\r\n  }\r\n\r\n  const { liftType = 'both' } = options\r\n\r\n  /**\r\n   * @param { Atom }target\r\n   * @return { Data }\r\n   */\r\n  return target => {\r\n    if (!isAtom(target)) {\r\n      throw (new TypeError('\"target\" is expected to be type of \"Atom\".'))\r\n    }\r\n\r\n    const mutation = Mutation.ofLift(operation, { liftType })\r\n    const outputD = Data.empty()\r\n\r\n    pipeAtom(mutation, outputD)\r\n    binaryTweenPipeAtom(target, mutation)\r\n\r\n    return outputD\r\n  }\r\n}\r\n\r\n/**\r\n * @accept ({}) -> ({ name: { operation, options? } | operation, ...})\r\n * @accept ([]) -> ([{ operation, options? } | operation ...])\r\n * @accept (...) -> ({ operation, options? } | operation, ...)\r\n * @return TacheMaker\r\n */\r\nexport const createSMTache = (...args) => {\r\n  if (args.length === 1 && isObject(args[0])) {\r\n    return createObjectSMTache(args[0])\r\n  }\r\n  if (args.length === 1 && isArray(args[0])) {\r\n    return createArraySMTache(...args[0])\r\n  }\r\n  if (args.length > 1) {\r\n    return createArraySMTache(...args)\r\n  }\r\n}\r\n\r\n/**\r\n * @accept ({ operation, options? } | operation, ...)\r\n * @accept ([{ operation, options? } | operation ...])\r\n * @return TacheMaker\r\n */\r\nexport const createArraySMTache = (...configArr) => {\r\n  // @accept ([{ operation, options? } | operation ...])\r\n  if (configArr.length === 1 && isArray(configArr[0])) {\r\n    configArr = configArr[0]\r\n  }\r\n\r\n  configArr = configArr.map(config => {\r\n    let operation, options\r\n\r\n    if (isObject(config) && config.operation) {\r\n      // @accept config -> { operation, options? }\r\n      options = config.options ? { ...DEFAULT_MUTATION_OPTIONS, ...config.options } : { ...DEFAULT_MUTATION_OPTIONS }\r\n      operation = config.operation\r\n    } else if (isFunction(config)) {\r\n      // @accept config -> operation\r\n      options = { ...DEFAULT_MUTATION_OPTIONS }\r\n      operation = config\r\n    } else {\r\n      throw (new TypeError(`\"config\" is expected to be type of \"Object\" | \"Function\", but received ${typeof config}.`))\r\n    }\r\n\r\n    if (!isFunction(operation)) {\r\n      throw (new TypeError(`\"operation\" is expected to be type of \"Function\", but received ${typeof config}.`))\r\n    }\r\n\r\n    return { operation, options }\r\n  })\r\n\r\n  /**\r\n   * @param target Atom\r\n   * @return Array of Data\r\n   */\r\n  return target => {\r\n    if (!isAtom(target)) {\r\n      throw (new TypeError('\"target\" is expected to be type of \"Atom\".'))\r\n    }\r\n\r\n    const mutations = configArr.map(({ operation, options }) => {\r\n      const { liftType = 'both' } = options\r\n      return Mutation.ofLift(operation, { liftType })\r\n    })\r\n    const outputs = Array.from({ length: configArr.length }).map(() => Data.empty())\r\n\r\n    outputs.forEach((output, index) => {\r\n      pipeAtom(mutations[index], output)\r\n      binaryTweenPipeAtom(target, mutations[index])\r\n    })\r\n\r\n    return outputs\r\n  }\r\n}\r\n\r\n/**\r\n * @param { {} } configObj\r\n * @accept ({ name: { operation, options? } | operation, ...})\r\n * @return TacheMaker\r\n */\r\nexport const createObjectSMTache = (configObj) => {\r\n  if (!isObject(configObj)) {\r\n    throw (new TypeError(`\"configObj\" is expected to be type of \"Object\", but received ${typeof configObj}.`))\r\n  }\r\n\r\n  configObj = Object.entries(configObj).reduce((acc, [name, config]) => {\r\n    let operation, options\r\n\r\n    if (isObject(config) && config.operation) {\r\n      options = config.options ? { ...DEFAULT_MUTATION_OPTIONS, ...config.options } : { ...DEFAULT_MUTATION_OPTIONS }\r\n      operation = config.operation\r\n    } else if (isFunction(config)) {\r\n      options = { ...DEFAULT_MUTATION_OPTIONS }\r\n      operation = config\r\n    } else {\r\n      throw (new TypeError(`\"config\" is expected to be type of \"Object\" | \"Function\", but received ${typeof config}.`))\r\n    }\r\n\r\n    if (!isFunction(operation)) {\r\n      throw (new TypeError(`\"operation\" is expected to be type of \"Function\", but received ${typeof config}.`))\r\n    }\r\n\r\n    acc[name] = acc[name] || { operation, options }\r\n\r\n    return acc\r\n  }, {})\r\n\r\n  /**\r\n   * @param target Atom\r\n   * @return Object of Data\r\n   */\r\n  return target => {\r\n    if (!isAtom(target)) {\r\n      throw (new TypeError('\"target\" is expected to be type of \"Atom\".'))\r\n    }\r\n\r\n    const mutations = Object.entries(configObj).reduce((acc, [name, { operation, options }]) => {\r\n      const { liftType = 'both' } = options\r\n      acc[name] = acc[name] || Mutation.ofLift(operation, { liftType })\r\n      return acc\r\n    }, {})\r\n\r\n    const outputs = Object.entries(configObj).reduce((acc, [name]) => {\r\n      acc[name] = acc[name] || Data.empty()\r\n      return acc\r\n    }, {})\r\n\r\n    Object.entries(outputs).forEach(([name, output]) => {\r\n      pipeAtom(mutations[name], output)\r\n      binaryTweenPipeAtom(target, mutations[name])\r\n    })\r\n\r\n    return outputs\r\n  }\r\n}\r\n\r\n/**\r\n * @param { ?{ sourcesType?: 'Array' | \"Object\" } } config\r\n * @return TacheMaker\r\n */\r\nexport const createMSTache = (config = {}) => {\r\n  if (!isObject(config)) {\r\n    throw (new TypeError(`\"config\" is expected to be type of \"Object\", but received \"${typeof config}\".`))\r\n  }\r\n\r\n  const { sourcesType } = config\r\n  if (sourcesType.toLowerCase() === 'array') {\r\n    return createArrayMSTache(config)\r\n  }\r\n  if (sourcesType.toLowerCase() === 'object') {\r\n    return createObjectMSTache(config)\r\n  }\r\n\r\n  /**\r\n   * @accept ({ name: Atom | Any, ...})\r\n   * @accept ([Atom | Any, ...])\r\n   * @accept (Atom | Any, ...)\r\n   * @return Data\r\n   */\r\n  return (...sources) => {\r\n    if (sources.length === 1 && isObject(sources[0])) {\r\n      return createObjectMSTache(config)(sources[0])\r\n    }\r\n    if (sources.length === 1 && isArray(sources[0])) {\r\n      return createArrayMSTache(config)(...sources[0])\r\n    }\r\n    if (sources.length > 1) {\r\n      return createArraySMTache(config)(...sources)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param { ?{\r\n *   numberOfSources?: number,\r\n *   acceptNonAtom?: boolean,\r\n *   opCustomizeType?: 'fully' | 'partly',\r\n *   opLiftType?: 'both' | 'left' | 'right',\r\n *   operation: function,\r\n *   autoUpdateContexts?: boolean\r\n * } } config\r\n * @return TacheMaker\r\n */\r\nexport const createArrayMSTache = (config = {}) => {\r\n  if (!isObject(config)) {\r\n    throw (new TypeError(`\"config\" is expected to be type of \"Object\", but received ${typeof config}.`))\r\n  }\r\n\r\n  const {\r\n    numberOfSources = undefined, acceptNonAtom = true,\r\n    opCustomizeType = 'partly', opLiftType = 'both', operation, autoUpdateContexts = true\r\n  } = config\r\n\r\n  if (!isString(opCustomizeType)) {\r\n    throw (new TypeError(`\"opCustomizeType\" is expected to be type of \"String\", but received \"${typeof opCustomizeType}\".`))\r\n  }\r\n  if (opCustomizeType.toLowerCase() !== 'partly' && opCustomizeType.toLowerCase() !== 'fully') {\r\n    throw (new TypeError(`\"opCustomizeType\" is expected to be \"fully\" | \"partly\", but received \"${opCustomizeType}\".`))\r\n  }\r\n  if (operation === undefined) {\r\n    throw (new TypeError('\"operation\" is required when use makeArrayMSTache to make tache.'))\r\n  }\r\n  if (!isFunction(operation)) {\r\n    throw (new TypeError(`\"operation\" is expected to be type of \"Function\", but received ${typeof operation}.`))\r\n  }\r\n\r\n  /**\r\n   * @accept (Atom, ...)\r\n   * @accept ([Atom, ...])\r\n   * @return Data\r\n   */\r\n  const tache = (...sources) => {\r\n    if (!acceptNonAtom) {\r\n      sources.forEach(source => {\r\n        if (!isAtom(source)) {\r\n          throw (new TypeError(`\"source\" is expected to be type of \"Atom\", but received ${typeof source}.`))\r\n        }\r\n      })\r\n    } else {\r\n      sources = sources.map(source => {\r\n        return isAtom(source) ? source : replayWithLatest(1, Data.of(source))\r\n      })\r\n    }\r\n\r\n    const length = sources.length\r\n\r\n    const wrapMutations = Array.from({ length }).map((val, idx) =>\r\n      Mutation.ofLiftLeft(prev => ({ id: idx, value: prev }))\r\n    )\r\n    const wrappedDatas = Array.from({ length }).map(() => Data.empty())\r\n\r\n    const trunkM = Mutation.ofLift((() => {\r\n      const baseContexts = { numberOfSources: length, TERMINATOR }\r\n\r\n      if (opCustomizeType.toLowerCase() === 'fully') {\r\n        const contexts = { ...baseContexts }\r\n        const actualOperation = operation(contexts)\r\n        if (!isFunction(actualOperation)) {\r\n          throw (new TypeError('\"operation\" is expected to return a \"Function\" when \"opCustomizeType\" is specified to \"fully\".'))\r\n        }\r\n        return actualOperation\r\n      }\r\n      if (opCustomizeType.toLowerCase() === 'partly') {\r\n        const contexts = {\r\n          ...baseContexts,\r\n          states: Array.from({ length: length }),\r\n          values: Array.from({ length: length })\r\n        }\r\n        // actual operation which will takes prevDatar(or its value) & datar(ot its value) as argument\r\n        return (prev, cur, mutation, ...args) => {\r\n          if (autoUpdateContexts) {\r\n            const { id, value } = prev\r\n            contexts.states[id] = true\r\n            contexts.values[id] = value\r\n          }\r\n          return operation(prev, cur, mutation, contexts, ...args)\r\n        }\r\n      }\r\n    })(), { liftType: opLiftType })\r\n\r\n    const output = Data.empty()\r\n\r\n    pipeAtom(trunkM, output)\r\n    wrappedDatas.forEach(data => {\r\n      pipeAtom(data, trunkM)\r\n    })\r\n    wrapMutations.forEach((wrapMutation, idx) => {\r\n      pipeAtom(wrapMutation, wrappedDatas[idx])\r\n    })\r\n    sources.forEach((source, idx) => {\r\n      binaryTweenPipeAtom(source, wrapMutations[idx])\r\n    })\r\n\r\n    return output\r\n  }\r\n\r\n  if (numberOfSources) {\r\n    return looseCurryN(numberOfSources, tache)\r\n  } else {\r\n    return (...sources) => {\r\n      if (sources.length === 1 && isArray(sources[0])) {\r\n        sources = sources[0]\r\n      }\r\n      return tache(...sources)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param { ?{\r\n *   acceptNonAtom?: boolean,\r\n *   opCustomizeType?: 'fully' | 'partly',\r\n *   opLiftType?: 'both' | 'left' | 'right',\r\n *   operation: function,\r\n *   autoUpdateContexts?: boolean\r\n * } }config\r\n * @return TacheMaker\r\n */\r\nexport const createObjectMSTache = (config = {}) => {\r\n  if (!isObject(config)) {\r\n    throw (new TypeError(`\"config\" is expected to be type of \"Object\", but received \"${typeof config}\".`))\r\n  }\r\n\r\n  const {\r\n    acceptNonAtom = true,\r\n    opCustomizeType = 'partly', opLiftType = 'both', operation, autoUpdateContexts = true\r\n  } = config\r\n\r\n  if (!isString(opCustomizeType)) {\r\n    throw (new TypeError(`\"opCustomizeType\" is expected to be type of \"String\", but received \"${typeof opCustomizeType}\".`))\r\n  }\r\n  if (opCustomizeType.toLowerCase() !== 'partly' && opCustomizeType.toLowerCase() !== 'fully') {\r\n    throw (new TypeError(`\"opCustomizeType\" is expected to be \"fully\" | \"partly\", but received \"${opCustomizeType}\".`))\r\n  }\r\n  if (operation === undefined) {\r\n    throw (new TypeError('\"operation\" is required when use makeObjectMSTache to make tache.'))\r\n  }\r\n  if (!isFunction(operation)) {\r\n    throw (new TypeError(`\"operation\" is expected to be type of \"Function\", but received \"${typeof operation}\".`))\r\n  }\r\n\r\n  /**\r\n   * @param sources Object\r\n   * @accept ({ name: Atom | Any, ...})\r\n   * @return Data\r\n   */\r\n  const tache = (sources) => {\r\n    if (!isObject(sources)) {\r\n      throw (new TypeError(`\"sources\" is expected to be type of \"Object\", but received \"${typeof sources}\".`))\r\n    }\r\n\r\n    if (!acceptNonAtom) {\r\n      Object.values(sources).forEach(source => {\r\n        if (!isAtom(source)) {\r\n          throw (new TypeError(`\"source\" is expected to be type of \"Atom\", but received \"${typeof source}\".`))\r\n        }\r\n      })\r\n    } else {\r\n      sources = Object.entries(sources).reduce((newSources, [name, source]) => {\r\n        newSources[name] = newSources[name] || (isAtom(source) ? source : replayWithLatest(1, Data.of(source)))\r\n        return newSources\r\n      }, {})\r\n    }\r\n\r\n    const wrapMutations = Object.entries(sources).reduce((mutations, [key]) => {\r\n      mutations[key] = Mutation.ofLiftLeft((prev) => ({ key: key, value: prev }))\r\n      return mutations\r\n    }, {})\r\n    const wrappedDatas = Object.entries(sources).reduce((datas, [key]) => {\r\n      datas[key] = Data.empty()\r\n      return datas\r\n    }, {})\r\n\r\n    const trunkM = Mutation.ofLift((() => {\r\n      const baseContexts = { keysOfSources: Object.keys(sources), TERMINATOR }\r\n\r\n      if (opCustomizeType.toLowerCase() === 'fully') {\r\n        const contexts = { ...baseContexts }\r\n        const actualOperation = operation(contexts)\r\n        if (!isFunction(actualOperation)) {\r\n          throw (new TypeError('\"operation\" is expected to return a \"Function\" when \"opCustomizeType\" is specified to \"fully\".'))\r\n        }\r\n        return actualOperation\r\n      }\r\n      if (opCustomizeType.toLowerCase() === 'partly') {\r\n        const contexts = {\r\n          ...baseContexts,\r\n          states: Object.keys(sources).reduce((acc, key) => {\r\n            acc[key] = false\r\n            return acc\r\n          }, {}),\r\n          values: Object.keys(sources).reduce((acc, key) => {\r\n            acc[key] = undefined\r\n            return acc\r\n          }, {})\r\n        }\r\n        // actual operation which will takes prevDatar(or its value) & datar(ot its value) as argument\r\n        return (prev, cur, mutation, ...args) => {\r\n          if (autoUpdateContexts) {\r\n            const { key, value } = prev\r\n            contexts.states[key] = true\r\n            contexts.values[key] = value\r\n          }\r\n          return operation(prev, cur, mutation, contexts, ...args)\r\n        }\r\n      }\r\n    })(), { liftType: opLiftType })\r\n\r\n    const output = Data.empty()\r\n\r\n    pipeAtom(trunkM, output)\r\n    Object.values(wrappedDatas).forEach(data => {\r\n      pipeAtom(data, trunkM)\r\n    })\r\n    Object.entries(wrapMutations).forEach(([key, wrapMutation]) => {\r\n      pipeAtom(wrapMutation, wrappedDatas[key])\r\n    })\r\n    Object.entries(sources).forEach(([key, source]) => {\r\n      binaryTweenPipeAtom(source, wrapMutations[key])\r\n    })\r\n\r\n    return output\r\n  }\r\n\r\n  return tache\r\n}\r\n\r\n// TODO: waiting for suitable usage scenarios\r\nexport const createMMTache = () => {\r\n  throw (new Error('makeMMTache to be developed.'))\r\n}\r\n","import { isFunction, isObject, isArray } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param preds Array | Object\r\n * @param cases Array | Object\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const caseT = curryN(3, (preds, cases, target) => {\r\n  if (isObject(preds) && isObject(cases)) {\r\n    return objectCaseT(preds, cases, target)\r\n  } else if (isArray(preds) && isArray(cases)) {\r\n    return arrayCaseT(preds, cases, target)\r\n  } else if ((isObject(preds) && isArray(preds)) || (isArray(preds) && isObject(cases))) {\r\n    throw (new TypeError('\"preds\" & \"cases\" argument of caseT are expected to be the same type.'))\r\n  } else {\r\n    throw (new TypeError('\"preds & \"cases\" argument of caseT are expected to be type of \"Object\" | \"Array\".'))\r\n  }\r\n})\r\n\r\n/**\r\n * @param preds Array, [ Function, Atom ] | [ Atom ]\r\n * @param cases Array, [ Any, Atom ] | [ Atom ]\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const arrayCaseT = curryN(3, (preds, cases, target) => {\r\n  if (!isArray(preds)) {\r\n    throw (new TypeError('\"preds\" argument of arrayCaseT is expected to be type of \"Array\".'))\r\n  }\r\n  if (!isArray(cases)) {\r\n    throw (new TypeError('\"cases\" argument of arrayCaseT is expected to be type of \"Array\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of arrayCaseT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (preds.some(v => !isAtom(v)) || cases.some(v => !isAtom(v))) {\r\n    return staticArrayCaseT(preds, cases, target)\r\n  } else {\r\n    return dynamicArrayCaseT(preds, cases, target)\r\n  }\r\n})\r\n\r\n/**\r\n * @param preds Array, [ Atom ]\r\n * @param cases Array, [ Atom ]\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicArrayCaseT = curryN(3, (preds, cases, target) => {\r\n  if (!isArray(preds)) {\r\n    throw (new TypeError('\"preds\" argument of dynamicArrayCaseT is expected to be type of \"Array\".'))\r\n  }\r\n  if (!isArray(cases)) {\r\n    throw (new TypeError('\"cases\" argument of dynamicArrayCaseT is expected to be type of \"Array\".'))\r\n  }\r\n  if (preds.length !== cases.length) {\r\n    throw (new TypeError('Lengths of \"preds\" & \"cases\" argument of arrayCaseT are expected to be equal.'))\r\n  }\r\n  preds.forEach(pred => {\r\n    if (!isAtom(pred)) {\r\n      throw (new TypeError('\"pred\" in \"preds\" argument of dynamicArrayCaseT are expected to be type of \"Atom\".'))\r\n    }\r\n  })\r\n  cases.forEach(item => {\r\n    if (!isAtom(item)) {\r\n      throw (new TypeError('\"case\" in \"cases\" argument of dynamicArrayCaseT are expected to be type of \"Atom\".'))\r\n    }\r\n  })\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of arrayCaseT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapPredMutations = preds.map((pred, idx) => Mutation.ofLiftLeft(prev => ({\r\n    id: idx,\r\n    type: 'pred',\r\n    value: prev\r\n  })))\r\n  const wrapCaseMutations = cases.map((v, idx) => Mutation.ofLiftLeft(prev => ({\r\n    id: idx,\r\n    type: 'case',\r\n    value: prev\r\n  })))\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n\r\n  const wrappedPredDatas = preds.map(() => Data.empty())\r\n  const wrappedCaseDatas = cases.map(() => Data.empty())\r\n  const wrappedTargetD = Data.empty()\r\n\r\n  const caseM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { pred: Array.from({ length: preds.length }), case: Array.from({ length: cases.length }), target: false }\r\n    const _internalValues = { pred: Array.from({ length: preds.length }), case: Array.from({ length: cases.length }), target: undefined }\r\n    return prev => {\r\n      const { id, type, value } = prev\r\n      if (type !== 'pred' && type !== 'case' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in caseM, expected to be \"pred\" | \"case\" | \"target\", but received \"${type}\"`))\r\n      }\r\n      if (type === 'pred' || type === 'case') {\r\n        _internalStates[type][id] = true\r\n        _internalValues[type][id] = value\r\n      }\r\n      if (type === 'target') {\r\n        _internalStates[type] = true\r\n        _internalValues[type] = value\r\n      }\r\n      if (!_internalStates.target || _internalStates.pred.some(v => !v)) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'pred' || type === 'case') {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'target') {\r\n        let matched = false\r\n        let res\r\n        for (let i = 0, len = _internalValues.pred.length; i < len; i++) {\r\n          if (matched) {\r\n            break\r\n          } else {\r\n            if (_internalValues.pred[i](_internalValues.target)) {\r\n              matched = true\r\n              res = _internalStates.case[i] ? _internalValues.case[i] : TERMINATOR\r\n            }\r\n            return matched ? res : TERMINATOR\r\n          }\r\n        }\r\n        return res\r\n      }\r\n    }\r\n  })())\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(caseM, outputD)\r\n\r\n  wrapPredMutations.forEach((mutation, idx) => {\r\n    pipeAtom(mutation, wrappedPredDatas[idx], caseM)\r\n    binaryTweenPipeAtom(preds[idx], mutation)\r\n  })\r\n  wrapCaseMutations.forEach((mutation, idx) => {\r\n    pipeAtom(mutation, wrappedCaseDatas[idx], caseM)\r\n    binaryTweenPipeAtom(cases[idx], mutation)\r\n  })\r\n  pipeAtom(wrapTargetM, wrappedTargetD, caseM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param preds Array, [ Function, Atom ]\r\n * @param cases Array, [ Any, Atom ]\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticArrayCaseT = curryN(3, (preds, cases, target) => {\r\n  if (!isArray(preds)) {\r\n    throw (new TypeError('\"preds\" argument of staticArrayCaseT is expected to be type of \"Array\".'))\r\n  }\r\n  if (!isArray(cases)) {\r\n    throw (new TypeError('\"cases\" argument of staticArrayCaseT is expected to be type of \"Array\".'))\r\n  }\r\n  preds.forEach((pred, idx) => {\r\n    if (isFunction(pred)) {\r\n      preds[idx] = replayWithLatest(1, Data.of(pred))\r\n    } else if (isAtom(pred)) {\r\n      // do nothing\r\n    } else {\r\n      throw (new TypeError('\"pred\" in \"preds\" argument of staticArrayCaseT are expected to be type of \"Function\" | \"Atom\".'))\r\n    }\r\n  })\r\n  cases.forEach((item, idx) => {\r\n    if (!isAtom(item)) {\r\n      cases[idx] = replayWithLatest(1, Data.of(item))\r\n    }\r\n  })\r\n  return dynamicArrayCaseT(preds, cases, target)\r\n})\r\n\r\n/**\r\n * @param preds Object, { Function, Atom } | { Atom }\r\n * @param cases Object, { Any, Atom } | { Atom }\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const objectCaseT = curryN(3, (preds, cases, target) => {\r\n  if (!isObject(preds)) {\r\n    throw (new TypeError('\"preds\" argument of objectCaseT is expected to be type of  \"Object\".'))\r\n  }\r\n  if (!isObject(cases)) {\r\n    throw (new TypeError('\"cases\" argument of objectCaseT is expected to be type of  \"Object\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of objectCaseT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (Object.values(preds).some(v => !isAtom(v)) || Object.values(cases).some(v => !isAtom(v))) {\r\n    return staticObjectCaseT(preds, cases, target)\r\n  } else {\r\n    return dynamicObjectCaseT(preds, cases, target)\r\n  }\r\n})\r\n\r\n/**\r\n * @param preds Object, { Atom }\r\n * @param cases Object, { Atom }\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicObjectCaseT = curryN(3, (preds, cases, target) => {\r\n  if (!isObject(preds)) {\r\n    throw (new TypeError('\"preds\" argument of dynamicObjectCaseT is expected to be type of \"Object\".'))\r\n  }\r\n  if (!isObject(cases)) {\r\n    throw (new TypeError('\"cases\" argument of dynamicObjectCaseT is expected to be type of  \"Object\".'))\r\n  }\r\n  if (new Set([...Object.keys(preds), ...Object.keys(cases)]).size !== Object.keys(preds).length) {\r\n    throw (new TypeError('\"preds\" & \"cases\" argument of dynamicObjectCaseT are expected to have same keys.'))\r\n  }\r\n  Object.values(preds).forEach((item) => {\r\n    if (!isAtom(item)) {\r\n      throw (new TypeError('\"pred\" in \"preds\" argument of dynamicObjectCaseT are expected to be type of \"Atom\".'))\r\n    }\r\n  })\r\n  Object.values(cases).forEach((item) => {\r\n    if (!isAtom(item)) {\r\n      throw (new TypeError('\"case\" in \"cases\" argument of dynamicObjectCaseT are expected to be type of \"Atom\".'))\r\n    }\r\n  })\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of arrayCaseT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapPredMutations = Object.entries(preds).reduce((acc, [key]) => {\r\n    acc[key] = Mutation.ofLiftLeft(prev => ({ key: key, type: 'pred', value: prev }))\r\n    return acc\r\n  }, {})\r\n  const wrapCaseMutations = Object.entries(cases).reduce((acc, [key]) => {\r\n    acc[key] = Mutation.ofLiftLeft(prev => ({ key: key, type: 'case', value: prev }))\r\n    return acc\r\n  }, {})\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n\r\n  const wrappedPredDatas = Object.entries(preds).reduce((acc, [key]) => {\r\n    acc[key] = Data.empty()\r\n    return acc\r\n  }, {})\r\n  const wrappedCaseDatas = Object.entries(cases).reduce((acc, [key]) => {\r\n    acc[key] = Data.empty()\r\n    return acc\r\n  }, {})\r\n  const wrappedTargetD = Data.empty()\r\n\r\n  const caseM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { pred: {}, case: {}, target: false }\r\n    const _internalValues = { pred: {}, case: {}, target: undefined }\r\n    return prev => {\r\n      const { key, type, value } = prev\r\n      if (type !== 'pred' && type !== 'case' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in caseM, expected to be \"pred\" | \"case\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      if (type === 'pred' || type === 'case') {\r\n        _internalStates[type][key] = true\r\n        _internalValues[type][key] = value\r\n      }\r\n      if (type === 'target') {\r\n        _internalStates[type] = true\r\n        _internalValues[type] = value\r\n      }\r\n      if (!_internalStates.target || Object.values(_internalStates.pred).some(v => !v)) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'pred' || type === 'case') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        let matched = false\r\n        let res\r\n        const keys = Object.keys(_internalValues.pred)\r\n        for (let i = 0, len = keys.length; i < len; i++) {\r\n          const key = keys[i]\r\n          if (matched) {\r\n            break\r\n          } else {\r\n            if (_internalValues.pred[key](_internalValues.target)) {\r\n              matched = true\r\n              res = _internalStates.case[key] ? _internalValues.case[key] : TERMINATOR\r\n            }\r\n            return matched ? res : TERMINATOR\r\n          }\r\n        }\r\n        return res\r\n      }\r\n    }\r\n  })())\r\n\r\n  const outputD = Data.empty()\r\n\r\n  pipeAtom(caseM, outputD)\r\n  Object.entries(wrapPredMutations).forEach(([key, mutation]) => {\r\n    pipeAtom(mutation, wrappedPredDatas[key], caseM)\r\n    binaryTweenPipeAtom(preds[key], mutation)\r\n  })\r\n  Object.entries(wrapCaseMutations).forEach(([key, mutation]) => {\r\n    pipeAtom(mutation, wrappedCaseDatas[key], caseM)\r\n    binaryTweenPipeAtom(cases[key], mutation)\r\n  })\r\n  pipeAtom(wrapTargetM, wrappedTargetD, caseM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param preds Object, { Function, Atom }\r\n * @param cases Object, { Any, Atom }\r\n * @parem target Atom\r\n * @return atom Data\r\n */\r\nexport const staticObjectCaseT = curryN(3, (preds, cases, target) => {\r\n  if (!isObject(preds)) {\r\n    throw (new TypeError('\"preds\" argument of staticObjectCaseT is expected to be type of \"Object\".'))\r\n  }\r\n  if (!isObject(cases)) {\r\n    throw (new TypeError('\"cases\" argument of staticObjectCaseT is expected to be type of  \"Object\".'))\r\n  }\r\n  Object.entries(preds).forEach(([key, pred]) => {\r\n    if (isFunction(pred)) {\r\n      preds[key] = replayWithLatest(1, Data.of(pred))\r\n    } else if (isAtom(pred)) {\r\n      // do nothing\r\n    } else {\r\n      throw (new TypeError('\"pred\" in \"preds\" argument of staticObjectCaseT are expected to be type of \"Function\" | \"Atom\".'))\r\n    }\r\n  })\r\n  Object.entries(cases).forEach(([key, item]) => {\r\n    if (!isAtom(item)) {\r\n      cases[key] = replayWithLatest(1, Data.of(item))\r\n    }\r\n  })\r\n  return dynamicObjectCaseT(preds, cases, target)\r\n})\r\n","import { isArray, isObject } from '../../internal.js'\r\nimport { TERMINATOR, isTerminator } from '../meta.js'\r\nimport { Mutation, Data, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param argument Atom | [Atom] | { Atom }\r\n * @return atom Data\r\n */\r\nexport const combineT = (...args) => {\r\n  if (isAtom(args[0]) || isArray(args[0])) {\r\n    return arrayCombineT(...args)\r\n  } else if (isObject(args[0])) {\r\n    return objectCombineT(...args)\r\n  } else {\r\n    throw (new TypeError('Arguments of combineT are expected to be type of Atom | [Atom] | { Atom }.'))\r\n  }\r\n}\r\n\r\n/**\r\n * @param argument Atom | [Atom]\r\n * @return atom Data\r\n */\r\nexport const arrayCombineT = (...args) => {\r\n  let atoms = args[0]\r\n  if (!isArray(atoms)) {\r\n    atoms = args\r\n  }\r\n\r\n  const inputAtoms = atoms.map(atom => {\r\n    if (!isAtom(atom)) {\r\n      throw (new TypeError('Arguments of combineT are expected to be type of \"Atom\".'))\r\n    }\r\n    return atom\r\n  })\r\n\r\n  const length = atoms.length\r\n\r\n  const wrapMutations = Array.from({ length }).map((val, idx) =>\r\n    Mutation.ofLiftLeft((prev) => ({ id: idx, value: prev }))\r\n  )\r\n\r\n  const wrappedDatas = Array.from({ length }).map(() => Data.empty())\r\n\r\n  const combineM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = Array.from({ length })\r\n    const _intervalValues = Array.from({ length })\r\n    return prev => {\r\n      const { id, value } = prev\r\n\r\n      if (isTerminator(value)) return TERMINATOR\r\n\r\n      _internalStates[id] = true\r\n      _intervalValues[id] = value\r\n\r\n      return [..._intervalValues]\r\n    }\r\n  })())\r\n\r\n  const outputD = Data.of(Array.from({ length }))\r\n\r\n  pipeAtom(combineM, outputD)\r\n  wrappedDatas.forEach(data => {\r\n    pipeAtom(data, combineM)\r\n  })\r\n  wrapMutations.forEach((wrapMutation, idx) => {\r\n    pipeAtom(wrapMutation, wrappedDatas[idx])\r\n  })\r\n  inputAtoms.forEach((atom, idx) => {\r\n    binaryTweenPipeAtom(atom, wrapMutations[idx])\r\n  })\r\n\r\n  return outputD\r\n}\r\n\r\n/**\r\n * @param obj Object, { Atom }\r\n * @return atom Data\r\n */\r\nexport const objectCombineT = (obj) => {\r\n  const inputAtoms = Object.entries(obj).reduce((acc, [key, atom]) => {\r\n    if (!isAtom(atom)) {\r\n      throw (new TypeError('Arguments of objectCombineT are expected to be type of \"Atom\".'))\r\n    }\r\n    acc[key] = atom\r\n    return acc\r\n  }, {})\r\n\r\n  const wrapMutations = Object.entries(obj).reduce((acc, [key]) => {\r\n    acc[key] = Mutation.ofLiftLeft((prev) => ({ key: key, value: prev }))\r\n    return acc\r\n  }, {})\r\n\r\n  const wrappedDatas = Object.entries(obj).reduce((acc, [key]) => {\r\n    acc[key] = Data.empty()\r\n    return acc\r\n  }, {})\r\n\r\n  const combineM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = Object.keys(obj).reduce((acc, key) => {\r\n      acc[key] = false\r\n      return acc\r\n    }, {})\r\n    const _intervalValues = Object.keys(obj).reduce((acc, key) => {\r\n      acc[key] = undefined\r\n      return acc\r\n    }, {})\r\n    return prev => {\r\n      const { key, value } = prev\r\n\r\n      if (isTerminator(value)) return TERMINATOR\r\n\r\n      _internalStates[key] = true\r\n      _intervalValues[key] = value\r\n\r\n      return { ..._intervalValues }\r\n    }\r\n  })())\r\n\r\n  const outputD = Data.of(Object.keys(obj).reduce((acc, key) => {\r\n    acc[key] = undefined\r\n    return acc\r\n  }, {}))\r\n\r\n  pipeAtom(combineM, outputD)\r\n  Object.values(wrappedDatas).forEach(data => {\r\n    pipeAtom(data, combineM)\r\n  })\r\n  Object.entries(wrapMutations).forEach(([key, wrapMutation]) => {\r\n    pipeAtom(wrapMutation, wrappedDatas[key])\r\n  })\r\n  Object.entries(inputAtoms).forEach(([key, atom]) => {\r\n    binaryTweenPipeAtom(atom, wrapMutations[key])\r\n  })\r\n\r\n  return outputD\r\n}\r\n","import { isArray, isObject } from '../../internal.js'\r\nimport { TERMINATOR, isTerminator } from '../meta.js'\r\nimport { Mutation, Data, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param argument Atom | [Atom] | { Atom }\r\n * @return atom Data\r\n */\r\nexport const combineLatestT = (...args) => {\r\n  if (isAtom(args[0]) || isArray(args[0])) {\r\n    return arrayCombineLatestT(...args)\r\n  } else if (isObject(args[0])) {\r\n    return objectCombineLatestT(...args)\r\n  } else {\r\n    throw (new TypeError('Arguments of combineLatestT are expected to be type of Atom | [Atom] | { Atom }.'))\r\n  }\r\n}\r\n\r\n/**\r\n * @param argument Atom | [Atom]\r\n * @return atom Data\r\n */\r\nexport const arrayCombineLatestT = (...args) => {\r\n  let atoms = args[0]\r\n  if (!isArray(atoms)) {\r\n    atoms = args\r\n  }\r\n\r\n  const inputAtoms = atoms.map(atom => {\r\n    if (!isAtom(atom)) {\r\n      throw (new TypeError('Arguments of combineT are expected to be type of \"Atom\".'))\r\n    }\r\n    return atom\r\n  })\r\n\r\n  const length = atoms.length\r\n\r\n  const wrapMutations = Array.from({ length }).map((val, idx) =>\r\n    Mutation.ofLiftLeft((prev) => ({ id: idx, value: prev }))\r\n  )\r\n\r\n  const wrappedDatas = Array.from({ length }).map(() => Data.empty())\r\n\r\n  const combineM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = Array.from({ length })\r\n    const _intervalValues = Array.from({ length })\r\n    return prev => {\r\n      const { id, value } = prev\r\n\r\n      if (isTerminator(value)) return TERMINATOR\r\n\r\n      _internalStates[id] = true\r\n      _intervalValues[id] = value\r\n\r\n      if (_internalStates.every(val => val)) {\r\n        return [..._intervalValues]\r\n      } else {\r\n        return TERMINATOR\r\n      }\r\n    }\r\n  })())\r\n\r\n  const outputD = Data.empty()\r\n\r\n  pipeAtom(combineM, outputD)\r\n  wrappedDatas.forEach(data => {\r\n    pipeAtom(data, combineM)\r\n  })\r\n  wrapMutations.forEach((wrapMutation, idx) => {\r\n    pipeAtom(wrapMutation, wrappedDatas[idx])\r\n  })\r\n  inputAtoms.forEach((atom, idx) => {\r\n    binaryTweenPipeAtom(atom, wrapMutations[idx])\r\n  })\r\n\r\n  return outputD\r\n}\r\n\r\n/**\r\n * @param obj Object, { Atom }\r\n * @return atom Data\r\n */\r\nexport const objectCombineLatestT = (obj) => {\r\n  const inputAtoms = Object.entries(obj).reduce((acc, [key, atom]) => {\r\n    if (!isAtom(atom)) {\r\n      throw (new TypeError('Arguments of objectCombineLatestT are expected to be type of \"Atom\".'))\r\n    }\r\n    acc[key] = atom\r\n    return acc\r\n  }, {})\r\n\r\n  const wrapMutations = Object.entries(obj).reduce((acc, [key]) => {\r\n    acc[key] = Mutation.ofLiftLeft((prev) => ({ key: key, value: prev }))\r\n    return acc\r\n  }, {})\r\n\r\n  const wrappedDatas = Object.entries(obj).reduce((acc, [key]) => {\r\n    acc[key] = Data.empty()\r\n    return acc\r\n  }, {})\r\n\r\n  const combineM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = Object.keys(obj).reduce((acc, key) => {\r\n      acc[key] = false\r\n      return acc\r\n    }, {})\r\n    const _intervalValues = Object.keys(obj).reduce((acc, key) => {\r\n      acc[key] = undefined\r\n      return acc\r\n    }, {})\r\n    return prev => {\r\n      const { key, value } = prev\r\n\r\n      if (isTerminator(value)) return TERMINATOR\r\n\r\n      _internalStates[key] = true\r\n      _intervalValues[key] = value\r\n\r\n      if (Object.values(_internalStates).every(val => val)) {\r\n        return { ..._intervalValues }\r\n      } else {\r\n        return TERMINATOR\r\n      }\r\n    }\r\n  })())\r\n\r\n  const outputD = Data.empty()\r\n\r\n  pipeAtom(combineM, outputD)\r\n  Object.values(wrappedDatas).forEach(data => {\r\n    pipeAtom(data, combineM)\r\n  })\r\n  Object.entries(wrapMutations).forEach(([key, wrapMutation]) => {\r\n    pipeAtom(wrapMutation, wrappedDatas[key])\r\n  })\r\n  Object.entries(inputAtoms).forEach(([key, atom]) => {\r\n    binaryTweenPipeAtom(atom, wrapMutations[key])\r\n  })\r\n\r\n  return outputD\r\n}\r\n","import { isNumber } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\n\r\n/**\r\n * @param timer Number | Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const debounceTimeT = curryN(2, (timer, target) => {\r\n  if (isNumber(timer)) {\r\n    return staticDebounceTimeT(timer, target)\r\n  } else if (isAtom(timer)) {\r\n    return dynamicDebounceTimeT(timer, target)\r\n  } else {\r\n    throw (new TypeError('\"timer\" argument of debounceTimeT is expected to be type of \"Number\" or \"Atom\".'))\r\n  }\r\n})\r\n\r\n/**\r\n * the value target will only triggered when timer atom has at least one value\r\n *\r\n * @param timer Atom, which value is used as debounce time(in milliseconds)\r\n * @param target Atom, which value will be debounced with specified time\r\n * @return atom Data\r\n */\r\nexport const dynamicDebounceTimeT = curryN(2, (timer, target) => {\r\n  if (!isAtom(timer)) {\r\n    throw (new TypeError('\"timer\" argument of dynamicDebounceTimeT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicDebounceTimeT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapTimerM = Mutation.ofLiftLeft(prev => ({ type: 'timer', value: prev }))\r\n  const wrappedTimerD = Data.empty()\r\n  pipeAtom(wrapTimerM, wrappedTimerD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const debounceM = Mutation.ofLiftLeft((() => {\r\n    // use closure to define private state for mutation's operation\r\n    const _internalStates = { timer: false, target: false, clock: 0 }\r\n    const _internalValues = { timer: undefined, target: undefined }\r\n    // actual mutation operation function\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'timer' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in debounceM, expected to be \"timer\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.timer || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'timer') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        clearTimeout(_internalStates.clock)\r\n        _internalStates.clock = setTimeout(() => {\r\n          debounceM.triggerOperation(() => _internalValues.target)\r\n        }, _internalValues.timer)\r\n        return TERMINATOR\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedTimerD, debounceM)\r\n  pipeAtom(wrappedTargetD, debounceM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(debounceM, outputD)\r\n\r\n  binaryTweenPipeAtom(timer, wrapTimerM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param ms Atom, which will be used as debounce time(in milliseconds)\r\n * @param target Atom, which value will be debounced with specified time\r\n * @return atom Data\r\n */\r\nexport const staticDebounceTimeT = curryN(2, (ms, target) => {\r\n  if (!isNumber(ms)) {\r\n    throw (new TypeError('\"ms\" argument of staticDebounceTimeT is expected to be type of \"Number\".'))\r\n  }\r\n  return dynamicDebounceTimeT(replayWithLatest(1, Data.of(ms)), target)\r\n})\r\n","import { curryN } from '../../functional.js'\r\nimport { TERMINATOR, isVoid } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * Takes a default value and a target atom as argument,\r\n * emit given default value if value of target atom isVoid.\r\n *\r\n * - dynamic version: default value must be an Atom.\r\n * - static version: default value can be any type of value.\r\n *\r\n * @param default Any | Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const defaultToT = curryN(2, (dft, target) => {\r\n  if (isAtom(dft)) {\r\n    return dynamicDefautToT(dft, target)\r\n  } else {\r\n    return staticDefaultToT(dft, target)\r\n  }\r\n})\r\n\r\n/**\r\n * @param default Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicDefautToT = curryN(2, (dft, target) => {\r\n  if (!isAtom(dft)) {\r\n    throw (new TypeError('\"dft\" argument of dynamicDefautToT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicDefautToT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapDftM = Mutation.ofLiftLeft(prev => ({ type: 'dft', value: prev }))\r\n  const wrappedDftD = Data.empty()\r\n  pipeAtom(wrapDftM, wrappedDftD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const defaultM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { dft: false, target: false }\r\n    const _internalValues = { dft: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'dft' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in defaultM, expected to be \"dft\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.dft || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'dft') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        return isVoid(_internalValues.target) ? _internalValues.dft : _internalValues.target\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedDftD, defaultM)\r\n  pipeAtom(wrappedTargetD, defaultM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(defaultM, outputD)\r\n\r\n  binaryTweenPipeAtom(dft, wrapDftM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param default Any\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticDefaultToT = curryN(2, (dft, target) => {\r\n  return dynamicDefautToT(replayWithLatest(1, Data.of(dft)), target)\r\n})\r\n","import { isFunction } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param transform Function | Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const distinctEverT = curryN(2, (transform, target) => {\r\n  if (isFunction(transform)) {\r\n    return staticDistinctEverT(transform, target)\r\n  } else if (isAtom(transform)) {\r\n    return dynamicDistinctEverT(transform, target)\r\n  } else {\r\n    throw (new TypeError('\"transform\" argument of distinctEverT is expected to be type of \"Number\" or \"Atom\".'))\r\n  }\r\n})\r\n\r\n/**\r\n * @param transform Atom, atom of transform Funtion which will\r\n *                  take a value as input and return a value as distinct compare unit\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicDistinctEverT = curryN(2, (transform, target) => {\r\n  if (!isAtom(transform)) {\r\n    throw (new TypeError('\"transform\" argument of dynamicDistinctEverT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicDistinctEverT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapTransformM = Mutation.ofLiftLeft(prev => ({ type: 'transform', value: prev }))\r\n  const wrappedTransformD = Data.empty()\r\n  pipeAtom(wrapTransformM, wrappedTransformD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const distinctM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { transform: false, target: false, history: [] }\r\n    const _internalValues = { transform: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'transform' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in distinctM, expected to be \"transform\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.transform || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'transform') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        const transformed = _internalValues.transform(_internalValues.target)\r\n        const history = _internalStates.history\r\n        if (history.includes(transformed)) {\r\n          return TERMINATOR\r\n        } else {\r\n          history.push(transformed)\r\n          return _internalValues.target\r\n        }\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedTargetD, distinctM)\r\n  pipeAtom(wrappedTransformD, distinctM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(distinctM, outputD)\r\n\r\n  binaryTweenPipeAtom(transform, wrapTransformM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param transform Function\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticDistinctEverT = curryN(2, (transform, target) => {\r\n  if (!isFunction(transform)) {\r\n    throw (new TypeError('\"transform\" argument of staticDistinctEverT is expected to be type of \"Function\".'))\r\n  }\r\n  return dynamicDistinctEverT(replayWithLatest(1, Data.of(transform)), target)\r\n})\r\n\r\n/**\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const asIsDistinctEverT = distinctEverT(v => v)\r\n","import { isFunction } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param transform Function | Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const distinctPreviousT = curryN(2, (transform, target) => {\r\n  if (isFunction(transform)) {\r\n    return staticDistinctPreviousT(transform, target)\r\n  } else if (isAtom(transform)) {\r\n    return dynamicDistinctPreviousT(transform, target)\r\n  } else {\r\n    throw (new TypeError('\"transform\" argument of distinctPreviousT is expected to be type of \"Number\" or \"Atom\".'))\r\n  }\r\n})\r\n\r\n/**\r\n * @param transform Atom, atom of transform Funtion which will\r\n *                  take a value as input and return a value as distinct compare unit\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicDistinctPreviousT = curryN(2, (transform, target) => {\r\n  if (!isAtom(transform)) {\r\n    throw (new TypeError('\"transform\" argument of dynamicDistinctPreviousT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicDistinctPreviousT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapTransformM = Mutation.ofLiftLeft(prev => ({ type: 'transform', value: prev }))\r\n  const wrappedTransformD = Data.empty()\r\n  pipeAtom(wrapTransformM, wrappedTransformD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const distinctM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { transform: false, target: false, previous: undefined }\r\n    const _internalValues = { transform: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'transform' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received, expected to be \"transform\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.transform || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'transform') {\r\n        // change of transform will not trigger target value emittion\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        const prevTransformed = _internalValues.transform(_internalStates.previous)\r\n        const transformed = _internalValues.transform(_internalValues.target)\r\n        if (prevTransformed === transformed) {\r\n          return TERMINATOR\r\n        } else {\r\n          _internalStates.previous = _internalValues.target\r\n          return _internalValues.target\r\n        }\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedTargetD, distinctM)\r\n  pipeAtom(wrappedTransformD, distinctM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(distinctM, outputD)\r\n\r\n  binaryTweenPipeAtom(transform, wrapTransformM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param transform Function\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticDistinctPreviousT = curryN(2, (transform, target) => {\r\n  if (!isFunction(transform)) {\r\n    throw (new TypeError('\"transform\" argument of staticDistinctPreviousT is expected to be type of \"Function\".'))\r\n  }\r\n  return dynamicDistinctPreviousT(replayWithLatest(1, Data.of(transform)), target)\r\n})\r\n\r\n/**\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const asIsDistinctPreviousT = distinctPreviousT(v => v)\r\n","import { isFunction } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param effect Function | Atom, takes a effect function that takes\r\n *               an emit function, a target value, and a instantly emit value set function.\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const effectT = curryN(2, (effect, target) => {\r\n  if (isFunction(effect)) {\r\n    return staticEffectT(effect, target)\r\n  } else if (isAtom(effect)) {\r\n    return dynamicEffectT(effect, target)\r\n  } else {\r\n    throw (new TypeError('\"effect\" argument of effectT is expected to be type of \"Function\" or \"Atom\"'))\r\n  }\r\n})\r\n\r\n/**\r\n * @param effect Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicEffectT = curryN(2, (effect, target) => {\r\n  if (!isAtom(effect)) {\r\n    throw (new TypeError('\"effect\" argument of dynamicEffectT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicEffectT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapEffectM = Mutation.ofLiftLeft(prev => ({ type: 'effect', value: prev }))\r\n  const wrappedEffectD = Data.empty()\r\n  pipeAtom(wrapEffectM, wrappedEffectD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const effectM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { effect: false, target: false }\r\n    const _internalValues = { effect: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'effect' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in effectM, expected to be \"effect\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.effect || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'effect') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        let hasSetReturned = false\r\n        let _returned\r\n        const result = _internalValues.effect(\r\n          value => {\r\n            effectM.triggerOperation(() => value)\r\n          },\r\n          _internalValues.target,\r\n          returned => {\r\n            hasSetReturned = true\r\n            _returned = returned\r\n          }\r\n        )\r\n        return hasSetReturned ? _returned : (result || TERMINATOR)\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedEffectD, effectM)\r\n  pipeAtom(wrappedTargetD, effectM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(effectM, outputD)\r\n\r\n  binaryTweenPipeAtom(effect, wrapEffectM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param effect Function\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticEffectT = curryN(2, (effect, target) => {\r\n  if (!isFunction(effect)) {\r\n    throw (new TypeError('\"effect\" argument of staticEffectT is expected to be type of \"Function\".'))\r\n  }\r\n  return dynamicEffectT(replayWithLatest(1, Data.of(effect)), target)\r\n})\r\n","import { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\nexport const emptyStartWithT = curryN(2, (start, target) => {\r\n  if (isAtom(start)) {\r\n    return dynamicEmptyStartWithT(start, target)\r\n  } else {\r\n    return staticEmptyStartWithT(start, target)\r\n  }\r\n})\r\n\r\n/**\r\n * @param start Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicEmptyStartWithT = curryN(2, (start, target) => {\r\n  if (!isAtom(start)) {\r\n    throw (new TypeError('\"start\" argument of dynamicEmptyStartWithT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicEmptyStartWithT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  start = replayWithLatest(1, start)\r\n  target = replayWithLatest(1, target)\r\n\r\n  const wrapStartM = Mutation.ofLiftLeft(prev => ({ type: 'start', value: prev }))\r\n  const wrappedStartD = Data.empty()\r\n  pipeAtom(wrapStartM, wrappedStartD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const startM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { start: false, target: false, startExpired: false }\r\n    const _internalValues = { start: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'start' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in startM, expected to be \"start\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (type === 'target') {\r\n        return _internalValues.target\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'start' && _internalStates.startExpired) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'start' && !_internalStates.startExpired) {\r\n        _internalStates.startExpired = true\r\n        return _internalStates.target ? TERMINATOR : _internalValues.start\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedStartD, startM)\r\n  pipeAtom(wrappedTargetD, startM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(startM, outputD)\r\n\r\n  binaryTweenPipeAtom(start, wrapStartM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param start Any\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticEmptyStartWithT = curryN(2, (start, target) => {\r\n  return dynamicEmptyStartWithT(replayWithLatest(1, Data.of(start)), target)\r\n})\r\n","import { isFunction } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Mutation, Data, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param pred Function | Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const filterT = curryN(2, (pred, target) => {\r\n  if (isFunction(pred)) {\r\n    return staticFilterT(pred, target)\r\n  } else if (isAtom(pred)) {\r\n    return dynamicFilterT(pred, target)\r\n  } else {\r\n    throw (new TypeError('\"pred\" argument of filterT is expected to be type of \"Function\" or \"Atom\".'))\r\n  }\r\n})\r\n\r\n/**\r\n * @param pred Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicFilterT = curryN(2, (pred, target) => {\r\n  if (!isAtom(pred)) {\r\n    throw (new TypeError('\"pred\" argument of dynamicFilterT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicFilterT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapPredM = Mutation.ofLiftLeft(prev => ({ type: 'pred', value: prev }))\r\n  const wrappedPredD = Data.empty()\r\n  pipeAtom(wrapPredM, wrappedPredD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const filterM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { pred: false, target: false, index: -1 }\r\n    const _internalValues = { pred: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'pred' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in filterM, expected to be \"pred\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.pred || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'pred') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        _internalStates.index = _internalStates.index + 1\r\n        return _internalValues.pred(_internalValues.target, _internalStates.index) ? _internalValues.target : TERMINATOR\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedPredD, filterM)\r\n  pipeAtom(wrappedTargetD, filterM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(filterM, outputD)\r\n\r\n  binaryTweenPipeAtom(pred, wrapPredM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param pred Function\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticFilterT = curryN(2, (pred, target) => {\r\n  if (!isFunction(pred)) {\r\n    throw (new TypeError('\"pred\" argument of staticFilterT is expected to be type of \"Function\".'))\r\n  }\r\n  return dynamicFilterT(replayWithLatest(1, Data.of(pred)), target)\r\n})\r\n","import { isFunction } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param pred Function | Atom\r\n * @param trueTarget Atom\r\n * @param falseTarget Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const iifT = curryN(4, (pred, trueTarget, falseTarget, target) => {\r\n  if (isFunction(pred)) {\r\n    return staticIifT(pred, trueTarget, falseTarget, target)\r\n  } else if (isAtom(pred)) {\r\n    return dynamicIifT(pred, trueTarget, falseTarget, target)\r\n  } else {\r\n    throw (new TypeError('\"pred\" argument of iifT is expected to be type of \"Function\" | \"Atom\".'))\r\n  }\r\n})\r\n\r\n/**\r\n * @param pred Atom\r\n * @param trueTarget Atom\r\n * @param falseTarget Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicIifT = curryN(4, (pred, trueTarget, falseTarget, target) => {\r\n  if (!isAtom(pred)) {\r\n    throw (new TypeError('\"pred\" argument of dynamicFilterT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(trueTarget)) {\r\n    throw (new TypeError('\"trueTarget\" argument of dynamicFilterT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(falseTarget)) {\r\n    throw (new TypeError('\"falseTarget\" argument of dynamicFilterT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicFilterT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapPredM = Mutation.ofLiftLeft(prev => ({ type: 'pred', value: prev }))\r\n  const wrappedPredD = Data.empty()\r\n  pipeAtom(wrapPredM, wrappedPredD)\r\n  const wrapTrueTargetM = Mutation.ofLiftLeft(prev => ({ type: 'trueTarget', value: prev }))\r\n  const wrappedTrueTargetD = Data.empty()\r\n  pipeAtom(wrapTrueTargetM, wrappedTrueTargetD)\r\n  const wrapFalseTargetM = Mutation.ofLiftLeft(prev => ({ type: 'falseTarget', value: prev }))\r\n  const wrappedFalseTargetD = Data.empty()\r\n  pipeAtom(wrapFalseTargetM, wrappedFalseTargetD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const filterM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { pred: false, trueTarget: false, falseTarget: false, target: false, index: -1 }\r\n    const _internalValues = { pred: undefined, trueTarget: undefined, falseTarget: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'pred' && type !== 'trueTarget' && type !== 'falseTarget' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in filterM, expected to be \"pred\" | \"trueTarget\" | \"falseTarget\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.pred || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'pred') {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'trueTarget' || type === 'falseTarget') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        _internalStates.index = _internalStates.index + 1\r\n        const predRes = _internalValues.pred(_internalValues.target, _internalStates.index)\r\n        if (predRes) {\r\n          return _internalStates.trueTarget ? _internalValues.trueTarget : TERMINATOR\r\n        } else {\r\n          return _internalStates.falseTarget ? _internalValues.falseTarget : TERMINATOR\r\n        }\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedPredD, filterM)\r\n  pipeAtom(wrappedTrueTargetD, filterM)\r\n  pipeAtom(wrappedFalseTargetD, filterM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(filterM, outputD)\r\n\r\n  binaryTweenPipeAtom(pred, wrapPredM)\r\n  binaryTweenPipeAtom(trueTarget, wrapTrueTargetM)\r\n  binaryTweenPipeAtom(falseTarget, wrapFalseTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param pred Atom\r\n * @param trueTarget Atom\r\n * @param falseTarget Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticIifT = curryN(4, (pred, trueTarget, falseTarget, target) => {\r\n  if (!isFunction(pred)) {\r\n    throw (new TypeError('\"pred\" argument of staticIifT is expected to be type of \"Function\".'))\r\n  }\r\n  return dynamicIifT(replayWithLatest(1, Data.of(pred)), trueTarget, falseTarget, target)\r\n})\r\n","import { isFunction } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param fn Function | Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const mapT = curryN(2, (fn, target) => {\r\n  if (isFunction(fn)) {\r\n    return staticMapT(fn, target)\r\n  } else if (isAtom(fn)) {\r\n    return dynamicMapT(fn, target)\r\n  } else {\r\n    throw (new TypeError('\"fn\" argument of mapT is expected to be type of \"Function\" or \"Atom\".'))\r\n  }\r\n})\r\n\r\n/**\r\n * @param fn Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicMapT = curryN(2, (fn, target) => {\r\n  if (!isAtom(fn)) {\r\n    throw (new TypeError('\"fn\" argument of dynamicMapT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicMapT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapMapM = Mutation.ofLiftLeft(prev => ({ type: 'map', value: prev }))\r\n  const wrappedMapD = Data.empty()\r\n  pipeAtom(wrapMapM, wrappedMapD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const mapM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { map: false, target: false, index: -1 }\r\n    const _internalValues = { map: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'map' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in mapM, expected to be \"map\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.map || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n\r\n      if (type === 'map') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        _internalStates.index = _internalStates.index + 1\r\n        return _internalValues.map(_internalValues.target, _internalStates.index)\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedMapD, mapM)\r\n  pipeAtom(wrappedTargetD, mapM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(mapM, outputD)\r\n\r\n  binaryTweenPipeAtom(fn, wrapMapM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param fn Function\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticMapT = curryN(2, (fn, target) => {\r\n  if (!isFunction(fn)) {\r\n    throw (new TypeError('\"fn\" argument of staticMapT is expected to be type of \"Function\".'))\r\n  }\r\n  return dynamicMapT(replayWithLatest(1, Data.of(fn)), target)\r\n})\r\n","import { isArray } from '../../internal.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param argument Atom | [Atom]\r\n * @return atom Data\r\n */\r\nexport const mergeT = (...args) => {\r\n  let atoms = args[0]\r\n  if (!isArray(atoms)) {\r\n    atoms = args\r\n  }\r\n\r\n  const inputAtoms = atoms.map(atom => {\r\n    if (!isAtom(atom)) {\r\n      throw (new TypeError('Arguments of mergeT are expected to be type of \"Atom\".'))\r\n    }\r\n    return atom\r\n  })\r\n\r\n  const mergeM = Mutation.ofLiftLeft(prev => prev)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(mergeM, outputD)\r\n\r\n  inputAtoms.forEach(atom => {\r\n    binaryTweenPipeAtom(atom, mergeM)\r\n  })\r\n\r\n  return outputD\r\n}\r\n","import { isNil } from '../../internal.js'\r\nimport { VOID } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * Replace nil value(i.e. undefined, null) with VOID\r\n *\r\n * @param { Atom } target\r\n * @return Data\r\n */\r\nexport const nilToVoidT = target => {\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of nilToVoidT is expected to be type of \"Atom\" only.'))\r\n  }\r\n\r\n  const transM = Mutation.ofLiftLeft(prev => isNil(prev) ? VOID : prev)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(transM, outputD)\r\n\r\n  binaryTweenPipeAtom(target, transM)\r\n\r\n  return outputD\r\n}\r\n","\r\nexport const partitionT = () => {\r\n\r\n}\r\n","import { isString, isArray, getByPath } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param selector String | Array | Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const pluckT = curryN(2, (selector, target) => {\r\n  if (isString(selector) || isArray(selector)) {\r\n    return staticPluckT(selector, target)\r\n  } else if (isAtom(selector)) {\r\n    return dynamicPluckT(selector, target)\r\n  } else {\r\n    throw (new TypeError('\"selector\" argument of pluckT is expected to be type of \"String\" | \"Array\" | \"Atom\".'))\r\n  }\r\n})\r\n\r\n/**\r\n * @param selector Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicPluckT = curryN(2, (selector, target) => {\r\n  if (!isAtom(selector)) {\r\n    throw (new TypeError('\"selector\" argument of dynamicPluckT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"selector\" argument of dynamicPluckT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapSelectorM = Mutation.ofLiftLeft(prev => ({ type: 'selector', value: prev }))\r\n  const wrappedSelectorD = Data.empty()\r\n  pipeAtom(wrapSelectorM, wrappedSelectorD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const pluckM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { selector: false, target: false }\r\n    const _internalValues = { selector: undefined, target: undefined }\r\n\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'selector' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in pluckM, expected to be \"selector\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.selector || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'selector') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        return getByPath(_internalValues.selector, _internalValues.target)\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedSelectorD, pluckM)\r\n  pipeAtom(wrappedTargetD, pluckM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(pluckM, outputD)\r\n\r\n  binaryTweenPipeAtom(selector, wrapSelectorM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param selector String | Array\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticPluckT = curryN(2, (selector, target) => {\r\n  if (!isString(selector) && !isArray(selector)) {\r\n    throw (new TypeError('\"selector\" argument of staticPluckT is expected to be type of \"String\" | \"Array\".'))\r\n  }\r\n  return dynamicPluckT(replayWithLatest(1, Data.of(selector)), target)\r\n})\r\n","import { isNumber } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param n Number | Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const skipT = curryN(2, (n, target) => {\r\n  if (isNumber(n)) {\r\n    return staticSkipT(n, target)\r\n  } else if (isAtom(n)) {\r\n    return dynamicSkipT(n, target)\r\n  } else {\r\n    throw (new TypeError('\"n\" argument of skipT is expected to be type of \"Number\" or \"Atom\".'))\r\n  }\r\n})\r\n\r\n/**\r\n * @param n Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicSkipT = curryN(2, (n, target) => {\r\n  if (!isAtom(n)) {\r\n    throw (new TypeError('\"n\" argument of dynamicSkipT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicSkipT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapNumM = Mutation.ofLiftLeft(prev => ({ type: 'n', value: prev }))\r\n  const wrappedNumD = Data.empty()\r\n  pipeAtom(wrapNumM, wrappedNumD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const skipM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { n: false, target: false, index: -1, skiped: 0 }\r\n    const _internalValues = { n: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'n' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received, expected to be \"n\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.n || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'n') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        if (_internalStates.skiped < _internalStates.n) {\r\n          _internalStates.skiped = _internalStates.skiped + 1\r\n          return TERMINATOR\r\n        } else {\r\n          return _internalValues.target\r\n        }\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedNumD, skipM)\r\n  pipeAtom(wrappedTargetD, skipM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(skipM, outputD)\r\n\r\n  binaryTweenPipeAtom(n, wrapNumM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param n Number\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticSkipT = curryN(2, (n, target) => {\r\n  if (!isAtom(n)) {\r\n    throw (new TypeError('\"n\" argument of staticSkipT is expected to be type of \"Number\".'))\r\n  }\r\n  return dynamicSkipT(replayWithLatest(1, Data.of(n)), target)\r\n})\r\n","import { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param cond Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const skipUntilT = curryN(2, (cond, target) => {\r\n  if (!isAtom(cond)) {\r\n    throw (new TypeError('\"cond\" argument of skipUntilT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of skipUntilT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapCondM = Mutation.ofLiftLeft(prev => ({ type: 'cond', value: prev }))\r\n  const wrappedCondD = Data.empty()\r\n  pipeAtom(wrapCondM, wrappedCondD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const skipM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { cond: false, target: false }\r\n    const _intervalValues = { cond: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'cond' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received, expected to be \"cond\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _intervalValues[type] = value\r\n      if (!_internalStates.cond || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'cond') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        return _intervalValues.target\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedCondD, skipM)\r\n  pipeAtom(wrappedTargetD, skipM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(skipM, outputD)\r\n\r\n  binaryTweenPipeAtom(cond, wrapCondM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n","import { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param cond Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const skipWhileT = curryN(2, (cond, target) => {\r\n  if (!isAtom(cond)) {\r\n    throw (new TypeError('\"cond\" argument of skipWhileT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of skipWhileT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapCondM = Mutation.ofLiftLeft(prev => ({ type: 'cond', value: Boolean(prev) }))\r\n  const wrappedCondD = Data.empty()\r\n  pipeAtom(wrapCondM, wrappedCondD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const skipM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { cond: false, target: false }\r\n    const _intervalValues = { cond: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'cond' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received, expected to be \"cond\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _intervalValues[type] = value\r\n      if (!_internalStates.cond || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'cond') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        return _intervalValues.cond ? TERMINATOR : _intervalValues.target\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedCondD, skipM)\r\n  pipeAtom(wrappedTargetD, skipM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(skipM, outputD)\r\n\r\n  binaryTweenPipeAtom(cond, wrapCondM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n","import { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\nexport const startWithT = curryN(2, (start, target) => {\r\n  if (isAtom(start)) {\r\n    return dynamicStartWithT(start, target)\r\n  } else {\r\n    return staticStartWithT(start, target)\r\n  }\r\n})\r\n\r\n/**\r\n * @param start Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicStartWithT = curryN(2, (start, target) => {\r\n  if (!isAtom(start)) {\r\n    throw (new TypeError('\"start\" argument of dynamicStartWithT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicStartWithT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  start = replayWithLatest(1, start)\r\n\r\n  const wrapStartM = Mutation.ofLiftLeft(prev => ({ type: 'start', value: prev }))\r\n  const wrappedStartD = Data.empty()\r\n  pipeAtom(wrapStartM, wrappedStartD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const startM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { start: false, target: false, startExpired: false }\r\n    const _internalValues = { start: undefined, target: undefined, targetQueue: [] }\r\n    return (prev, _, mutation) => {\r\n      const { type, value } = prev\r\n      if (type !== 'start' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in startM, expected to be \"start\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n\r\n      if (type === 'target') {\r\n        if (_internalStates.startExpired) {\r\n          return _internalValues.target\r\n        } else {\r\n          _internalValues.targetQueue.push(value)\r\n          return TERMINATOR\r\n        }\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'start' && _internalStates.startExpired) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'start' && !_internalStates.startExpired) {\r\n        _internalStates.startExpired = true\r\n        _internalValues.targetQueue.unshift(value)\r\n        _internalValues.targetQueue.forEach(target => {\r\n          mutation.triggerOperation(() => target)\r\n        })\r\n        _internalValues.targetQueue.length = 0\r\n        return TERMINATOR\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedStartD, startM)\r\n  pipeAtom(wrappedTargetD, startM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(startM, outputD)\r\n\r\n  binaryTweenPipeAtom(start, wrapStartM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param start Any\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticStartWithT = curryN(2, (start, target) => {\r\n  return dynamicStartWithT(replayWithLatest(1, Data.of(start)), target)\r\n})\r\n","import { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\nconst switchTacheFactory = mutationFactory => {\r\n  return curryN(2, (to, from) => {\r\n    if (!isAtom(to)) {\r\n      throw (new TypeError('\"to\" argument of switchT is expected to be type of \"Atom\".'))\r\n    }\r\n    if (!isAtom(from)) {\r\n      throw (new TypeError('\"from\" argument of switchT is expected to be type of \"Atom\".'))\r\n    }\r\n\r\n    const wrapToM = Mutation.ofLiftLeft(prev => ({ type: 'to', value: prev }))\r\n    const wrappedToD = Data.empty()\r\n    pipeAtom(wrapToM, wrappedToD)\r\n    const wrapFromM = Mutation.ofLiftLeft(prev => ({ type: 'from', value: prev }))\r\n    const wrappedFromD = Data.empty()\r\n    pipeAtom(wrapFromM, wrappedFromD)\r\n\r\n    // const switchM = Mutation.ofLiftLeft(operation)\r\n    const switchM = mutationFactory()\r\n    pipeAtom(wrappedToD, switchM)\r\n    pipeAtom(wrappedFromD, switchM)\r\n\r\n    const outputD = Data.empty()\r\n    pipeAtom(switchM, outputD)\r\n\r\n    binaryTweenPipeAtom(to, wrapToM)\r\n    binaryTweenPipeAtom(from, wrapFromM)\r\n\r\n    return outputD\r\n  })\r\n}\r\n\r\n/**\r\n * @param to Atom | Any\r\n * @param from Atom\r\n * @return atom Data\r\n */\r\nexport const switchT = curryN(2, (to, from) => {\r\n  if (isAtom(to)) {\r\n    return dynamicSwitchT(to, from)\r\n  } else {\r\n    return staticSwitchT(to, from)\r\n  }\r\n})\r\n\r\n/**\r\n * switch Tache will emits a \"to\" value when \"from\" value comes.\r\n *\r\n * If there is not \"to\" value to emit when \"from\" value comes,\r\n * it will emit a TERMINATOR which will stop the stream.\r\n *\r\n * @param to Atom\r\n * @param from Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicSwitchT = switchTacheFactory(() =>\r\n  Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { from: false, to: false }\r\n    const _internalValues = { from: undefined, to: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'from' && type !== 'to') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in switchM, expected to be \"from\" | \"to\", but received \"${type}\"`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.from || !_internalStates.to) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'to') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'from') {\r\n        return _internalValues.to\r\n      }\r\n    }\r\n  })()))\r\n\r\n/**\r\n * @param to Any\r\n * @param from Atom\r\n * @return atom Data\r\n */\r\nexport const staticSwitchT = curryN(2, (to, from) => {\r\n  return dynamicSwitchT(replayWithLatest(1, Data.of(to)), from)\r\n})\r\n\r\n/**\r\n * promiseSwitch Tache will emits a \"to\" value when \"from\" value comes.\r\n *\r\n * If there is no \"to\" value to emit when \"from\" value comes,\r\n * it will make a promise that to emit \"to\" value when it comes sooner.\r\n *\r\n * @param to Atom\r\n * @param from Atom\r\n * @return atom Data\r\n */\r\nexport const promiseSwitchT = switchTacheFactory(() => {\r\n  const switchM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { from: false, to: false, promise: false }\r\n    const _internalValues = { from: undefined, to: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'from' && type !== 'to') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in switchM, expected to be \"from\" | \"to\", but received \"${type}\"`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (type === 'to') {\r\n        if (_internalStates.promise) {\r\n          switchM.triggerOperation(() => _internalValues.to)\r\n          _internalStates.promise = false\r\n        }\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'from') {\r\n        if (_internalStates.to) {\r\n          return _internalValues.to\r\n        } else {\r\n          _internalStates.promise = true\r\n          return TERMINATOR\r\n        }\r\n      }\r\n    }\r\n  })())\r\n  return switchM\r\n})\r\n","import { isNumber } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param n Number | Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const takeT = curryN(2, (n, target) => {\r\n  if (isNumber(n)) {\r\n    return staticTakeT(n, target)\r\n  } else if (isAtom(n)) {\r\n    return dynamicTakeT(n, target)\r\n  } else {\r\n    throw (new TypeError('\"n\" argument of takeT is expected to be type of \"Number\" or \"Atom\".'))\r\n  }\r\n})\r\n\r\n/**\r\n * @param n Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const dynamicTakeT = curryN(2, (n, target) => {\r\n  if (!isAtom(n)) {\r\n    throw (new TypeError('\"n\" argument of dynamicTakeT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicTakeT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapNumM = Mutation.ofLiftLeft(prev => ({ type: 'n', value: parseInt(prev) }))\r\n  const wrappedNumD = Data.empty()\r\n  pipeAtom(wrapNumM, wrappedNumD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const takeM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { n: false, target: false, taked: 0 }\r\n    const _internalValues = { n: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'n' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received, expected to be \"n\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.n || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'n') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        if (_internalStates.taked < _internalStates.n) {\r\n          _internalStates.taked = _internalStates.taked + 1\r\n          return _internalValues.target\r\n        } else {\r\n          return TERMINATOR\r\n        }\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedNumD, takeM)\r\n  pipeAtom(wrappedTargetD, takeM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(takeM, outputD)\r\n\r\n  binaryTweenPipeAtom(n, wrapNumM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @todo release atom when specified num of value has emited\r\n *\r\n * @param n Number\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const staticTakeT = curryN(2, (n, target) => {\r\n  return dynamicTakeT(replayWithLatest(1, Data.of(n)), target)\r\n})\r\n","import { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param cond Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const takeUntilT = curryN(2, (cond, target) => {\r\n  if (!isAtom(cond)) {\r\n    throw (new TypeError('\"cond\" argument of takeUntilT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of takeUntilT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapCondM = Mutation.ofLiftLeft(prev => ({ type: 'cond', value: prev }))\r\n  const wrappedCondD = Data.empty()\r\n  pipeAtom(wrapCondM, wrappedCondD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const takeM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { cond: false, target: false }\r\n    const _intervalValues = { cond: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'cond' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received, expected to be \"cond\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _intervalValues[type] = value\r\n      if (_internalStates.cond) {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        return _intervalValues.target\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedCondD, takeM)\r\n  pipeAtom(wrappedTargetD, takeM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(takeM, outputD)\r\n\r\n  binaryTweenPipeAtom(cond, wrapCondM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n","import { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param cond Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const takeWhileT = curryN(2, (cond, target) => {\r\n  if (!isAtom(cond)) {\r\n    throw (new TypeError('\"cond\" argument of takeWhileT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of takeWhileT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapCondM = Mutation.ofLiftLeft(prev => ({ type: 'cond', value: Boolean(prev) }))\r\n  const wrappedCondD = Data.empty()\r\n  pipeAtom(wrapCondM, wrappedCondD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const takeM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { cond: false, target: false }\r\n    const _intervalValues = { cond: undefined, target: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'cond' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received, expected to be \"cond\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _intervalValues[type] = value\r\n      if (!_internalStates.cond || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'cond') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        return _intervalValues.cond ? _intervalValues.target : TERMINATOR\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedCondD, takeM)\r\n  pipeAtom(wrappedTargetD, takeM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(takeM, outputD)\r\n\r\n  binaryTweenPipeAtom(cond, wrapCondM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n","import { isNumber } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\n\r\n/**\r\n * @param effect Function\r\n * @param atom Atom\r\n */\r\nexport const tapT = curryN(2, (effect, atom) => {\r\n  effect(atom)\r\n  return atom\r\n})\r\n\r\n/**\r\n * @param name String? \"\"\r\n * @param level String? \"LOG\"(0) | \"INFO\"(1) | \"WARN\"(2) | \"ERROR\"(3)\r\n * @return tap Tache\r\n */\r\nexport const tapValueT = (name = '', level = 0) => tapT(atom => {\r\n  if (isNumber(name)) {\r\n    level = name\r\n    name = ''\r\n  }\r\n  const levelDict = {\r\n    LOG: 'log',\r\n    INFO: 'info',\r\n    WARN: 'warn',\r\n    ERROR: 'error',\r\n    0: 'log',\r\n    1: 'info',\r\n    2: 'warn',\r\n    3: 'error'\r\n  }\r\n  level = levelDict[level]\r\n  const colorDict = {\r\n    log: '#30CFCF', // cyan\r\n    info: '#3030CF', // blue\r\n    warn: '#CF8030', // orange\r\n    error: '#CF3030' // red\r\n  }\r\n  atom.subscribe(({ value }) => {\r\n    let stringified = ''\r\n    try {\r\n      stringified = JSON.stringify(value)\r\n    } catch (e) {\r\n      // do nothing\r\n    }\r\n    console[level](\r\n      `%c ${level.toUpperCase()} %c ${name || 'tapLogValueT'}` + ': %c' + value + '%c',\r\n      `background: ${colorDict[level]}; padding: 1px; border-radius: 3px 0 0 3px; color: #FFFFFF;`,\r\n      'background: #6600FF; padding: 1px; border-radius: 0 0 0 0; color: #FFFFFF;',\r\n      'background: #66FF00; padding: 1px 10px; border-radius: 0 3px 3px 0; color: #000000;',\r\n      'background: transparent; color: #00000;', value, stringified\r\n    )\r\n  })\r\n  return atom\r\n})\r\n","import { isNumber } from '../../internal.js'\r\nimport { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\n\r\n/**\r\n * @param timer Number | Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const throttleTimeT = curryN(2, (timer, target) => {\r\n  if (isNumber(timer)) {\r\n    return staticThrottleTimeT(timer, target)\r\n  } else if (isAtom(timer)) {\r\n    return dynamicThrottleTimeT(timer, target)\r\n  } else {\r\n    throw (new TypeError('\"timer\" argument of throttleTimeT is expected to be type of \"Number\" or \"Atom\".'))\r\n  }\r\n})\r\n\r\n/**\r\n * the value target will only triggered when timer atom has at least one value\r\n *\r\n * @param timer Atom, which value is used as throttle time(in milliseconds)\r\n * @param target Atom, which value will be throttled with specified time\r\n * @return atom Data\r\n */\r\nexport const dynamicThrottleTimeT = curryN(2, (timer, target) => {\r\n  if (!isAtom(timer)) {\r\n    throw (new TypeError('\"timer\" argument of dynamicThrottleTimeT is expected to be type of \"Atom\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of dynamicThrottleTimeT is expected to be type of \"Atom\".'))\r\n  }\r\n\r\n  const wrapTimerM = Mutation.ofLiftLeft(prev => ({ type: 'timer', value: prev }))\r\n  const wrappedTimerD = Data.empty()\r\n  pipeAtom(wrapTimerM, wrappedTimerD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const throttleM = Mutation.ofLiftLeft((() => {\r\n    // use closure to define private state for mutation's operation\r\n    const _internalStates = { timer: false, target: false, clock: 0, canEmit: true }\r\n    const _internalValues = { timer: undefined, target: undefined }\r\n    // actual mutation operation function\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'timer' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in throttleM, expected to be \"timer\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (!_internalStates.timer || !_internalStates.target) {\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'timer') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'target') {\r\n        if (_internalStates.canEmit) {\r\n          _internalStates.canEmit = false\r\n          _internalStates.clock = setTimeout(() => {\r\n            clearTimeout(_internalStates.clock)\r\n            _internalStates.canEmit = true\r\n          }, _internalValues.timer)\r\n          return _internalValues.target\r\n        } else {\r\n          return TERMINATOR\r\n        }\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedTimerD, throttleM)\r\n  pipeAtom(wrappedTargetD, throttleM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(throttleM, outputD)\r\n\r\n  binaryTweenPipeAtom(timer, wrapTimerM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param ms Atom, which will be used as throttle time(in milliseconds)\r\n * @param target Atom, which value will be throttled with specified time\r\n * @return atom Data\r\n */\r\nexport const staticThrottleTimeT = curryN(2, (ms, target) => {\r\n  if (!isNumber(ms)) {\r\n    throw (new TypeError('\"ms\" argument of staticThrottleTimeT is expected to be type of \"Number\".'))\r\n  }\r\n  return dynamicThrottleTimeT(replayWithLatest(1, Data.of(ms)), target)\r\n})\r\n","import { isNumber } from '../../internal.js'\r\nimport { curryN, pipe } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { isAtom, Mutation, Data } from '../atom.js'\r\nimport { replayWithLatest } from '../mediators.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\nimport { filterT } from './filter.taches.js'\r\n\r\n/**\r\n * Takes a \"n\" which value will be used as length of history's length,\r\n * it can be type of Number or Atom.\r\n *\r\n * Returned atom will emits specified number of target's value as an array.\r\n *\r\n * @param n Number | Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const withHistoryT = curryN(2, (n, target) => {\r\n  if (isNumber(n)) {\r\n    return withStaticHistoryT(n, target)\r\n  } else if (isAtom(n)) {\r\n    return withDynamicHistoryT(n, target)\r\n  } else {\r\n    throw (new TypeError('\"n\" argument of withHistoryT is expected to be type of \"Number\" or \"Atom\"'))\r\n  }\r\n})\r\n\r\n/**\r\n * @param n Atom\r\n * @param target Atom\r\n * @return atom Data\r\n */\r\nexport const withDynamicHistoryT = curryN(2, (n, target) => {\r\n  if (!isAtom(n)) {\r\n    throw (new TypeError('\"n\" argument of withDynamicHistoryT is expected to be type of \"Mutation\" or \"Data\".'))\r\n  }\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of withDynamicHistoryT is expected to be type of \"Mutation\" or \"Data\".'))\r\n  }\r\n\r\n  const wrapNumM = Mutation.ofLiftLeft(prev => ({ type: 'n', value: parseInt(prev) }))\r\n  const wrappedNumD = Data.empty()\r\n  pipeAtom(wrapNumM, wrappedNumD)\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n\r\n  const withHistoryM = Mutation.ofLiftLeft((() => {\r\n    // use closure to define private state for mutation's operation\r\n    // history :: [latest, ..., oldest]\r\n    const _internalStates = { n: false, target: false, history: [] }\r\n    const _internalValues = { n: undefined, target: undefined }\r\n    // actual mutation operation function\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'n' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in withHistoryM, expected to be \"n\" | \"target\", but received \"${type}\"`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n\r\n      const { history } = _internalStates\r\n      if (type === 'n') {\r\n        history.length = value\r\n        return TERMINATOR\r\n      }\r\n      if (type === 'target') {\r\n        history.pop()\r\n        history.unshift(value)\r\n        return [...history]\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedNumD, withHistoryM)\r\n  pipeAtom(wrappedTargetD, withHistoryM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(withHistoryM, outputD)\r\n\r\n  binaryTweenPipeAtom(n, wrapNumM)\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n\r\n  return outputD\r\n})\r\n\r\n/**\r\n * @param n Number\r\n * @param target Atom\r\n * @return Atom\r\n */\r\nexport const withStaticHistoryT = curryN(2, (n, target) => {\r\n  if (!isNumber(n)) {\r\n    throw (new TypeError('\"n\" argument of withStaticHistoryT is expected to be type of \"Number\".'))\r\n  }\r\n  return withDynamicHistoryT(replayWithLatest(1, Data.of(n)), target)\r\n})\r\n\r\n/**\r\n * Returned atom will emits the previous and current value of target atom as an array.\r\n *\r\n * @param target Atom\r\n * @return Atom\r\n */\r\nexport const pairwiseT = withHistoryT(2)\r\nexport const truthyPairwiseT = pipe(pairwiseT, filterT(v => v[0] && v[1]))\r\n","import { curryN } from '../../functional.js'\r\nimport { TERMINATOR } from '../meta.js'\r\nimport { Data, Mutation, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param target Atom\r\n * @param source Atom\r\n * @return atom Data\r\n */\r\nexport const withLatestFromT = curryN(2, (target, source) => {\r\n  if (!isAtom(target)) {\r\n    throw (new TypeError('\"target\" argument of withLatestFromT is expected to be type of \"Mutation\" or \"Data\".'))\r\n  }\r\n  if (!isAtom(source)) {\r\n    throw (new TypeError('\"source\" argument of withLatestFromT is expected to be type of \"Mutation\" or \"Data\".'))\r\n  }\r\n\r\n  const wrapTargetM = Mutation.ofLiftLeft(prev => ({ type: 'target', value: prev }))\r\n  const wrappedTargetD = Data.empty()\r\n  pipeAtom(wrapTargetM, wrappedTargetD)\r\n  const wrapSourceM = Mutation.ofLiftLeft(prev => ({ type: 'source', value: prev }))\r\n  const wrappedSourceD = Data.empty()\r\n  pipeAtom(wrapSourceM, wrappedSourceD)\r\n\r\n  const withLatestFromM = Mutation.ofLiftLeft((() => {\r\n    const _internalStates = { target: false, source: false }\r\n    const _internalValues = { target: undefined, source: undefined }\r\n    return prev => {\r\n      const { type, value } = prev\r\n      if (type !== 'source' && type !== 'target') {\r\n        throw (new TypeError(`Unexpected type of wrapped Data received in withLatestFromM, expected to be \"source\" | \"target\", but received \"${type}\".`))\r\n      }\r\n      _internalStates[type] = true\r\n      _internalValues[type] = value\r\n      if (type === 'target') {\r\n        return TERMINATOR\r\n      }\r\n      // redundant conditional judgement\r\n      if (type === 'source') {\r\n        return _internalStates.target ? [_internalValues.source, _internalValues.target] : [_internalValues.source]\r\n      }\r\n    }\r\n  })())\r\n  pipeAtom(wrappedTargetD, withLatestFromM)\r\n  pipeAtom(wrappedSourceD, withLatestFromM)\r\n\r\n  const outputD = Data.empty()\r\n  pipeAtom(withLatestFromM, outputD)\r\n\r\n  binaryTweenPipeAtom(target, wrapTargetM)\r\n  binaryTweenPipeAtom(source, wrapSourceM)\r\n\r\n  return outputD\r\n})\r\n","import { isArray, isObject } from '../../internal.js'\r\nimport { TERMINATOR, isTerminator } from '../meta.js'\r\nimport { Mutation, Data, isAtom } from '../atom.js'\r\nimport { pipeAtom, binaryTweenPipeAtom } from '../helpers.js'\r\n\r\n/**\r\n * @param argument Atom | [Atom] | { Atom }\r\n * @return atom Data\r\n */\r\nexport const zipLatestT = (...args) => {\r\n  if (isAtom(args[0]) || isArray(args[0])) {\r\n    return arrayZipLatestT(...args)\r\n  } else if (isObject(args[0])) {\r\n    return objectZipLatestT(...args)\r\n  } else {\r\n    throw (new TypeError('Arguments of zipLatestT are expected to be type of Atom | [Atom] | { Atom }.'))\r\n  }\r\n}\r\n\r\n/**\r\n * @param argument Atom | [Atom]\r\n * @return atom Data\r\n */\r\nexport const arrayZipLatestT = (...args) => {\r\n  let atoms = args[0]\r\n  if (!isArray(atoms)) {\r\n    atoms = args\r\n  }\r\n\r\n  const inputDatas = atoms.map(atom => {\r\n    if (!isAtom(atom)) {\r\n      throw (new TypeError('Arguments of arrayZipLatestT are expected to be type of \"Atom\".'))\r\n    }\r\n    return atom\r\n  })\r\n\r\n  const wrapMutations = Array.from({ length: atoms.length }).map((val, idx) =>\r\n    Mutation.ofLiftLeft((prev) => ({ id: idx, value: prev }))\r\n  )\r\n\r\n  const wrappedDatas = Array.from({ length: atoms.length }).map(() => Data.empty())\r\n\r\n  const zipM = Mutation.ofLiftLeft((() => {\r\n    const _internalState = Array.from({ length: atoms.length })\r\n    const _intervalValues = Array.from({ length: atoms.length })\r\n    return prev => {\r\n      const { id, value } = prev\r\n      _internalState[id] = true\r\n      _intervalValues[id] = value\r\n      if (_internalState.every(val => val) && _intervalValues.every(val => !isTerminator(val))) {\r\n        _internalState.forEach((_, idx) => { _internalState[idx] = false })\r\n        return [..._intervalValues]\r\n      } else {\r\n        return TERMINATOR\r\n      }\r\n    }\r\n  })())\r\n\r\n  const outputD = Data.empty()\r\n\r\n  pipeAtom(zipM, outputD)\r\n  wrappedDatas.forEach(data => {\r\n    pipeAtom(data, zipM)\r\n  })\r\n  wrapMutations.forEach((wrapMutation, idx) => {\r\n    pipeAtom(wrapMutation, wrappedDatas[idx])\r\n  })\r\n  inputDatas.forEach((data, idx) => {\r\n    binaryTweenPipeAtom(data, wrapMutations[idx])\r\n  })\r\n\r\n  return outputD\r\n}\r\n\r\n/**\r\n * @param obj Object, { Atom }\r\n * @return atom Data\r\n */\r\nexport const objectZipLatestT = (obj) => {\r\n  const inputDatas = Object.entries(obj).reduce((acc, [key, atom]) => {\r\n    if (!isAtom(atom)) {\r\n      throw (new TypeError('Arguments of objectZipLatestT are expected to be type of \"Atom\".'))\r\n    }\r\n    acc[key] = atom\r\n    return acc\r\n  }, {})\r\n\r\n  const wrapMutations = Object.entries(obj).reduce((acc, [key]) => {\r\n    acc[key] = Mutation.ofLiftLeft((prev) => ({ key: key, value: prev }))\r\n    return acc\r\n  }, {})\r\n\r\n  const wrappedDatas = Object.entries(obj).reduce((acc, [key]) => {\r\n    acc[key] = Data.empty()\r\n    return acc\r\n  }, {})\r\n\r\n  const zipM = Mutation.ofLiftLeft((() => {\r\n    const _internalState = Object.keys(obj).reduce((acc, key) => {\r\n      acc[key] = false\r\n      return acc\r\n    }, {})\r\n    const _intervalValues = Object.keys(obj).reduce((acc, key) => {\r\n      acc[key] = undefined\r\n      return acc\r\n    }, {})\r\n    return prev => {\r\n      const { key, value } = prev\r\n      _internalState[key] = true\r\n      _intervalValues[key] = value\r\n      if (Object.values(_internalState).every(val => val) && Object.values(_intervalValues).every(val => !isTerminator(val))) {\r\n        Object.keys(_internalState).forEach(key => {\r\n          _internalState[key] = false\r\n        })\r\n        return { ..._intervalValues }\r\n      } else {\r\n        return TERMINATOR\r\n      }\r\n    }\r\n  })())\r\n\r\n  const outputD = Data.empty()\r\n\r\n  pipeAtom(zipM, outputD)\r\n  Object.values(wrappedDatas).forEach(data => {\r\n    pipeAtom(data, zipM)\r\n  })\r\n  Object.entries(wrapMutations).forEach(([key, wrapMutation]) => {\r\n    pipeAtom(wrapMutation, wrappedDatas[key])\r\n  })\r\n  Object.entries(inputDatas).forEach(([key, data]) => {\r\n    binaryTweenPipeAtom(data, wrapMutations[key])\r\n  })\r\n\r\n  return outputD\r\n}\r\n","import {\r\n  Mutation, Data, isMutation, isData, isAtom,\r\n  pipeAtom, dataToData, mutationToDataS, dataToMutationS, atomToMutation,\r\n  filterT,\r\n  createDataFromFunction, createDataFromEvent\r\n} from '../atom.js'\r\nimport { completeStateRD } from './event.js'\r\nimport { isObject, isFunction, hasOwnProperty } from '../internal.js'\r\nimport { makeCustomEvent } from './dom.js'\r\n\r\nconst GLOBAL_VARS = new Map()\r\nexport const globalVar = (key, value) => {\r\n  if (value) {\r\n    GLOBAL_VARS.set(key, value)\r\n  }\r\n  return GLOBAL_VARS.get(key)\r\n}\r\n\r\nexport const makeEventHandler = (handler = v => v) => {\r\n  let eventHandler\r\n  const agent = handler => {\r\n    eventHandler = handler\r\n  }\r\n  const [data, triggerMediator, trigger] = createDataFromFunction(agent, e => handler(e))\r\n\r\n  return [eventHandler, data, triggerMediator, trigger]\r\n}\r\n\r\nexport const makeGeneralEventHandler = (handler = v => v) => {\r\n  const [eventHandler, data, triggerMediator, trigger] = makeEventHandler(handler)\r\n  const eventHandlerRD = dataToData(() => eventHandler, completeStateRD)\r\n  return [eventHandlerRD, eventHandler, data, triggerMediator, trigger]\r\n}\r\n\r\nconst _elementBasedMessageProxyMap = new Map()\r\nglobalVar('elementBasedMessageProxyMap', _elementBasedMessageProxyMap)\r\nexport const makeElementBasedMessageProxy = (id, type, name) => {\r\n  const proxy = _elementBasedMessageProxyMap.get(id + type)\r\n  if (proxy) {\r\n    return proxy\r\n  }\r\n\r\n  let ele = document.getElementById(id)\r\n  if (!ele) {\r\n    const tempEle = document.createElement('div')\r\n    tempEle.id = id\r\n    tempEle.style.display = 'none'\r\n    document.body.appendChild(tempEle)\r\n    ele = tempEle\r\n  }\r\n\r\n  const ElementBasedMessageProxy = class {\r\n    constructor (ele, type, name) {\r\n      const [data] = createDataFromEvent(ele, type)\r\n\r\n      const onymousInnerMessageD = Data.empty()\r\n      const onymousSendM = Mutation.ofLiftBoth((prev) => {\r\n        let detail, options\r\n        if (isObject(prev)) {\r\n          if (hasOwnProperty('detail', prev) && hasOwnProperty('options', prev)) {\r\n            detail = prev.detail\r\n            options = prev.options\r\n          } else {\r\n            detail = prev\r\n          }\r\n        } else {\r\n          detail = { data: prev }\r\n        }\r\n        detail.from = name\r\n        ele.dispatchEvent(makeCustomEvent(type, detail, options))\r\n        return { type, detail, options }\r\n      })\r\n      const anonymousSendM = Mutation.ofLiftBoth((prev) => {\r\n        let detail, options\r\n        if (isObject(prev)) {\r\n          if (hasOwnProperty('detail', prev) && hasOwnProperty('options', prev)) {\r\n            detail = prev.detail\r\n            options = prev.options\r\n          } else {\r\n            detail = prev\r\n          }\r\n        } else {\r\n          detail = { data: prev }\r\n        }\r\n        ele.dispatchEvent(makeCustomEvent(type, detail, options))\r\n        return { type, detail, options }\r\n      })\r\n      const sendedD = Data.empty()\r\n      pipeAtom(onymousInnerMessageD, onymousSendM, sendedD)\r\n      pipeAtom(anonymousSendM, sendedD)\r\n\r\n      this.element = ele\r\n      this.type = type\r\n      this.name = name\r\n\r\n      this.innerMessageD = onymousInnerMessageD\r\n      this.sender = onymousSendM\r\n      this.onymousSender = onymousSendM\r\n      this.anonymousSender = onymousSendM\r\n      this.sendedD = sendedD\r\n      const namedReceiver = filterT(prev => prev.detail.to === name, data)\r\n      this.receiver = namedReceiver\r\n      this.broadReceiver = data\r\n      this.namedReceiver = namedReceiver\r\n      this.anonymousReceiver = filterT(prev => prev.detail.from === undefined, data)\r\n    }\r\n\r\n    customizeReveiver (cond) {\r\n      if (isFunction(cond)) {\r\n        return filterT(cond, this.broadReceiver)\r\n      } else if (isObject(cond)) {\r\n        // TODO\r\n        console.warn(\"TODO: Object type of cond as customizeReveiver's argument, you got a broadReceiver instead.\")\r\n        return this.broadReceiver\r\n      } else {\r\n        throw (new TypeError('\"cond\" is expected to be a Function or an Object'))\r\n      }\r\n    }\r\n\r\n    send (message) {\r\n      if (isData(message)) {\r\n        return this.sender.observe(message)\r\n      } else if (isMutation(message)) {\r\n        return this.sender.observe(mutationToDataS(message))\r\n      } else {\r\n        this.innerMessageD.triggerValue(message)\r\n      }\r\n    }\r\n\r\n    receive (handler) {\r\n      if (isMutation(handler)) {\r\n        return handler.observe(this.receiver)\r\n      } else if (isData(handler)) {\r\n        return dataToMutationS(handler).observe(this.receiver)\r\n      } else if (isFunction(handler)) {\r\n        return this.receiver.subscribe(({ value }) => {\r\n          handler(value)\r\n        })\r\n      } else {\r\n        throw (new TypeError('\"handler\" is expected to be type of Mutation | Data | Function.'))\r\n      }\r\n    }\r\n\r\n    receiveDetail (handler) {\r\n      if (isFunction(handler)) {\r\n        return this.receiver.subscribe(({ value: e }) => {\r\n          handler(e.detail)\r\n        })\r\n      } else if (isAtom(handler)) {\r\n        return atomToMutation(e => e.detail, handler).observe(this.receiver)\r\n      } else {\r\n        throw (new TypeError('\"handler\" is expected to be type of Mutation | Data | Function.'))\r\n      }\r\n    }\r\n  }\r\n\r\n  const _proxy = new ElementBasedMessageProxy(ele, type, name)\r\n  _elementBasedMessageProxyMap.set(id + type, _proxy)\r\n  return _proxy\r\n}\r\n","import { isString, isObject, isArray, hasOwnProperty } from '../internal.js'\r\nimport { curryN } from '../functional.js'\r\n\r\n/**\r\n * @param str same as value of class attribute on HTML tags\r\n * @return classString str\r\n * @example\r\n * ```js\r\n * 'mobius-base mobius-theme--light'\r\n * '.mobius-base.mobius-theme--light'\r\n * '.mobius-base mobius-theme--light'\r\n * ```\r\n */\r\nexport const neatenClassStr = str => {\r\n  if (!isString(str)) {\r\n    throw (new TypeError(`\"str\" is expected to be type of String, but received typeof \"${str}\".`))\r\n  }\r\n  return str.replace('.', ' ').replace(/\\s+/g, ' ').trim()\r\n}\r\n/**\r\n * @param str class string\r\n * @return classArray array of classnames\r\n * @example\r\n * ```js\r\n * ['mobius-base', 'mobius-theme--light']\r\n * ```\r\n */\r\nexport const classStrToArr = str => {\r\n  if (!isString(str)) {\r\n    throw (new TypeError(`\"str\" is expected to be type of String, but received typeof \"${str}\".`))\r\n  }\r\n  return neatenClassStr(str).split(' ').filter(s => s.length > 0)\r\n}\r\n/**\r\n * @param arr array of classnames\r\n * @return classObject which use key as classname and value as exist of classname\r\n * @example\r\n * ```js\r\n * {\r\n *  'mobius-base': true,\r\n *  'mobius-theme--light': true\r\n * }\r\n * ```\r\n */\r\nexport const classArrToObj = arr => {\r\n  if (!isArray(arr)) {\r\n    throw (new TypeError(`\"arr\" is expected to be type of Array, but received typeof \"${arr}\".`))\r\n  }\r\n  const obj = arr.flat(Infinity).filter(isString).reduce((acc, cur) => {\r\n    acc[cur] = true\r\n    return acc\r\n  }, {})\r\n  return obj\r\n}\r\n/**\r\n * @param str classString\r\n * @return classObject\r\n */\r\nexport const classStrToObj = str => {\r\n  if (!isString(str)) {\r\n    throw (new TypeError(`\"str\" is expected to be type of String, but received typeof \"${str}\".`))\r\n  }\r\n  const arr = classStrToArr(str)\r\n  const obj = classArrToObj(arr)\r\n  return obj\r\n}\r\n/**\r\n * @param obj classObject\r\n * @return classArray\r\n */\r\nexport const classObjToArr = obj => {\r\n  if (!isObject(obj)) {\r\n    throw (new TypeError(`\"obj\" is expected to be type of Object, but received typeof \"${obj}\".`))\r\n  }\r\n  return Object.entries(obj).reduce((acc, [key, value]) => {\r\n    if (value === true) {\r\n      acc.push(key)\r\n    }\r\n    return acc\r\n  }, [])\r\n}\r\n/**\r\n * @param arr classArray\r\n * @return classString\r\n */\r\nexport const classArrToStr = arr => {\r\n  if (!isArray(arr)) {\r\n    throw (new TypeError(`\"arr\" is expected to be type of Array, but received typeof \"${arr}\".`))\r\n  }\r\n  const str = arr.flat(Infinity).filter(isString).filter(s => s.length > 0).join(' ')\r\n  return str\r\n}\r\n/**\r\n * @param obj classObject\r\n * @return classString\r\n */\r\nexport const classObjToStr = obj => {\r\n  if (!isObject(obj)) {\r\n    throw (new TypeError(`\"obj\" is expected to be type of Object, but received typeof \"${obj}\".`))\r\n  }\r\n  const arr = classObjToArr(obj)\r\n  const str = classArrToStr(arr)\r\n  return str\r\n}\r\n/**\r\n * @param tar aka. target, type of classString | classArray | classObject\r\n * @return classString\r\n */\r\nexport const toClassStr = tar => {\r\n  if (isString(tar)) {\r\n    return '' + tar\r\n  } else if (isArray(tar)) {\r\n    return classArrToStr(tar)\r\n  } else if (isObject(tar)) {\r\n    return classObjToStr(tar)\r\n  } else {\r\n    throw (new TypeError(`\"tar\" is expected to be type of String | Array | Object, but received typeof ${tar}`))\r\n  }\r\n}\r\n/**\r\n * @param tar aka. target, type of classString | classArray | classObject\r\n * @return classArray\r\n */\r\nexport const toClassArr = tar => {\r\n  if (isString(tar)) {\r\n    return classStrToArr(tar)\r\n  } else if (isArray(tar)) {\r\n    return [...tar.flat(Infinity).filter(isString)]\r\n  } else if (isObject(tar)) {\r\n    return classObjToArr(tar)\r\n  } else {\r\n    throw (new TypeError(`\"tar\" is expected to be type of String | Array | Object, but received typeof ${tar}`))\r\n  }\r\n}\r\n/**\r\n * @param tar aka. target, type of classString | classArray | classObject\r\n * @return classObject\r\n */\r\nexport const toClassObj = tar => {\r\n  if (isString(tar)) {\r\n    return classStrToObj(tar)\r\n  } else if (isArray(tar)) {\r\n    return classArrToObj(tar)\r\n  } else if (isObject(tar)) {\r\n    return { ...tar }\r\n  } else {\r\n    throw (new TypeError(`\"tar\" is expected to be type of String | Array | Object, but received typeof ${tar}`))\r\n  }\r\n}\r\n/**\r\n * @param target classString | classArray | classObject\r\n * @param cls aka. class, type of classString | classArray | classObject\r\n * @return classString | classArray | classObject\r\n */\r\nexport const formatClassTo = curryN(2, (target, cls) => {\r\n  if (isString(target)) {\r\n    return toClassStr(cls)\r\n  } else if (isObject(target)) {\r\n    return toClassObj(cls)\r\n  } else if (isArray(target)) {\r\n    return toClassArr(cls)\r\n  } else {\r\n    throw (new TypeError(`\"target\" is expected to be type of String | Array | Object, but received typeof ${target}`))\r\n  }\r\n})\r\n\r\n/**\r\n * @param prefix String\r\n * @param cls aka. class, type of classString | classArray | classObject\r\n * @return classString | classArray | classObject\r\n */\r\nexport const prefixClassWith = curryN(2, (prefix, cls) => {\r\n  if (isString(cls)) {\r\n    const classArr = classStrToArr(cls).map(item =>\r\n      item.indexOf(prefix) === 0 ? item : prefix + item\r\n    )\r\n    const classStr = classArrToStr(classArr)\r\n    return classStr\r\n  } else if (isObject(cls)) {\r\n    const classObj = Object.entries(cls).reduce((acc, [key, value]) => {\r\n      const _key = key.indexOf(prefix) === 0 ? key : prefix + key\r\n      acc[_key] = value\r\n      return acc\r\n    }, {})\r\n    return classObj\r\n  } else if (isArray(cls)) {\r\n    const classArr = cls.map(item =>\r\n      item.indexOf(prefix) === 0 ? item : prefix + item\r\n    )\r\n    return classArr\r\n  } else {\r\n    throw (new Error(`\"cls\"(aka. class) is expected to be type of String | Array | Object, but received ${cls}`))\r\n  }\r\n})\r\n/**\r\n * @param prefix String\r\n * @param cls aka. class, type of classString | classArray | classObject\r\n * @return classString | classArray | classObject\r\n */\r\nexport const removePrefixOfClass = curryN(2, (prefix, cls) => {\r\n  if (isString(cls)) {\r\n    const classArr = classStrToArr(cls).map(item => {\r\n      if (item.indexOf(prefix) === 0) {\r\n        return item.slice(prefix.length)\r\n      }\r\n      return item\r\n    })\r\n    const classStr = classArr.join(' ')\r\n    return classStr\r\n  } else if (isObject(cls)) {\r\n    const classObj = Object.entries(cls).reduce((acc, [key, value]) => {\r\n      if (key.indexOf(prefix) === 0) {\r\n        acc[key.slice(prefix.length)] = value\r\n      } else {\r\n        acc[key] = value\r\n      }\r\n      return acc\r\n    }, { })\r\n    return classObj\r\n  } else if (isArray(cls)) {\r\n    const classArr = cls.map(item => {\r\n      if (item.indexOf(prefix) === 0) {\r\n        return item.slice(prefix.length)\r\n      }\r\n      return item\r\n    })\r\n    return classArr\r\n  } else {\r\n    throw (new Error(`\"cls\"(aka. class) is expected to be type of String | Array | Object, but received ${cls}`))\r\n  }\r\n})\r\n\r\nexport const addClass = curryN(2, (added, target) => {\r\n  const addedClassObj = toClassObj(added)\r\n  const targetClassObj = toClassObj(target)\r\n  const resClassObj = { ...targetClassObj, ...addedClassObj }\r\n  return formatClassTo(target, resClassObj)\r\n})\r\nexport const removeClass = curryN(2, (removed, target) => {\r\n  const removedClassObj = toClassObj(removed)\r\n  Object.keys(removedClassObj).forEach(key => {\r\n    removedClassObj[key] = false\r\n  })\r\n  const targetClassObj = toClassObj(target)\r\n  const resClassObj = { ...targetClassObj, ...removedClassObj }\r\n  return formatClassTo(target, resClassObj)\r\n})\r\nexport const toggleClass = curryN(2, (toggled, target) => {\r\n  const toggledClassArr = toClassArr(toggled)\r\n  const targetClassObj = toClassObj(target)\r\n  toggledClassArr.forEach(cls => {\r\n    targetClassObj[cls] = !targetClassObj[cls]\r\n  })\r\n  return formatClassTo(target, targetClassObj)\r\n})\r\nexport const replaceClass = curryN(2, (replaced, target) => {\r\n  if (isObject(replaced)) {\r\n    const targetClassObj = toClassObj(target)\r\n    Object.entries(replaced).forEach(([prev, cur]) => {\r\n      if (!isString(prev) || !isString(cur)) {\r\n        return\r\n      }\r\n      if (hasOwnProperty(prev, targetClassObj)) {\r\n        if (cur !== '') {\r\n          targetClassObj[cur] = targetClassObj[prev]\r\n        }\r\n        delete targetClassObj[prev]\r\n      }\r\n    })\r\n    return formatClassTo(target, targetClassObj)\r\n  } else if (isArray(replaced)) {\r\n    const replacedArr = replaced.filter(item => (isArray(item) && item.length > 0) || isString(item)).map(item => {\r\n      if (isArray(item)) {\r\n        if (item.length === 1) {\r\n          return [item[0], '']\r\n        } else if (item.length === 2) {\r\n          return item\r\n        } else if (item.length > 2) {\r\n          return item.slice(0, 2)\r\n        } else {\r\n          throw (new Error('Unexpected error happened!'))\r\n        }\r\n      } else if (isString(item)) {\r\n        return [item, '']\r\n      }\r\n    })\r\n    const targetClassObj = toClassObj(target)\r\n    replacedArr.forEach(replaced => {\r\n      const [prev, cur] = replaced\r\n      if (!isString(prev) || !isString(cur)) {\r\n        return\r\n      }\r\n      if (hasOwnProperty(prev, targetClassObj)) {\r\n        if (cur !== '') {\r\n          targetClassObj[cur] = targetClassObj[prev]\r\n        }\r\n        delete targetClassObj[prev]\r\n      }\r\n    })\r\n    return formatClassTo(target, targetClassObj)\r\n  } else if (isString(replaced)) {\r\n    return replaceClass(toClassArr(replaced), target)\r\n  } else {\r\n    throw (new TypeError(`\"replaced\" is expected to be type of String | Array | Object, but received ${replaced}`))\r\n  }\r\n})\r\nexport const containClass = curryN(2, (contained, target) => {\r\n  const containedClassArr = toClassArr(contained)\r\n  const targetClassArr = toClassArr(target)\r\n  return containedClassArr.every(item => targetClassArr.includes(item))\r\n})\r\n\r\n// const classStr = ' mobius-add .   del'\r\n// const classArr = [['mobius-add'], ['del']]\r\n// const classObj = { 'mobius-add': true, del: false }\r\n\r\n// console.log('【Type transformation】')\r\n// console.log(classStrToArr(classStr))\r\n// console.log(classArrToObj(classArr))\r\n// console.log(classStrToObj(classStr))\r\n// console.log(classObjToArr(classObj))\r\n// console.log(classArrToStr(classArr))\r\n// console.log(classObjToStr(classObj))\r\n// console.log('【prefix】')\r\n// console.log(prefixClassWith('mobius-', classStr))\r\n// console.log(prefixClassWith('mobius-', classArr))\r\n// console.log(prefixClassWith('mobius-', classObj))\r\n// console.log(removePrefixOfClass('mobius-', classStr))\r\n// console.log(removePrefixOfClass('mobius-', classArr))\r\n// console.log(removePrefixOfClass('mobius-', classObj))\r\n// console.log('【add】')\r\n// console.log(addClass(classArr, classObj))\r\n// console.log(addClass(classStr, classObj))\r\n// console.log('【remove】')\r\n// console.log(removeClass(classStr, classObj))\r\n// console.log(removeClass(classArr, classObj))\r\n// console.log('【toggle】')\r\n// console.log(toggleClass(classStr, classObj))\r\n// console.log(toggleClass(classArr, classObj))\r\n// console.log('【replace】')\r\n// console.log(replaceClass(classStr, classObj))\r\n// console.log(replaceClass(classArr, classObj))\r\n// console.log(replaceClass({ 'mobius-add': 'add', del: 'mobius-del' }, classObj))\r\n// console.log('【contain】')\r\n// console.log(containClass(classStr, classObj))\r\n// console.log(containClass(classArr, classObj))\r\n// console.log(containClass(classArr, { 'mobius-add': true, del: true }))\r\n\r\n// console.log(prefixClassWith('mobius-', ''))\r\n","import { curry } from '../functional.js'\r\n\r\nexport const perf = {\r\n  get now () {\r\n    return Math.round(performance.now())\r\n  }\r\n}\r\n\r\nexport const stdLineLog = curry((file, fnName, description) => `[${perf.now}][${file}] ${fnName}: ${description}...`)\r\nexport const makeTigerLogger = textGen => (text, appends) => console.log(textGen(text || ''), appends || '')\r\nexport const makeLinedTigerLogger = (file, fileName) => makeTigerLogger(stdLineLog(file, fileName))\r\n\r\n// @ref: https://mostly-adequate.gitbooks.io/mostly-adequate-guide/content/appendix_a.html\r\n// inspect :: a -> String\r\nexport const inspect = (x) => {\r\n  if (x && typeof x.inspect === 'function') {\r\n    return x.inspect()\r\n  }\r\n\r\n  function inspectFn (f) {\r\n    return f.name ? f.name : f.toString()\r\n  }\r\n\r\n  function inspectTerm (t) {\r\n    switch (typeof t) {\r\n      case 'string':\r\n        return `'${t}'`\r\n      case 'object': {\r\n        const ts = Object.keys(t).map(k => [k, inspect(t[k])])\r\n        return `{${ts.map(kv => kv.join(': ')).join(', ')}}`\r\n      }\r\n      default:\r\n        return String(t)\r\n    }\r\n  }\r\n\r\n  function inspectArgs (args) {\r\n    return Array.isArray(args) ? `[${args.map(inspect).join(', ')}]` : inspectTerm(args)\r\n  }\r\n\r\n  return (typeof x === 'function') ? inspectFn(x) : inspectArgs(x)\r\n}\r\n","import { isString, isNumber } from '../internal.js'\r\nimport { curryN } from '../functional.js'\r\n\r\nexport const injectScript = (src, onload = () => {}, removeAfterLoad = false) => {\r\n  const script = document.createElement('script')\r\n  script.setAttribute('type', 'text/javascript')\r\n  script.src = src\r\n  script.onload = (...args) => {\r\n    onload(...args)\r\n    if (removeAfterLoad) {\r\n      script.parentNode.removeChild(script)\r\n    }\r\n  }\r\n  document.head.appendChild(script)\r\n  return script\r\n}\r\n\r\nexport const makeCustomEvent = curryN(3, (type, detail, options) =>\r\n  new CustomEvent(type, { ...(options || {}), detail: { eventType: type, ...(detail || {}) } })\r\n)\r\n\r\n/**\r\n * @param selector String, id | selector\r\n * @param interval Number, polling interval (in ms)\r\n * @return undefined\r\n */\r\nexport const pollingToGetNode = curryN(3, (selector, interval, callback) => {\r\n  if (!isString(selector)) {\r\n    throw (new TypeError('\"selector\" argument of pollingToGetNode is expected to be type of \"String\".'))\r\n  }\r\n  if (!isNumber(interval)) {\r\n    throw (new TypeError('\"interval\" argument of pollingToGetNode is expected to be type of \"Number\".'))\r\n  }\r\n  let node\r\n  let timer = 0\r\n  timer = setInterval(() => {\r\n    if (selector.includes('#') || selector.includes('.')) {\r\n      node = node || document.querySelector(selector)\r\n    } else {\r\n      node = node || document.getElementById(selector)\r\n    }\r\n    if (node) {\r\n      clearInterval(timer)\r\n      callback(node)\r\n    }\r\n  }, interval)\r\n})\r\n","// eslint-disable-next-line no-undef\r\nexport const isInWXMINA = () => (typeof wx !== 'undefined') && wx.canIUse\r\nexport const isInWeb = () => typeof document === 'object'\r\nexport const isInBrowser = isInWeb\r\nexport const isInNode = () => typeof global !== 'undefined'\r\n\r\nlet wxmina\r\nif (isInWXMINA()) {\r\n  // eslint-disable-next-line no-undef\r\n  wxmina = wx\r\n}\r\nexport { wxmina }\r\n\r\nexport const adaptMultiPlatform = ({\r\n  webFn = () => {},\r\n  nodeFn = () => {},\r\n  wxminaFn = () => {},\r\n  defaultFn = () => {}\r\n} = {}) => {\r\n  if (isInWeb()) {\r\n    webFn && webFn()\r\n  } else if (isInNode()) {\r\n    nodeFn && nodeFn()\r\n  } else if (isInWXMINA()) {\r\n    wxminaFn && wxminaFn()\r\n  } else {\r\n    defaultFn && defaultFn()\r\n  }\r\n}\r\nexport const adaptMultiPlatformAwait = async ({\r\n  webFn = () => {},\r\n  nodeFn = () => {},\r\n  wxminaFn = () => {},\r\n  defaultFn = () => {}\r\n} = {}) => {\r\n  if (isInWeb()) {\r\n    webFn && await webFn()\r\n  } else if (isInNode()) {\r\n    nodeFn && await nodeFn()\r\n  } else if (isInWXMINA()) {\r\n    wxminaFn && await wxminaFn()\r\n  } else {\r\n    defaultFn && await defaultFn()\r\n  }\r\n}\r\n","import { Data, createDataFromEvent, ReplayMediator, filterT } from '../atom/index.js'\r\n\r\n// ref: https://zh.javascript.info/onload-ondomcontentloaded\r\n// ref: https://developer.mozilla.org/en-US/docs/Web/API/Document/readyState\r\nexport const domLoadedD = createDataFromEvent(document, 'DOMContentLoaded')[0]\r\nexport const domLoadedRD = ReplayMediator.of(domLoadedD, { autoTrigger: true })\r\n\r\nexport const windowLoadedD = createDataFromEvent(window, 'load')[0]\r\nexport const windowLoadedRD = ReplayMediator.of(windowLoadedD, { autoTrigger: true })\r\n\r\nexport const readyStateD = createDataFromEvent(document, 'readystatechange', () => document.readyState)[0]\r\nexport const readyStateRD = ReplayMediator.of(readyStateD, { autoTrigger: true })\r\nreadyStateD.triggerValue(document.readyState)\r\n\r\nexport const interactiveStateD = filterT(v => v === 'interactive' || v === 'complete', readyStateRD)\r\nexport const interactiveStateRD = ReplayMediator.of(interactiveStateD, { autoTrigger: true })\r\n\r\nexport const completeStateD = filterT(v => v === 'complete', readyStateRD)\r\nexport const completeStateRD = ReplayMediator.of(completeStateD, { autoTrigger: true })\r\n\r\nexport const windowResizeD = createDataFromEvent(window, 'resize')[0]\r\nexport const windowResizeRD = ReplayMediator.of(windowResizeD, { autoTrigger: true })\r\nwindowResizeD.triggerValue({ type: 'resize', target: window })\r\n\r\nexport const windowD = Data.of(window)\r\nexport const windowRD = ReplayMediator.of(windowD, { autoTrigger: true })\r\n\r\nexport const documentD = Data.of(document)\r\nexport const documentRD = ReplayMediator.of(documentD, { autoTrigger: true })\r\n","export * from './unique.js'\r\nexport * from './class.js'\r\n\r\nexport * from './path.js'\r\nexport * from './request.js'\r\nexport * from './response.js'\r\nexport * from './struct.js'\r\n\r\nexport * from './debug.js'\r\nexport * from './environment.js'\r\nexport * from './event.js'\r\nexport * from './dom.js'\r\n\r\nexport * from './app.js'\r\nexport * from './scope.js'\r\n","import {\r\n  isString, isArray, isObject,\r\n  isTruthy, allPass,\r\n  split, isStartWith,\r\n  toArray, map, filter, reject, reduce, join, unshift,\r\n  hasOwnProperty, prop, entries\r\n} from '../internal.js'\r\n\r\nimport { compose } from '../functional.js'\r\n\r\n// @see https://developer.mozilla.org/zh-CN/docs/Web/API/Location\r\n// @see https://npm.taobao.org/mirrors/node/latest/docs/api/url.html\r\n// @see https://github.com/medialize/URI.js\r\n\r\n// removeRepetition :: [a] -> [a]\r\nexport const removeRepetition = reject((item, index, arr) => {\r\n  return arr[index - 1] !== undefined ? item === arr[index - 1] : false\r\n})\r\n// removeRepetitionOf :: [a] -> ([a] -> [a])\r\nexport const removeRepetitionOf = ofList => reject((item, index, arr) => {\r\n  return (arr[index - 1] !== undefined && ofList.includes(item)) ? item === arr[index - 1] : false\r\n})\r\n// removeRepetitionExcept :: [a] -> ([a] -> [a])\r\nexport const removeRepetitionExcept = exceptList => reject((item, index, arr) => {\r\n  return (arr[index - 1] !== undefined && !exceptList.includes(item)) ? item === arr[index - 1] : false\r\n})\r\n// removeRepetitionOfEmpty :: [a] -> ([a] -> [a])\r\nexport const removeRepetitionOfEmpty = removeRepetitionOf([''])\r\nexport const removeRepetitionOfSlash = removeRepetitionOf(['/'])\r\n\r\n/**\r\n * - remove repetition of slash & empty char\r\n * - add '' or '/' as prefix of pathname\r\n */\r\nexport const neatenPathname = pathname => {\r\n  // ['path', 'to', 'page'] -> join('/') -> 'path/to/page'\r\n  //   -> expected to be: '/path/to/page', unshift('') solve the problem\r\n  if (isArray(pathname)) {\r\n    return compose(removeRepetitionOfEmpty, unshift(''))(pathname)\r\n  }\r\n  if (isString(pathname)) {\r\n    return compose(join('/'), removeRepetitionOfEmpty, unshift(''), split('/'), join(''), removeRepetitionOfSlash, toArray)(pathname)\r\n  }\r\n}\r\n\r\nexport const pathnameToArray = pathname => {\r\n  const neatedPathname = neatenPathname(pathname)\r\n  if (isArray(neatedPathname)) {\r\n    return neatedPathname\r\n  }\r\n  if (isString(neatedPathname)) {\r\n    return split('/', neatedPathname)\r\n  }\r\n}\r\n\r\nexport const pathnameToString = pathname => {\r\n  const neatedPathname = neatenPathname(pathname)\r\n  if (isString(neatedPathname)) {\r\n    return neatedPathname\r\n  }\r\n  if (isArray(neatedPathname)) {\r\n    return join('/', neatedPathname)\r\n  }\r\n}\r\n\r\n// 判断两个 pathname 是否相等，有两种模式\r\n//  -> 严格模式：字符串形式的 pathname 必须完全相同\r\n//    -> '/app/page' equals '/app/page'\r\n//    -> '/app/page' not equals '/app/page/'\r\n//  -> 宽松模式：模糊处理路径名最后的 '/'\r\n//    -> '/app/page' equals '/app/page/'\r\nexport const isPathnameStrictEqual = (pathname1, pathname2) => pathnameToString(pathname1) === pathnameToString(pathname2)\r\nexport const isPathnameLooseEqual = (pathname1, pathname2) => {\r\n  const preCook = compose(join('/'), filter(isTruthy), pathnameToArray)\r\n  return preCook(pathname1) === preCook(pathname2)\r\n}\r\nexport const isPathnameEqual = (mode, pathnames) => {\r\n  // @accept { mode, pathnames }\r\n  if (allPass([isObject, hasOwnProperty('pathnames'), compose(isArray, prop('pathnames'))], mode)) {\r\n    pathnames = mode.pathnames\r\n    mode = mode.mode || 'strict'\r\n    return isPathnameEqual(mode, pathnames)\r\n  }\r\n  mode = mode || 'strict'\r\n  if (mode === 'strict') return isPathnameStrictEqual(...pathnames)\r\n  if (mode === 'loose') return isPathnameLooseEqual(...pathnames)\r\n}\r\n\r\n// console.log('\\n[path.js] pathnameToString:')\r\n// console.log(pathnameToString(['app', 'page1']))\r\n// console.log(pathnameToString(['', 'app', 'page1', '']))\r\n// console.log(pathnameToString(['', 'app', 'page1', '', '']))\r\n// console.log(pathnameToString(['', '', 'app', 'page1', '', '']))\r\n// console.log(pathnameToString('/app/page1'))\r\n// console.log(pathnameToString('//app/page1'))\r\n// console.log(pathnameToString('//app//page1'))\r\n// console.log(pathnameToString('//app//page1/'))\r\n// console.log(pathnameToString('//app//page1//'))\r\n// console.log('\\n[path.js] pathnameToArray:')\r\n// console.log(pathnameToArray(['app', 'page1']))\r\n// console.log(pathnameToArray(['', 'app', 'page1', '']))\r\n// console.log(pathnameToArray(['', 'app', 'page1', '', '']))\r\n// console.log(pathnameToArray(['', '', 'app', 'page1', '', '']))\r\n// console.log(pathnameToArray('/app/page1'))\r\n// console.log(pathnameToArray('//app/page1'))\r\n// console.log(pathnameToArray('//app//page1'))\r\n// console.log(pathnameToArray('//app//page1/'))\r\n// console.log(pathnameToArray('//app//page1//'))\r\n// console.log('\\n[path.js] isPathnameStrictEqual:')\r\n// console.log(isPathnameStrictEqual('//app//page1//', ['', 'app', 'page1']))\r\n// console.log(isPathnameStrictEqual('//app//page1//', ['', 'app', 'page1', '']))\r\n// console.log('\\n[path.js] isPathnameLooseEqual:')\r\n// console.log(isPathnameLooseEqual('//app//page1//', ['', 'app', 'page1']))\r\n// console.log(isPathnameLooseEqual('//app//page1//', ['', 'app', 'page1', '']))\r\n\r\nexport const neatenSearch = str => isStartWith('?', str) ? str : `?${str}`\r\nexport const neatenQueryStr = str => isStartWith('?', str) ? str.substring(1) : str\r\n\r\nexport const queryStrToQueryObj = compose(reduce((acc, cur) => {\r\n  if (!cur) return acc\r\n  const [key, value] = cur.split('=')\r\n  acc[key] = decodeURIComponent(value)\r\n  return acc\r\n}, {}), split('&'), neatenQueryStr)\r\nexport const queryObjToQueryStr = compose(join('&'), map(join('=')), map(([k, v]) => [k, encodeURIComponent(v)]), entries)\r\nexport const searchToQueryStr = neatenQueryStr\r\nexport const searchToQueryObj = compose(queryStrToQueryObj, searchToQueryStr)\r\nexport const queryStrToSearch = neatenSearch\r\nexport const queryObjToSearch = compose(queryStrToSearch, queryObjToQueryStr)\r\n\r\nexport const toSearch = sth => {\r\n  if (isString(sth)) return neatenSearch(sth)\r\n  if (isObject(sth)) return queryObjToSearch(sth)\r\n}\r\nexport const toQueryStr = sth => {\r\n  if (isString(sth)) return neatenQueryStr(sth)\r\n  if (isObject(sth)) return queryObjToQueryStr(sth)\r\n}\r\nexport const toQueryObj = sth => {\r\n  if (isString(sth)) return queryStrToQueryObj(sth) // NOTE: queryStrToQueryObj 自带 neatenQueryStr\r\n  if (isObject(sth)) return sth\r\n}\r\n\r\n// console.log('\\n[path.js] neatenSearch:')\r\n// console.log(neatenSearch('a=1&b=2&c=3'))\r\n// console.log(neatenSearch('?a=1&b=2&c=3'))\r\n// console.log('\\n[path.js] queryStrToQueryObj:')\r\n// console.log(queryStrToQueryObj('a=1&b=2&c=3'))\r\n// console.log(queryStrToQueryObj('?a=1&b=2&c=3'))\r\n// console.log('\\n[path.js] queryObjToQueryStr:')\r\n// console.log(queryObjToQueryStr({ a: '1', b: '2', c: '3' }))\r\n// console.log('\\n[path.js] searchToQueryStr:')\r\n// console.log(searchToQueryStr('?a=1&b=2&c=3'))\r\n// console.log('\\n[path.js] searchToQueryObj:')\r\n// console.log(searchToQueryObj('?a=1&b=2&c=3'))\r\n// console.log('\\n[path.js] queryStrToSearch:')\r\n// console.log(queryStrToSearch('a=1&b=2&c=3'))\r\n// console.log('\\n[path.js] queryObjToSearch:')\r\n// console.log(queryObjToSearch({ a: '1', b: '2', c: '3' }))\r\n// console.log('\\n[path.js] toSearch:')\r\n// console.log(toSearch('a=1&b=2&c=3'))\r\n// console.log(toSearch('?a=1&b=2&c=3'))\r\n// console.log(toSearch({ a: '1', b: '2', c: '3' }))\r\n// console.log('\\n[path.js] toQueryStr:')\r\n// console.log(toQueryStr('a=1&b=2&c=3'))\r\n// console.log(toQueryStr('?a=1&b=2&c=3'))\r\n// console.log(toQueryStr({ a: '1', b: '2', c: '3' }))\r\n// console.log('\\n[path.js] toQueryObj:')\r\n// console.log(toQueryObj('a=1&b=2&c=3'))\r\n// console.log(toQueryObj('?a=1&b=2&c=3'))\r\n// console.log(toQueryObj({ a: '1', b: '2', c: '3' }))\r\n","import {\r\n  isObject, isFunction, asIs,\r\n  get, hardDeepMerge\r\n} from '../internal.js'\r\nimport { flip } from '../functional.js'\r\nimport { isSuccessResponse, makeErrorResponseF } from './response.js'\r\nimport { wxmina, adaptMultiPlatform } from './environment.js'\r\nimport axios from 'axios'\r\n\r\nexport { axios }\r\n\r\n/***************************************************************\r\n *                            biu\r\n ***************************************************************/\r\n\r\nconst _commonDefaultConfig = {\r\n  withCredentials: true,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\n// biu(config)\r\n// biu(modifier, config)\r\n// biu(config, modifier)\r\n// NOTE: 在没有指定 responseModifier 的情况下，通过 biu 拿到的一定是格式良好的 response\r\n// WARN: 即使是指定 responseModifier，也并不推荐 modifier 修改 response 的数据结构\r\nexport const biu = (config, _) => {\r\n  if (isFunction(_)) {\r\n    config = _(config || {})\r\n  }\r\n  if (isFunction(config)) {\r\n    config = config(_ || {})\r\n  }\r\n  if (!isObject(config)) {\r\n    throw TypeError('Config is expected to be an object, please check your config or config modifier whick should return an config object.')\r\n  }\r\n  config = { ..._commonDefaultConfig, ...config }\r\n  return new Promise((resolve, reject) => {\r\n    const _useAxios = () => {\r\n      axios({\r\n        ...config\r\n      })\r\n        .then(response => {\r\n          if (response.status !== 200) {\r\n            reject(new Error(`${response.status}: ${response.statusText}`))\r\n          }\r\n          return response\r\n        })\r\n        .then(resolve)\r\n        .catch(reject)\r\n    }\r\n    const _useWxRequest = () => {\r\n      try {\r\n        // @see https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html\r\n        wxmina.request({\r\n          dataType: 'json',\r\n          responseType: 'text',\r\n          ...config,\r\n          header: {\r\n            ...(config.headers || {})\r\n          },\r\n          success: resolve,\r\n          fail: reject\r\n        })\r\n      } catch (e) {\r\n        reject(e)\r\n      }\r\n    }\r\n    adaptMultiPlatform({\r\n      webFn: _useAxios,\r\n      nodeFn: _useAxios,\r\n      wxminaFn: _useWxRequest\r\n    })\r\n  })\r\n    .then(result => {\r\n      if (!config.withDataExtracted) return result\r\n      if (!result.data) return makeErrorResponseF(new Error('There is no \"data\" field in request result.'))\r\n\r\n      const response = result.data\r\n      if (isSuccessResponse(response)) {\r\n        // TODO: 适配多接口返回值捆绑的情况（far away | nerver）\r\n        const type = get(config, 'data.payload.type')\r\n        const actualData = get(response, `data.${type}`)\r\n        if (type && actualData) {\r\n          response.data = actualData\r\n        }\r\n      }\r\n\r\n      return response\r\n    })\r\n    .then(response => {\r\n      const responseModifier = config.responseModifier || asIs\r\n      return responseModifier(response)\r\n    })\r\n    .catch(makeErrorResponseF)\r\n}\r\nexport const modifyBiuConfig = flip(hardDeepMerge) // or: obj => hardDeepMerge(_, obj)\r\n// biu(equiped(asPostRequest)({ url: 'https://example.com' }))\r\n// biu(equiped(asPostRequest), { url: 'https://example.com' })\r\n// biu({ url: 'https://example.com' }, equiped(asPostRequest))\r\nexport const asPostRequest = modifyBiuConfig({ method: 'POST' })\r\nexport const asGetRequest = modifyBiuConfig({ method: 'GET' })\r\nexport const withJSONContent = modifyBiuConfig({ headers: { 'Content-Type': 'application/json' } })\r\nexport const withCredentials = modifyBiuConfig({ withCredentials: true })\r\nexport const withoutCredentials = modifyBiuConfig({ withCredentials: false })\r\n\r\n// Mobius 的 API 规范中，success 响应的数据存在深层嵌套，如:\r\n//  -> { status: 'success', data: { [REQUEST_TYPE]: actualData } }\r\n// withDataExtracted 可以将冗余嵌套移除\r\nexport const withDataExtracted = modifyBiuConfig({ withDataExtracted: true })\r\n","/* eslint-disable camelcase */\r\nimport {\r\n  isString, isObject, isError,\r\n  hasOwnProperty, propEq,\r\n  allPass\r\n} from '../internal.js'\r\nimport { compose } from '../functional.js'\r\n\r\nexport const makeBaseResponse = ({ code, code_message, status, status_message, data }) => ({\r\n  code: code,\r\n  code_message: code_message,\r\n  status: status,\r\n  status_message: status_message || '',\r\n  data: data || {}\r\n})\r\n\r\nexport const formatResponseMakerFlattenArgs = (...args) => {\r\n  const objectArgs = args.reduce((res, arg) => {\r\n    // isError 检测应该在 isString 之前，即对于 ErrorResponse，自定义的 status_message 优先级大于 error.message\r\n    // 检测顺序： isResponse -> isResponseCode -> isObject\r\n    if (isResponse(arg)) {\r\n      res = { ...arg }\r\n    } else if (isResponseCode(arg)) {\r\n      res = { ...res, ...arg }\r\n    } else if (isError(arg)) {\r\n      // 避免覆盖自定义 status_message\r\n      res = { ...res, status_message: res.status_message || arg.message, data: { error: arg } }\r\n    } else if (isString(arg)) {\r\n      // 自定义 status_message 可以覆盖 error.message\r\n      res = { ...res, status_message: arg }\r\n    } else if (isObject(arg)) {\r\n      res.data = res.data || {}\r\n      res = { ...res, data: { ...res.data, ...arg } }\r\n    } else {\r\n      res.data = res.data || {}\r\n      res.data.response = res.data.response || []\r\n      res.data.response.push(arg)\r\n    }\r\n    return res\r\n  }, {})\r\n  return objectArgs\r\n}\r\n\r\nexport const makeSuccessResponse = ({ code, code_message, status_message, data }) =>\r\n  makeBaseResponse({ code, code_message, status: 'success', status_message, data })\r\n\r\nexport const makeFailResponse = ({ code, code_message, status_message, data }) =>\r\n  makeBaseResponse({ code, code_message, status: 'fail', status_message, data })\r\n\r\nexport const makeErrorResponse = ({ code, code_message, status_message, data }) =>\r\n  makeBaseResponse({ code, code_message, status: 'error', status_message, data })\r\n\r\nexport const makeUnknownResponse = ({ code, code_message, status_message, data }) => {\r\n  console.warn(`[MobiusUtils][data] makeUnknownResponse: unknown response detected, ${JSON.stringify({ code, code_message, status_message, data })}`)\r\n  return makeBaseResponse({ code, code_message, status: 'unknown', status_message, data })\r\n}\r\nexport const makeSuccessResponseF = compose(makeSuccessResponse, formatResponseMakerFlattenArgs)\r\nexport const makeFailResponseF = compose(makeFailResponse, formatResponseMakerFlattenArgs)\r\nexport const makeErrorResponseF = compose(makeErrorResponse, formatResponseMakerFlattenArgs)\r\nexport const makeUnknownResponseF = compose(makeUnknownResponse, formatResponseMakerFlattenArgs)\r\n\r\nconst propStatusEq = propEq('status')\r\nexport const isResponseCode = allPass([isObject, hasOwnProperty('code'), hasOwnProperty('code_message')])\r\nexport const hasValidResponseCode = isResponseCode\r\nexport const isResponse = allPass([\r\n  isObject,\r\n  // hasOwnProperty('code'), hasOwnProperty('code_message'), // response code is not required\r\n  hasOwnProperty('status'), hasOwnProperty('status_message'),\r\n  hasOwnProperty('data')\r\n])\r\nexport const isSuccessResponse = allPass([isResponse, propStatusEq('success')])\r\nexport const isFailResponse = allPass([isResponse, propStatusEq('fail')])\r\nexport const isErrorResponse = allPass([isResponse, propStatusEq('error')])\r\nexport const isUnknowResponse = allPass([isResponse, propStatusEq('unknown')])\r\n\r\nexport const DEFAULT_SUCCESS_RESPONSE_CODE = { code: 0, code_message: 'SUCCESS' }\r\nexport const DEFAULT_FAIL_RESPONSE_CODE = { code: 2, code_message: 'FAIL' }\r\nexport const DEFAULT_ERROR_RESPONSE_CODE = { code: 1, code_message: 'UNDIFINED_RUNTIME_ERROR' }\r\nexport const DEFAULT_UNKNOWN_RESPONSE_CODE = { code: 3, code_message: 'UNKNOWN_RESPONSE' }\r\nexport const formatSuccessResponse = response => {\r\n  if (!hasValidResponseCode(response)) {\r\n    response = { ...response, ...DEFAULT_SUCCESS_RESPONSE_CODE }\r\n  }\r\n  return response\r\n}\r\nexport const formatFailResponse = response => {\r\n  if (!hasValidResponseCode(response)) {\r\n    response = { ...response, ...DEFAULT_FAIL_RESPONSE_CODE }\r\n  }\r\n  return response\r\n}\r\nexport const formatErrorResponse = response => {\r\n  if (!hasValidResponseCode(response)) {\r\n    response = { ...response, ...DEFAULT_ERROR_RESPONSE_CODE }\r\n  }\r\n  return response\r\n}\r\nexport const formatUnknownResponse = response => {\r\n  if (!hasValidResponseCode(response)) {\r\n    response = { ...response, ...DEFAULT_UNKNOWN_RESPONSE_CODE }\r\n  }\r\n  return response\r\n}\r\nexport const formatResponse = response => {\r\n  if (isResponse(response)) {\r\n    if (isSuccessResponse(response)) return formatSuccessResponse(response)\r\n    if (isFailResponse(response)) return formatFailResponse(response)\r\n    if (isErrorResponse(response)) return formatErrorResponse(response)\r\n    if (isUnknowResponse(response)) return formatUnknownResponse(response)\r\n  }\r\n  if (isObject(response)) {\r\n    return makeSuccessResponse({ ...DEFAULT_SUCCESS_RESPONSE_CODE, status_message: 'success response', data: { ...response } })\r\n  }\r\n  if (isString(response)) {\r\n    return makeFailResponse({ ...DEFAULT_FAIL_RESPONSE_CODE, status_message: response, data: { response: {} } })\r\n  }\r\n  if (isError(response)) {\r\n    return makeErrorResponse({ ...DEFAULT_ERROR_RESPONSE_CODE, status_message: response.message, data: { error: response } })\r\n  }\r\n  return makeUnknownResponse({\r\n    ...DEFAULT_UNKNOWN_RESPONSE_CODE,\r\n    status_message: 'So sad, unknown response occurred ;(',\r\n    data: { response: [response] }\r\n  })\r\n}\r\n","import {\r\n  isString, isObject, isArray, isFunction\r\n} from '../internal.js'\r\nimport {\r\n  Data, isAtom,\r\n  replayWithLatest,\r\n  binaryTweenPipeAtom\r\n} from '../atom.js'\r\n\r\n/**\r\n * Map{\r\n *   [Creator | CreatorInfo]: ScopeManager{\r\n *     [scope]: Instance,\r\n *     ...\r\n *   },\r\n *   ...\r\n * }\r\n */\r\n\r\nconst SCOPE_MANAGERS = new Map()\r\n\r\n/**\r\n * @param { object | function } creator\r\n * @param { object? } options\r\n * @return ScopeManager\r\n */\r\nconst createScopeManager = (creator, options) => {\r\n  if (!creator) throw (new TypeError('\"creator\" is required!'))\r\n  const scopeMap = new Map()\r\n  const promiseMap = new Map()\r\n\r\n  return {\r\n    getCreator: () => creator,\r\n    getOptions: () => options,\r\n\r\n    /**\r\n     * @param { string } scope\r\n     * @return { boolean } given scope is registered or not\r\n     */\r\n    isRegisteredScope: scope => !!scopeMap.get(scope),\r\n\r\n    /**\r\n     * @param { string } scope\r\n     * @return { boolean }\r\n     */\r\n    releaseScope: scope => {\r\n      return scopeMap.delete(scope)\r\n    },\r\n    releaseManager: () => {\r\n      const { isStray, strayFlag } = options\r\n      if (isStray) {\r\n        let res = false\r\n        SCOPE_MANAGERS.forEach((val, key) => {\r\n          if (!res && key.flag === strayFlag) {\r\n            res = SCOPE_MANAGERS.delete(key)\r\n          }\r\n        })\r\n        return res\r\n      } else {\r\n        return SCOPE_MANAGERS.delete(creator)\r\n      }\r\n    },\r\n\r\n    /**\r\n     * register an instance with given scope,\r\n     * if there is none, create one,\r\n     * if there is one, just return it.\r\n     *\r\n     * @param { string | object } scope\r\n     * @param { { instance?, params? }? } options can be omitted when the type of scope is Object\r\n     *\r\n     * @accept ({ scope, instance?, params? })\r\n     * @accept (scope, { instance?, params? })\r\n     *\r\n     * @return instance\r\n     */\r\n    registerScope: (scope, options) => {\r\n      let _scope, _instance, _params\r\n      // accept ({ scope, instance?, params? })\r\n      if (isObject(scope)) {\r\n        _instance = scope.instance\r\n        _params = scope.params\r\n        _scope = scope.scope\r\n      } else if (isString(scope)) {\r\n        // accept (scope, { instance?, params? })\r\n        _scope = scope\r\n        if (isObject(options)) {\r\n          _instance = options.instance\r\n          _params = options.params\r\n        } else {\r\n          _params = options\r\n        }\r\n      } else {\r\n        throw (new TypeError(`first argument of registerScope is expected to be type of \"String\" | \"Object\", but received \"${typeof scope}\".`))\r\n      }\r\n\r\n      if (!isString(_scope)) throw (new TypeError(`\"scope\" is required and is expected to be type of \"String\", but received \"${typeof _scope}\".`))\r\n      if (!creator && !_instance) throw (new TypeError('\"creator\" is not given, \"instance\" is required!'))\r\n      if (isObject(_params)) {\r\n        _params = { ..._params, '@scopeName': _scope }\r\n      }\r\n\r\n      let instance = scopeMap.get(_scope)\r\n\r\n      // If there is no instance registered, create one.\r\n      // Then check if there is a promise has been made, if so, trigger it\r\n      if (!instance) {\r\n        instance = _instance ||\r\n         (isFunction(creator)\r\n           ? (_params\r\n             ? (isArray(_params) ? creator(..._params) : creator(_params))\r\n             : creator({ '@scopeName': _scope })\r\n           )\r\n           : creator\r\n         )\r\n        scopeMap.set(_scope, instance)\r\n\r\n        const promise = promiseMap.get(_scope)\r\n        if (promise) {\r\n          if (isAtom(instance)) {\r\n            binaryTweenPipeAtom(replayWithLatest(1, instance), promise)\r\n          } else {\r\n            binaryTweenPipeAtom(replayWithLatest(1, Data.of(instance)), promise)\r\n          }\r\n        }\r\n      }\r\n\r\n      return instance\r\n    },\r\n\r\n    /**\r\n     * @param { string | object } scope\r\n     * @param { { acceptPromise?: true }? }options\r\n     *\r\n     * @accept accept ({ scope, options | ...options })\r\n     * @accept accept (scope, options? )\r\n     *\r\n     * @return instance | Atom of instance\r\n     */\r\n    getInstance: (scope, options = {}) => {\r\n      // accept ({ scope, options | ...options })\r\n      const _scope = isObject(scope) ? scope.scope : scope\r\n      if (!isString(_scope)) throw new TypeError(`\"scope\" is required and is expected to be type of \"String\", but received \"${typeof _scope}\".`)\r\n\r\n      if (isObject(scope)) {\r\n        if (!scope.options) {\r\n          options = Object.assign({}, scope)\r\n          delete options.scope\r\n        } else {\r\n          options = scope.options\r\n        }\r\n      } else if (isString(scope)) {\r\n        options = options || {}\r\n      }\r\n\r\n      if (!isObject(options)) {\r\n        throw (new TypeError(`\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n      }\r\n\r\n      const { acceptPromise = true } = options\r\n\r\n      const instance = scopeMap.get(_scope)\r\n      if (instance) return instance\r\n      if (!acceptPromise) return false\r\n      const promise = promiseMap.get(_scope)\r\n      if (promise) return promise\r\n      const _promise = Data.empty()\r\n      promiseMap.set(_scope, _promise)\r\n      return _promise\r\n    },\r\n\r\n    // ! use function declaration to keep \"this\" context\r\n    /**\r\n     * registerScope -> getInstance\r\n     */\r\n    scope: function (scope) {\r\n      this.registerScope(scope)\r\n      return this.getInstance(scope)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param creator Any\r\n * @param { { isStray?: false, strayFlag?: string } } options\r\n * @return ScopeManager\r\n */\r\nexport const makeScopeManager = (creator, options = {}) => {\r\n  if (!isObject(options)) {\r\n    throw (new TypeError(`\"options\" is expected to be type of \"Object\", but received \"${typeof options}\".`))\r\n  }\r\n\r\n  const { isStray = false, strayFlag } = options\r\n\r\n  let manager\r\n\r\n  if (isStray) {\r\n    manager = createScopeManager(creator, options)\r\n    SCOPE_MANAGERS.set({ creator, options: { isStray, strayFlag }, flag: strayFlag }, manager)\r\n  } else {\r\n    manager = SCOPE_MANAGERS.get(creator)\r\n    if (!manager) {\r\n      manager = createScopeManager(creator, options)\r\n      SCOPE_MANAGERS.set(creator, manager)\r\n    }\r\n  }\r\n\r\n  return manager\r\n}\r\n","import { isBoolean, isString, isNumber, isArray, isObject } from '../internal.js'\r\nimport { curryS } from '../functional.js'\r\n\r\nexport const struct = curryS((type, validatorMaker) => {\r\n  return config => val => {\r\n    const res = validatorMaker(config)(val)\r\n    const { isValid } = res\r\n    const detail = res.detail || {}\r\n    const { path, message } = detail\r\n\r\n    return [isValid, isValid ? undefined : message || 'Expected a value of type `' + type + `\\`${path ? ' for `' + path + '`' : ''} but received \"${JSON.stringify(val)}\".`]\r\n  }\r\n})\r\n\r\nexport const boolean = struct('Boolean', () => val => {\r\n  return {\r\n    isValid: isBoolean(val)\r\n  }\r\n})\r\nexport const string = struct('String', () => val => {\r\n  return {\r\n    isValid: isString(val)\r\n  }\r\n})\r\nexport const number = struct('Number', () => val => {\r\n  return {\r\n    isValid: isNumber(val)\r\n  }\r\n})\r\n\r\nexport const array = struct('Array', config => val => {\r\n  if (!isArray(val) || !config) {\r\n    return {\r\n      isValid: isArray(val)\r\n    }\r\n  }\r\n  return val.reduce((acc, item) => {\r\n    const [isValid, message] = config(item)\r\n    acc.isValid = !acc.isValid ? false : isValid\r\n    acc.detail.message = acc.detail.message || message\r\n    return acc\r\n  }, { isValid: true, detail: { message: undefined } })\r\n})\r\n\r\nexport const object = struct('Object', () => val => {\r\n  return {\r\n    isValid: isObject(val)\r\n  }\r\n})\r\n\r\nexport const is = (data, struct) => {\r\n  console.log(struct(data))\r\n  return struct(data)[0]\r\n}\r\n\r\n// console.info(is({}, object()))\r\n// console.info(is(312312, string()))\r\n// console.info(is([123], array(string())))\r\n","const _fingerPrint = 'mobius'.split('')\r\n\r\n/**\r\n * @param seed String, default to 'unique'\r\n * @return String\r\n */\r\nexport const makeUniqueString = (seed = 'unique') => {\r\n  _fingerPrint.unshift(_fingerPrint.pop())\r\n  const fingerPrint = _fingerPrint.join('')\r\n  return `${seed}--${+new Date()}-${fingerPrint}`\r\n}\r\n","export const inspect = (x) => {\r\n  if (x && typeof x.inspect === 'function') {\r\n    return x.inspect()\r\n  }\r\n\r\n  function inspectFn (f) {\r\n    return f.name ? f.name : f.toString()\r\n  }\r\n\r\n  function inspectTerm (t) {\r\n    switch (typeof t) {\r\n      case 'string':\r\n        return `'${t}'`\r\n      case 'object': {\r\n        const ts = Object.keys(t).map(k => [k, inspect(t[k])])\r\n        return `{${ts.map(kv => kv.join(': ')).join(', ')}}`\r\n      }\r\n      default:\r\n        return String(t)\r\n    }\r\n  }\r\n\r\n  function inspectArgs (args) {\r\n    return Array.isArray(args) ? `[${args.map(inspect).join(', ')}]` : inspectTerm(args)\r\n  }\r\n\r\n  return (typeof x === 'function') ? inspectFn(x) : inspectArgs(x)\r\n}\r\n","import { curryN, curry } from './helpers.js'\r\n\r\n// @ref: https://www.youtube.com/watch?v=3VQ382QG-y4\r\n// A combinator is a function with no free variables.\r\n//   -> 函数体中所有的变量都来自于参数\r\n//   -> isCombinator: x => x, x => y => x\r\n//   -> isNotCombinator: x => y, x => x * y\r\n\r\n// @ref: https://gist.github.com/Avaq/1f0636ec5c8d6aed2e45\r\n// @ref: https://crocks.dev/docs/functions/combinators.html\r\n\r\n// I\r\n// @Haskell: id\r\n// @use: identity\r\n// identity :: a -> a\r\nexport const identity = x => x\r\n\r\n// O, omega\r\n// @use: self-application\r\n// O :: f -> f\r\nexport const omega = f => f(f)\r\n\r\n// K, Kestrel\r\n// @Haskell: const\r\n// @use: true, first, const\r\n// constant :: a -> b -> a\r\nexport const constant = x => () => x\r\nexport const always = constant\r\n\r\n// KI, Kite = KI = CK\r\n// @Haskell: const id\r\n// derived from: constant(identity)\r\n// @use: false, second\r\n// kite :: a -> b -> b\r\nexport const kite = a => b => b\r\n\r\n// C, Cardinal\r\n// @Haskell: flip\r\n// @use: reverse arguments\r\n// flip :: (a -> b -> c) -> b -> a -> c\r\nexport const flip = curryN(3, (f, x, y) => curry(f)(y)(x))\r\n\r\n// apply :: (a -> b) -> a -> b\r\nexport const apply = curryN(2, (f, x) => f(x))\r\n\r\n// T, Thrush = CI\r\n// @Haskell: flip id\r\n// @use: hold an argument\r\n// thrush :: a -> (a -> b) -> b\r\nexport const applyTo = curryN(2, (x, f) => f(x))\r\nexport const thrush = applyTo\r\n\r\n// V, Vireo = BCT\r\n// @Haskell: flip . flip id\r\n// @use: hold a pair of args\r\n// vireo :: a -> b -> (a -> b -> c) -> c\r\nexport const vireo = curryN(3, (x, y, f) => curry(f)(x)(y))\r\n\r\n// W, join\r\n// duplication :: (a -> a -> b) -> a -> b\r\nexport const duplication = curryN(2, (f, x) => curry(f)(x)(x))\r\n\r\n// substitution :: (a -> b -> c) -> (a - b) -> a -> c\r\nexport const substitution = curryN(3, (f, g, x) => curry(f)(x)(g(x)))\r\n// sustitution2 :: (a -> b -> c) -> (b -> a) -> b -> c\r\nexport const substitution2 = curryN(3, (f, g, x) => curry(f)(g(x))(x))\r\n\r\n// converge :: (b -> c -> d) -> (a -> b) -> (a -> c) -> a -> d\r\nexport const converge = curryN(4, (f, g, h, x) => curry(f)(g(x))(h(x)))\r\n\r\n// compose2 ::  (c -> d -> e) -> (a -> c) -> (b -> d) -> a -> b -> e\r\nexport const compose2 = curryN(5, (f, g, h, x, y) => curry(f)(g(x))(h(y)))\r\n\r\n// on\r\n// psi :: (b → b → c) → (a → b) → a → a → c\r\nexport const psi = curryN(4, (f, g, x, y) => curry(f)(g(x))(g(y)))\r\n\r\n// B, Bluebird\r\n// @Haskell: (.)\r\n// @use: composition\r\n// composeB :: (b -> c) -> (a -> b) -> a -> c\r\nexport const composeB = curryN(3, (f, g, x) => f(g(x)))\r\n\r\n// Y :: (a -> a) -> a\r\n// export const Y = fixPoint = ...\r\n// ! Can not build in JavaScript\r\n\r\n// Z\r\n// Y Combinator's variation in JavaScript\r\nexport const Z = g => (f => g((...args) => f(f)(...args)))(f => g((...args) => f(f)(...args)))\r\n// const f = g => n => n === 0 ? 1 : n * g(n - 1)\r\n// console.log(Z(f)(5))\r\n","import { inspect } from './_private.js'\r\nimport { curry } from './helpers.js'\r\nimport { identity } from './combinators.js'\r\n// @ref: https://mostly-adequate.gitbooks.io/mostly-adequate-guide/\r\n\r\nexport class Either {\r\n  constructor (x) {\r\n    this._value = x\r\n  }\r\n\r\n  get value () {\r\n    return this._value\r\n  }\r\n\r\n  static of (x) {\r\n    return new Right(x)\r\n  }\r\n\r\n  static right (x) {\r\n    return new Right(x)\r\n  }\r\n\r\n  static left (x) {\r\n    return new Left(x)\r\n  }\r\n}\r\n\r\nexport class Left extends Either {\r\n  get isLeft () {\r\n    return true\r\n  }\r\n\r\n  get isRight () {\r\n    return false\r\n  }\r\n\r\n  static of (x) {\r\n    throw new Error('`of` called on class Left (value) instead of Either (type)')\r\n  }\r\n\r\n  inspect () {\r\n    return `Left(${inspect(this._value)})`\r\n  }\r\n\r\n  map () {\r\n    return this\r\n  }\r\n\r\n  join () {\r\n    return this\r\n  }\r\n\r\n  chain () {\r\n    return this\r\n  }\r\n\r\n  ap () {\r\n    return this\r\n  }\r\n\r\n  cata ({ Left, Right }) {\r\n    return Left(this._value)\r\n  }\r\n\r\n  // ----- Traversable (Either a)\r\n  sequence (of) {\r\n    return of(this)\r\n  }\r\n\r\n  traverse (of, fn) {\r\n    return of(this)\r\n  }\r\n}\r\n\r\nexport class Right extends Either {\r\n  get isLeft () {\r\n    return false\r\n  }\r\n\r\n  get isRight () {\r\n    return true\r\n  }\r\n\r\n  static of (x) {\r\n    throw new Error('`of` called on class Right (value) instead of Either (type)')\r\n  }\r\n\r\n  inspect () {\r\n    return `Right(${inspect(this._value)})`\r\n  }\r\n\r\n  map (fn) {\r\n    return Either.of(fn(this._value))\r\n  }\r\n\r\n  join () {\r\n    return this._value\r\n  }\r\n\r\n  chain (fn) {\r\n    return fn(this._value)\r\n  }\r\n\r\n  ap (mfn) {\r\n    return this.map(mfn._value)\r\n  }\r\n\r\n  cata ({ Left, Right }) {\r\n    return Right(this._value)\r\n  }\r\n\r\n  // ----- Traversable (Either a)\r\n  sequence (of) {\r\n    return this.traverse(of, identity)\r\n  }\r\n\r\n  traverse (of, fn) {\r\n    fn(this._value).map(Either.of)\r\n  }\r\n}\r\n\r\n// left :: a -> Either a b\r\nexport const left = a => new Left(a)\r\n// right :: b -> Either a b\r\nexport const right = b => new Right(b)\r\n\r\n// either :: (a -> c) -> (b -> c) -> Either a b -> c\r\nexport const either = curry((f, g, e) => {\r\n  if (e.isLeft) {\r\n    return f(e.value)\r\n  }\r\n  return g(e.value)\r\n})\r\n","// use '../internal/base.js' instead of '../internal.js' to avoid ↓\r\n//   - ReferenceError: Cannot access '***' before initialization\r\n//   - because some of internal modules import the \"../functional.js\"\r\nimport { asIs, isObject, isFunction } from '../internal/base.js'\r\n\r\n// NOTE: 重复实现了 boolean.js 中的 complement 以避免循环引用\r\nconst _complement = fn => compose(x => !x, fn)\r\n\r\nexport const argPlaceholder = {\r\n  // compatible with ramda.js\r\n  '@@functional/placeholder': true,\r\n  isArgPlaceholder: true\r\n}\r\nexport const isArgPlaceholder = placeholder =>\r\n  isObject(placeholder) && Object.prototype.hasOwnProperty.call(placeholder, 'isArgPlaceholder') && placeholder.isArgPlaceholder\r\n\r\n// loose curry will pass all of the args it received to target function,\r\n// even if the arg's num greater than initial N\r\nexport const looseCurryS = (fn, ...args) => {\r\n  if (args.length >= fn.length) {\r\n    return fn(...args)\r\n  } else {\r\n    return (...args2) => looseCurryS(fn, ...args, ...args2)\r\n  }\r\n}\r\nexport const curryS = (fn, ...args) => {\r\n  const targetNum = fn.length\r\n  if (args.length >= targetNum) {\r\n    return fn(...args.slice(0, targetNum))\r\n  } else {\r\n    return (...args2) => curryS(fn, ...args, ...args2)\r\n  }\r\n}\r\n\r\n// loose curry will pass all of the args it received to target function,\r\n// even if the arg's num greater than initial N\r\nexport const internalLooseCurry = (fn, filled, ...args) => {\r\n  let innerArgs = filled || []\r\n  innerArgs = innerArgs.map(innerArg => isArgPlaceholder(innerArg) ? (args.length > 0 ? args.shift() : innerArg) : innerArg)\r\n  innerArgs = innerArgs.concat(args)\r\n  const targetNum = fn.length\r\n  const validArgs = innerArgs.slice(0, targetNum)\r\n  const validLen = validArgs.filter(_complement(isArgPlaceholder)).length\r\n  if (validLen >= targetNum) {\r\n    return fn(...innerArgs)\r\n  } else {\r\n    return (...extraArgs) => internalLooseCurry(fn, innerArgs, ...extraArgs)\r\n  }\r\n}\r\nexport const looseCurry = (fn, ...args) => internalLooseCurry(fn, [], ...args)\r\nexport const internalCurry = (fn, filled, ...args) => {\r\n  let innerArgs = filled || []\r\n  innerArgs = innerArgs.map(innerArg => isArgPlaceholder(innerArg) ? (args.length > 0 ? args.shift() : innerArg) : innerArg)\r\n  innerArgs = innerArgs.concat(args)\r\n  const targetNum = fn.length\r\n  const validArgs = innerArgs.slice(0, targetNum)\r\n  const validLen = validArgs.filter(_complement(isArgPlaceholder)).length\r\n  if (validLen >= targetNum) {\r\n    return fn(...validArgs)\r\n  } else {\r\n    return (...extraArgs) => internalCurry(fn, validArgs, ...extraArgs)\r\n  }\r\n}\r\nexport const curry = (fn, ...args) => internalCurry(fn, [], ...args)\r\n\r\n// loose curry will pass all of the args it received to target function,\r\n// even if the arg's num greater than initial N\r\nexport const internalCurryN = (n, fn, filled, ...args) => {\r\n  let innerArgs = filled || []\r\n  innerArgs = innerArgs.map(innerArg => isArgPlaceholder(innerArg) ? (args.length > 0 ? args.shift() : innerArg) : innerArg)\r\n  innerArgs = innerArgs.concat(args)\r\n  const validArgs = innerArgs.slice(0, n)\r\n  const validLen = validArgs.filter(_complement(isArgPlaceholder)).length\r\n  if (validLen >= n) {\r\n    return fn(...validArgs)\r\n  } else {\r\n    return (...args2) => internalCurryN(n, fn, validArgs, ...args2)\r\n  }\r\n}\r\nexport const curryN = (n, fn, ...args) => internalCurryN(n, fn, [], ...args)\r\n// export const curry1 = (fn, ...args) => internalCurryN(1, fn, [], ...args) // just for consistency\r\n// export const curry2 = (fn, ...args) => internalCurryN(2, fn, [], ...args)\r\n// ...\r\nexport const internalLooseCurryN = (n, fn, filled, ...args) => {\r\n  let innerArgs = filled || []\r\n  innerArgs = innerArgs.map(innerArg => isArgPlaceholder(innerArg) ? (args.length > 0 ? args.shift() : innerArg) : innerArg)\r\n  innerArgs = innerArgs.concat(args)\r\n  const validArgsLen = innerArgs.slice(0, n).filter(_complement(isArgPlaceholder)).length\r\n  if (validArgsLen >= n) {\r\n    return fn(...innerArgs)\r\n  } else {\r\n    return (...extraArgs) => internalLooseCurryN(n, fn, innerArgs, ...extraArgs)\r\n  }\r\n}\r\n/**\r\n * @return { function | any }\r\n */\r\nexport const looseCurryN = (n, fn, ...args) => internalLooseCurryN(n, fn, [], ...args)\r\n\r\n// NOTE: 另外一种 compose 实现\r\n// @see: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight\r\n// const compose = (...args) => value => args.reduceRight((acc, fn) => fn(acc), value)\r\n// 本质是一个闭包，直觉上不喜欢（虽然能够带来一些调试上的好处）\r\n//   -> @see: https://www.freecodecamp.org/news/pipe-and-compose-in-javascript-5b04004ac937/\r\n// 下面这种更符合函数式思维，实现上更接近数学定义\r\nexport const composeL = (...fns) => fns.reduce((g, f) => (...args) => f(g(...args)), fns.shift() || asIs)\r\nexport const composeR = (...fns) => composeL(...fns.reverse())\r\nexport const pipeL = composeR\r\nexport const pipeR = composeL\r\nexport const compose = composeR\r\nexport const pipe = composeL\r\n\r\nexport const memorize = (fn, hasher) => {\r\n  const cache = {}\r\n  hasher = hasher || ((...args) => JSON.stringify(args))\r\n  return (...args) => {\r\n    const hash = hasher(args)\r\n    if (!cache[hash]) {\r\n      cache[hash] = fn.apply(this, args)\r\n    }\r\n    return cache[hash]\r\n  }\r\n}\r\n\r\nconst invokerFactory = curryFn => (n, key) => curryFn(n, (...args) => {\r\n  // curry function controlls how many args will be passed in\r\n  const target = args[args.length - 1]\r\n  if (!target[key]) throw Error(`Can not find \"${key}\" method in target.'`)\r\n  if (!isFunction(target[key])) throw Error(`\"${key}\" property in target is not a function.`)\r\n  return target[key](...args.slice(0, args.length - 1))\r\n})\r\nexport const invoker = invokerFactory(curryN)\r\nexport const looseInvoker = invokerFactory(looseCurryN)\r\n\r\nexport const nAry = curry((n, fn) => curryN(n, fn))\r\nexport const looseNAry = curry((n, fn) => looseCurryN(n, fn))\r\nexport const binary = fn => curry((x, y) => fn(x, y)) // nAry(2, fn)\r\nexport const looseBinary = fn => looseCurry((x, y, ...args) => fn(x, y, ...args)) // looseNAry(2, fn)\r\nexport const unary = fn => x => fn(x)\r\nexport const looseUnary = fn => (x, ...args) => fn(x, ...args)\r\n\r\nexport const tap = fn => (...args) => {\r\n  fn(...args)\r\n  return args[0]\r\n}\r\n/*\r\n                  arguments num controller & curry test\r\n*/\r\n// const add = (x, y, z) => { console.log(x, y, z) }\r\n// unary(add)(1, 2, 3) // 1, undefined, undefined\r\n// binary(add)(1, 2, 3) // 1, 2, undefined\r\n// nAry(1, add)(1, 2, 3) // 1, undefined, undefined\r\n// nAry(2, add)(1, 2, 3) // 1, 2, undefined\r\n// nAry(3, add)(1, 2, 3) // 1, 2, 3\r\n// looseUnary(add)(1, 2, 3) // 1, 2, 3\r\n// looseBinary(add)(1, 2, 3) // 1, 2, 3\r\n// looseNAry(1, add)(1, 2, 3) // 1, 2, 3\r\n// looseNAry(2, add)(1, 2, 3) // 1, 2, 3\r\n// looseNAry(3, add)(1, 2, 3) // 1, 2, 3\r\n\r\n// const gg = (a, b) => {\r\n//   console.warn(a, b)\r\n// }\r\n\r\n// const ff = (a, b) => {\r\n//   curry(gg)(a)\r\n// }\r\n\r\n// ff(1)\r\n","import { inspect } from './_private.js'\r\nimport { identity } from './combinators.js'\r\n\r\nexport class Identity {\r\n  constructor (x) {\r\n    this._value = x\r\n  }\r\n\r\n  of (x) {\r\n    return new Identity(x)\r\n  }\r\n\r\n  get value () {\r\n    return this._value\r\n  }\r\n\r\n  get isIdentity () {\r\n    return true\r\n  }\r\n\r\n  inspect () {\r\n    return `Identity(${inspect(this._value)})`\r\n  }\r\n\r\n  map (fn) {\r\n    return Identity.of(fn(this._value))\r\n  }\r\n\r\n  join () {\r\n    return this._value\r\n  }\r\n\r\n  chain (fn) {\r\n    return fn(this._value)\r\n  }\r\n\r\n  // ----- Traversable Identity\r\n  sequence (of) {\r\n    return this.traverse(of, identity)\r\n  }\r\n\r\n  traverse (of, fn) {\r\n    return fn(this._value).map(Identity.of)\r\n  }\r\n}\r\n","export * from './helpers.js'\r\nexport * from './combinators.js'\r\nexport * from './monads.js'\r\n","import { inspect } from './_private.js'\r\nimport { isFunction } from '../internal.js'\r\nimport { constant } from './combinators.js'\r\nimport { compose, looseCurryN } from './helpers.js'\r\n\r\nexport class IO {\r\n  constructor (fn) {\r\n    if (!isFunction(fn)) {\r\n      throw new Error('IO requires a function.')\r\n    }\r\n    this._value = fn\r\n  }\r\n\r\n  static of (fn) {\r\n    return new IO(fn)\r\n  }\r\n\r\n  static const (x) {\r\n    return new IO(constant(x))\r\n  }\r\n\r\n  get isIO () {\r\n    return true\r\n  }\r\n\r\n  inspect () {\r\n    return `IO(${inspect(this._value)})`\r\n  }\r\n\r\n  run (...args) {\r\n    return this._value(...args)\r\n  }\r\n\r\n  perform (...args) {\r\n    return this._value(...args)\r\n  }\r\n\r\n  performUnsafeIO (...args) {\r\n    return this._value(...args)\r\n  }\r\n\r\n  map (fn) {\r\n    return new IO(compose(fn, this._value))\r\n  }\r\n\r\n  join () {\r\n    return new IO(() => this.performUnsafeIO().performUnsafeIO())\r\n  }\r\n\r\n  chain (fn) {\r\n    return this.map(fn).join()\r\n    // return new IO(() => fn(this.performUnsafeIO()).performUnsafeIO())\r\n    // return fn(this.performUnsafeIO())\r\n  }\r\n\r\n  // !\r\n  ap (mfn) {\r\n    return this.chain(mfn._value)\r\n  }\r\n}\r\n\r\n// creator\r\nexport const io = fn => new IO(fn)\r\n\r\n// helpers\r\nexport const run = looseCurryN(1, (mIO, ...args) => mIO.run(...args))\r\nexport const perform = looseCurryN(1, (mIO, ...args) => mIO.perform(...args))\r\nexport const performUnsafeIO = looseCurryN(1, (mIO, ...args) => mIO.performUnsafeIO(...args))\r\n","import { inspect } from './_private.js'\r\nimport { isNull, isUndefined, isEmpty, isFalsy, isNil } from '../internal.js'\r\n\r\nimport { invoker, curry } from './helpers.js'\r\n\r\n/**\r\n * Custom Maybe Monad used in FP in JS book written in ES6\r\n * Author: Luis Atencio\r\n * Customized by cigaret.\r\n * ref: https://stackoverflow.com/questions/50512370/folktale-fantasyland-maybe-not-working-as-expected/57552439#57552439\r\n * comment: Just\\Some\r\n */\r\nexport class Maybe {\r\n  static of (a) {\r\n    return Maybe.just(a)\r\n  }\r\n\r\n  static just (a) {\r\n    return new Just(a)\r\n  }\r\n\r\n  static nothing () {\r\n    return new Nothing()\r\n  }\r\n\r\n  static fromNullable (a) {\r\n    return isNull(a) ? Maybe.nothing() : Maybe.just(a)\r\n  }\r\n\r\n  static fromUndefinedable (a) {\r\n    return isUndefined(a) ? Maybe.nothing() : Maybe.just(a)\r\n  }\r\n\r\n  static fromFalsyable (a) {\r\n    return isFalsy(a) ? Maybe.nothing() : Maybe.just(a)\r\n  }\r\n\r\n  static fromNilable (a) {\r\n    return isNil(a) ? Maybe.nothing() : Maybe.just(a)\r\n  }\r\n\r\n  static fromEmptyable (a) {\r\n    return isEmpty(a) ? Maybe.nothing() : Maybe.just(a)\r\n  }\r\n\r\n  get isNothing () {\r\n    return false\r\n  }\r\n\r\n  get isJust () {\r\n    return false\r\n  }\r\n\r\n  get isMaybe () {\r\n    return true\r\n  }\r\n}\r\n\r\n// Derived class Just -> Presence of a value\r\n// Or named `Some` in some other monad implements\r\nexport class Just extends Maybe {\r\n  constructor (value) {\r\n    super()\r\n    this._value = value\r\n  }\r\n\r\n  get value () {\r\n    return this._value\r\n  }\r\n\r\n  get isJust () {\r\n    return true\r\n  }\r\n\r\n  get isNothing () {\r\n    return false\r\n  }\r\n\r\n  inspect () {\r\n    return `Maybe.Just(${inspect(this._value)})`\r\n  }\r\n\r\n  map (fn) {\r\n    return Maybe.just(fn(this._value))\r\n  }\r\n\r\n  join () {\r\n    return this._value\r\n  }\r\n\r\n  chain (fn) {\r\n    return fn(this._value)\r\n  }\r\n\r\n  ap (mfn) {\r\n    return this.map(mfn._value)\r\n  }\r\n\r\n  orJust () {\r\n    return this\r\n  }\r\n\r\n  orElse () {\r\n    return this\r\n  }\r\n\r\n  filter (fn) {\r\n    return fn(this._value) ? this : Maybe.nothing()\r\n  }\r\n\r\n  cata ({ Just, Nothing }) {\r\n    return Just(this._value)\r\n  }\r\n}\r\n\r\n// Derived class Empty -> Abscense of a value\r\nexport class Nothing extends Maybe {\r\n  get value () {\r\n    throw new TypeError(\"Can't extract the value of a Nothing.\")\r\n  }\r\n\r\n  get isNothing () {\r\n    return true\r\n  }\r\n\r\n  get isJust () {\r\n    return false\r\n  }\r\n\r\n  inspect () {\r\n    return 'Maybe.Nothing'\r\n  }\r\n\r\n  map (fn) {\r\n    return this\r\n  }\r\n\r\n  join () {\r\n    return this\r\n  }\r\n\r\n  chain (fn) {\r\n    return this\r\n  }\r\n\r\n  ap (mfn) {\r\n    return this\r\n  }\r\n\r\n  orJust (dlft) {\r\n    return Maybe.of(dlft)\r\n  }\r\n\r\n  orElse (maybeMonad) {\r\n    return maybeMonad\r\n  }\r\n\r\n  filter () {\r\n    return this\r\n  }\r\n\r\n  cata ({ Just, Nothing }) {\r\n    return Nothing()\r\n  }\r\n}\r\n\r\n// just :: Maybe a -> Just a\r\nexport const just = a => new Just(a)\r\n// nothing :: Maybe () -> Nothing\r\nexport const nothing = () => new Nothing()\r\n// @see: https://crocks.dev/docs/crocks/Maybe.html#safe\r\n// safe :: (a -> Boolean) -> a -> Maybe a\r\nexport const safe = curry((pred, val) => pred(val) ? just(val) : nothing())\r\n\r\n// helpers\r\nexport const orElse = invoker(2, 'orElse')\r\nexport const orJust = invoker(2, 'orJust')\r\n\r\n// maybe :: b -> (a -> b) -> Maybe a -> b\r\nexport const maybe = curry((v, f, m) => {\r\n  if (m.isNothing) {\r\n    return v\r\n  }\r\n  return f(m.value)\r\n})\r\n","import { reduce } from '../internal.js'\r\nimport { curry, curryN, invoker } from './helpers.js'\r\nimport { Either } from './either.monad.js'\r\nimport { Maybe } from './maybe.monad.js'\r\n\r\nexport * from './identity.monad.js'\r\nexport * from './maybe.monad.js'\r\nexport * from './either.monad.js'\r\nexport * from './io.monad.js'\r\nexport * from './task.monad.js'\r\n\r\n// predicate functions\r\n// @see https://crocks.dev/docs/functions/predicate-functions.html\r\nexport const isFunctor = m => {}\r\nexport const isMonad = m => {}\r\nexport const isApplicative = m => {}\r\nexport const isMonoid = m => {}\r\n// ……\r\n\r\n// point-free functions\r\nexport const of = invoker(2, 'of')\r\nexport const chain = invoker(2, 'chain')\r\nexport const ap = invoker(2, 'ap')\r\nexport const cata = invoker(1, 'cata')\r\n\r\n// helper functions\r\nexport const liftN = curry((fnArgsLen, fn) => {\r\n  const lifted = curryN(fnArgsLen, fn)\r\n  return curryN(fnArgsLen, (...args) => {\r\n    return reduce(ap, args[0].map(lifted), args.slice(1))\r\n  })\r\n})\r\nexport const lift = fn => liftN(fn.length, fn)\r\n// export const liftA2 = curry((f, a, b) => b.ap(a.map(f)))\r\n// export const liftA3 = curry((f, a, b, c) => c.ap(b.ap(a.map(f))))\r\nexport const liftA2 = liftN(2)\r\nexport const liftA3 = liftN(3)\r\nexport const liftA4 = liftN(4)\r\nexport const liftA5 = liftN(5)\r\n// ...\r\n\r\n// transformation functions\r\nexport const maybeToEither = (left, m) => {\r\n  if (m.isNothing) {\r\n    return Either.left(left)\r\n  }\r\n  return m.chain(Either.right)\r\n}\r\nexport const eitherToMaybe = e => {\r\n  if (e.isLeft) {\r\n    return Maybe.nothing()\r\n  }\r\n  return e.chain(Maybe.just)\r\n}\r\n","import { inspect } from './_private.js'\r\n\r\n// Task\\Continuation\\Lazy Promise\\Future\r\nexport class Task {\r\n  // ({ reject, resolve }) => resolve(a)\r\n  constructor (fn) {\r\n    this._value = fn\r\n  }\r\n\r\n  static of (x) {\r\n    return new Task(({ reject, resolve }) => resolve(x))\r\n  }\r\n\r\n  get isTask () {\r\n    return true\r\n  }\r\n\r\n  inspect () {\r\n    return `Task(${inspect(this._value)})`\r\n  }\r\n\r\n  fork ({ reject, resolve }) {\r\n    return this._value({ reject, resolve })\r\n  }\r\n\r\n  // fn :: a -> a\r\n  map (fn) {\r\n    return new Task(({ reject, resolve }) => this.fork({\r\n      reject: reject,\r\n      resolve: x => resolve(fn(x))\r\n    }))\r\n  }\r\n\r\n  join () {\r\n    return new Task(({ reject, resolve }) => this.fork({\r\n      reject: reject,\r\n      resolve: mx => mx.fork({\r\n        reject, resolve: x => resolve(x)\r\n      })\r\n    }))\r\n    // return this.chain(identity)\r\n  }\r\n\r\n  // fn :: a -> ma\r\n  chain (fn) {\r\n    return new Task(({ reject, resolve }) => this.fork({\r\n      reject: reject,\r\n      resolve: x => fn(x).fork({ reject, resolve })\r\n    }))\r\n  }\r\n\r\n  // mfn :: a -> a\r\n  ap (mfn) {\r\n    return this.map(mfn._value)\r\n  }\r\n}\r\n","export * from './functional.js'\r\nexport * from './internal.js'\r\nexport * from './external.js'\r\nexport * from './atom.js'\r\n\r\nexport * from './semantic.js'\r\n","import { invoker, curry, curryN, compose } from '../functional/helpers.js'\r\nimport { flip } from '../functional/combinators.js'\r\n\r\n// TODO: enhance\r\nexport const toArray = val => [...val]\r\n\r\n// @see: https://github.com/mqyqingfeng/Blog/issues/51\r\nexport const shuffle = a => {\r\n  a = [].concat(a)\r\n  for (let i = a.length; i; i--) {\r\n    const j = Math.floor(Math.random() * i);\r\n    [a[i - 1], a[j]] = [a[j], a[i - 1]]\r\n  }\r\n  return a\r\n}\r\n\r\nexport const includes = invoker(2, 'includes')\r\n\r\nexport const every = invoker(2, 'every')\r\nexport const map = invoker(2, 'map')\r\nexport const forEach = invoker(2, 'forEach')\r\nexport const filter = invoker(2, 'filter')\r\nexport const reject = curry((f, arr) => filter((...args) => !f(...args), arr))\r\nexport const reduce = invoker(3, 'reduce')\r\nexport const some = invoker(2, 'some')\r\nexport const flat = invoker(1, 'flat')\r\n\r\nexport const slice = invoker(3, 'slice')\r\nexport const join = invoker(2, 'join')\r\n\r\nexport const push = curry((item, arr) => {\r\n  arr = [...arr]\r\n  arr.push(item)\r\n  return arr\r\n})\r\nexport const pop = arr => {\r\n  arr = [...arr]\r\n  arr.pop()\r\n  return arr\r\n}\r\nexport const unshift = curry((item, arr) => {\r\n  arr = [...arr]\r\n  arr.unshift(item)\r\n  return arr\r\n})\r\nexport const shift = arr => {\r\n  arr = [...arr]\r\n  arr.shift()\r\n  return arr\r\n}\r\n\r\nexport const unique = arr => [...new Set(arr)]\r\n\r\nexport const concat = invoker(2, 'concat')\r\nexport const union = curryN(2, compose(unique, flip(concat)))\r\n\r\n// @see ramda, it is more efficient when the array length gap is large\r\nconst _longer = (arr1, arr2) => arr1.length > arr2.length ? arr1 : arr2\r\nconst _shorter = (arr1, arr2) => arr1.length > arr2.length ? arr2 : arr1\r\nexport const intersection = curry((arr1, arr2) => {\r\n  const lookupArr = _longer(arr1, arr2)\r\n  const filteredArr = _shorter(arr1, arr2)\r\n  return unique(filter(flip(includes)(lookupArr), filteredArr))\r\n})\r\n","export const isDefined = variable => typeof variable !== 'undefined'\r\n\r\nexport const isGeneralObject = tar => typeof tar === 'object'\r\n\r\n// @see: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types\r\nexport const isBoolean = boo => Object.prototype.toString.call(boo) === '[object Boolean]'\r\nexport const isString = str => Object.prototype.toString.call(str) === '[object String]'\r\nexport const isNumber = num => Object.prototype.toString.call(num) === '[object Number]'\r\nexport const isSymbol = symbol => Object.prototype.toString.call(symbol) === '[object Symbol]'\r\nexport const isUndefined = val => Object.prototype.toString.call(val) === '[object Undefined]'\r\nexport const isNull = val => Object.prototype.toString.call(val) === '[object Null]'\r\nexport const isFunction = fn => fn && Object.prototype.toString.call(fn) === '[object Function]'\r\nexport const isDate = date =>\r\n  date && Object.prototype.toString.call(new Date(date)) === '[object Date]' && !!new Date(date).getTime()\r\nexport const isObject = obj => Object.prototype.toString.call(obj) === '[object Object]'\r\nexport const isArray = arr => Object.prototype.toString.call(arr) === '[object Array]'\r\nexport const isMap = map => Object.prototype.toString.call(map) === '[object Map]'\r\nexport const isWeakMap = weakMap => Object.prototype.toString.call(weakMap) === '[object WeakMap]'\r\nexport const isSet = set => Object.prototype.toString.call(set) === '[object Set]'\r\nexport const isWeakSet = weakSet => Object.prototype.toString.call(weakSet) === '[object WeakSet]'\r\nexport const isRegExp = regex => Object.prototype.toString.call(regex) === '[object RegExp]'\r\nexport const isPromise = obj => Object.prototype.toString.call(obj) === '[object Promise]'\r\nexport const isAsyncFn = fn => Object.prototype.toString.call(fn) === '[object AsyncFunction]'\r\nexport const isGeneratorFunction = fn =>\r\n  Object.prototype.toString.call(fn) === '[object GeneratorFunction]'\r\nexport const isAsyncGeneratorFunction = fn =>\r\n  Object.prototype.toString.call(fn) === '[object AsyncGeneratorFunction]'\r\nexport const isError = err => Object.prototype.toString.call(err) === '[object Error]'\r\nexport const isEmptyStr = str => isString(str) && str.length === 0\r\nexport const isEmptyArr = arr => isArray(arr) && arr.length === 0\r\nexport const isEmptyObj = obj => isObject(obj) && Object.keys(obj).length === 0\r\nexport const isOutDated = date => isDate(date) && new Date(date).getTime() < new Date().getTime()\r\n\r\nexport const isWindow = obj => Object.prototype.toString.call(obj) === '[object Window]'\r\nexport const isDocument = obj => Object.prototype.toString.call(document) === '[object HTMLDocument]'\r\n// refer: https://developer.mozilla.org/zh-CN/docs/Web/API/Event\r\nexport const isEventTarget = obj => obj instanceof EventTarget\r\nexport const isIterable = tar => Object.prototype.toString.call(tar[Symbol.iterator]) === 'object Function'\r\n\r\nexport const isObservable = obj => isObject(obj) && (obj.isObservable || isFunction(obj.subscribe))\r\n\r\n// - `null` and `undefined` are considered empty values\r\n// - `''` is the empty value for String\r\n// - `[]` is the empty value for Array\r\n// - `{}` is the empty value for Object\r\nexport const isEmpty = val =>\r\n  isNull(val) || isUndefined(val) || isEmptyStr(val) || isEmptyArr(val) || isEmptyObj(val) || (isObject(val) && val.isEmpty)\r\n\r\nexport const asIs = v => v\r\nexport const asUndefined = v => undefined\r\nexport const asNull = v => null\r\nexport const noop = v => {}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\r\n","import { compose, curry } from '../functional/helpers.js'\r\n\r\nexport const and = curry((x, y) => !!x && !!y)\r\nexport const or = curry((x, y) => !!x || !!y)\r\nexport const not = x => !x\r\nexport const complement = fn => compose(not, fn)\r\n\r\nexport const isTrue = v => v === true\r\nexport const isFalse = v => v === false\r\n\r\n// @see https://developer.mozilla.org/en-US/docs/Glossary/Truthy\r\nexport const isTruthy = v => !!v === true\r\nexport const isFalsy = v => !!v === false\r\nexport const isNil = v => v === null || v === undefined\r\nexport const isNotNil = complement(isNil)\r\n\r\nexport const strictEquals = curry((v1, v2) => v1 === v2)\r\nexport const equals = strictEquals\r\n// eslint-disable-next-line eqeqeq\r\nexport const looseEquals = curry((v1, v2) => v1 == v2)\r\n\r\nexport const ifElse = curry((pred, f, g, x) => pred(x) ? f(x) : g(x))\r\nexport const when = curry((pred, f, x) => pred(x) ? f(x) : x)\r\nexport const unless = curry((pred, f, x) => !pred(x) ? f(x) : x)\r\nexport const iif = curry((cond, x, y) => cond ? x : y)\r\n","const UNITS_DICT = {\r\n  year: '年', month: '月', week: '周', day: '天', hour: '小时', minute: '分钟', second: '秒', millisecond: '毫秒'\r\n}\r\nconst UNITS_MILLI_DICT = {\r\n  year: 31557600000,\r\n  month: 2629800000,\r\n  week: 604800000,\r\n  day: 86400000,\r\n  hour: 3600000,\r\n  minute: 60000,\r\n  second: 1000,\r\n  millisecond: 1\r\n}\r\n\r\nexport const humanize = timestamp => {\r\n  let res = ''\r\n  const milliseconds = +new Date() - timestamp\r\n  for (const key in UNITS_MILLI_DICT) {\r\n    if (milliseconds >= UNITS_MILLI_DICT[key]) {\r\n      res = `${Math.floor(milliseconds / UNITS_MILLI_DICT[key])} ${UNITS_DICT[key]}前`\r\n      break\r\n    }\r\n  }\r\n  return res || '刚刚'\r\n}\r\n","import { hardDeepMerge } from './object.js'\r\n\r\n// ! unnecessary\r\n// // NOTE: call 接受不定长参数，无法进行一般柯里化\r\n// export const call = (f, ...args) => f(...args)\r\n// // apply :: (a -> b) -> a -> b\r\n// ! name conflict with `apply` in functional module which has different signature\r\n// export const apply = curry((f, args) => f(...args))\r\n\r\nexport const iife = (fn, ...args) => fn(...args)\r\n\r\nexport const once = fn => {\r\n  let called, result\r\n  return (...args) => {\r\n    if (!called) {\r\n      called = true\r\n      result = fn(...args)\r\n    }\r\n    return result\r\n  }\r\n}\r\n\r\nexport const debounce = (fn, ms) => {\r\n  let timer\r\n  let waiting = []\r\n  return () => {\r\n    clearTimeout(timer)\r\n    timer = setTimeout(async () => {\r\n      const res = await fn()\r\n      waiting.forEach(fn => {\r\n        fn(res)\r\n      })\r\n      waiting = []\r\n    }, ms)\r\n    return new Promise(resolve => {\r\n      waiting.push(resolve)\r\n    })\r\n  }\r\n}\r\n\r\nexport const throttle = (fn) => {\r\n  let isCalling = false\r\n  let waiting = []\r\n  return () => {\r\n    if (!isCalling) {\r\n      isCalling = true\r\n      Promise.resolve(fn()).then(res => {\r\n        waiting.forEach(waitFn => {\r\n          waitFn(res)\r\n        })\r\n        waiting = []\r\n        isCalling = false\r\n      })\r\n    }\r\n    return new Promise(resolve => {\r\n      waiting.push(resolve)\r\n    })\r\n  }\r\n}\r\n\r\nexport const throttleTime = (fn, ms) => {\r\n  let isCalling = false\r\n  let waiting = []\r\n  return () => {\r\n    if (!isCalling) {\r\n      isCalling = true\r\n      Promise.resolve(fn()).then(res => {\r\n        waiting.forEach(waitFn => {\r\n          waitFn(res)\r\n        })\r\n        waiting = []\r\n      })\r\n      setTimeout(() => {\r\n        isCalling = false\r\n      }, ms)\r\n    }\r\n    return new Promise(resolve => {\r\n      waiting.push(resolve)\r\n    })\r\n  }\r\n}\r\n\r\nexport const packing = (fn, range) => {\r\n  let timer\r\n  let waiting = []\r\n  let data = {}\r\n  return (oData) => {\r\n    clearTimeout(timer)\r\n    data = hardDeepMerge(data, oData)\r\n    timer = setTimeout(async () => {\r\n      const res = await fn(data)\r\n      waiting.forEach(waitFn => {\r\n        waitFn(res)\r\n      })\r\n      waiting = []\r\n    }, range)\r\n    return new Promise(resolve => {\r\n      waiting.push(resolve)\r\n    })\r\n  }\r\n}\r\n","import { filter, every, some } from './array.js'\r\nimport { isTruthy, isFalsy } from './boolean.js'\r\n\r\nimport { curry } from '../functional/helpers.js'\r\nimport { applyTo } from '../functional/combinators.js'\r\n\r\nexport const filterTruthy = filter(isTruthy)\r\nexport const filterFalsy = filter(isFalsy)\r\n\r\nexport const allPass = curry((tests, tar) => every(applyTo(tar), tests))\r\nexport const anyPass = curry((tests, tar) => some(applyTo(tar), tests))\r\n","// ref: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\r\n\r\nexport * from './base.js'\r\n\r\nexport * from './array.js'\r\nexport * from './boolean.js'\r\nexport * from './date.js'\r\nexport * from './function.js'\r\nexport * from './number.js'\r\nexport * from './object.js'\r\nexport * from './string.js'\r\nexport * from './regexp.js'\r\nexport * from './error.js'\r\n\r\nexport * from './hybrid.js'\r\n","import { curryN } from '../functional/helpers.js'\r\n\r\nexport const isEven = x => x % 2 === 0\r\nexport const isOdd = x => x % 2 !== 0\r\n\r\nexport const maxTo = curryN(2, (max, x) => x > max ? max : x)\r\nexport const minTo = curryN(2, (min, x) => x < min ? min : x)\r\nexport const minOf = curryN(2, (x, y) => x < y ? x : y)\r\nexport const maxOf = curryN(2, (x, y) => x > y ? x : y)\r\nexport const between = curryN(3, (a, b, x) => {\r\n  const min = minOf(a, b)\r\n  const max = maxOf(a, b)\r\n  return x < min ? min : (x > max ? max : x)\r\n})\r\n","import { curry, compose, curryN } from '../functional/helpers.js'\r\nimport { isArray, isObject } from './base.js'\r\nimport { isTruthy, isNil } from './boolean.js'\r\nimport { split, replace } from './string.js'\r\nimport { filter, reduce } from './array.js'\r\n\r\nexport const prop = curry((key, obj) => obj[key])\r\nexport const propEq = curry((prop, value, obj) => obj[prop] === value)\r\nexport const entries = Object.entries\r\nexport const keys = Object.keys\r\nexport const values = Object.values\r\nexport const truthyKeys = obj => entries(obj).filter(([k, v]) => !!v).map(([k, v]) => k)\r\nexport const truthyValues = obj => entries(obj).filter(([k, v]) => !!v).map(([k, v]) => v)\r\n\r\nexport const hasOwnProperty = curry((key, obj) => Object.prototype.hasOwnProperty.call(obj, key))\r\nexport const assign = curryN(2, (source, target) => target.assign(source))\r\nexport const assignTo = curryN(2, (target, source) => target.assign(source))\r\nexport const defaultProps = assign\r\n\r\n/**\r\n * @deprecated use getByPath instead\r\n */\r\n// @refer to: https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore#_get\r\n// NOTE: rawFn.length === 2\r\n// export const get = curry((obj, path, defaultValue = undefined) => {\r\nexport const get = curry((obj, path) => {\r\n  // getPathArray :: s -> [s]\r\n  const getPathArray = compose(filter(isTruthy), split(/[,[/\\].]+?/), replace(/['|\"]/g, ''))\r\n  // getRes :: [s] -> any\r\n  const getRes = reduce((res, path) => isNil(res) ? res : res[path], obj)\r\n\r\n  const result = getRes(getPathArray(path))\r\n\r\n  // return result === undefined || result === obj ? defaultValue : result\r\n  return result\r\n})\r\n\r\n/**\r\n * @param path String | Array\r\n * @param obj Object\r\n * @return Any\r\n */\r\nexport const getByPath = curry((path, obj) => {\r\n  const getPathArray = compose(filter(isTruthy), split(/[,./[\\]\\\\]/g), replace(/['|\"]/g, ''))\r\n  const getRes = reduce((res, path) => isNil(res) ? res : res[path], obj)\r\n  const result = getRes(getPathArray(path))\r\n  return result\r\n})\r\n\r\nexport const emptifyObj = obj => {\r\n  for (const key in obj) {\r\n    if (isObject(obj[key])) {\r\n      emptifyObj(obj[key])\r\n    } else {\r\n      delete obj[key]\r\n    }\r\n  }\r\n  return obj\r\n}\r\n\r\nexport const deepCopyViaJSON = (obj) => JSON.parse(JSON.stringify(obj))\r\n// @refer to: https://github.com/davidmarkclements/rfdc/blob/master/index.js\r\nexport const deepCopy = (obj) => {\r\n  if (!isObject(obj)) {\r\n    return obj\r\n  }\r\n  const newObj = isArray(obj) ? [] : {}\r\n  for (const key in obj) {\r\n    if (isObject(obj[key])) {\r\n      newObj[key] = deepCopy(obj[key])\r\n    } else {\r\n      newObj[key] = obj[key]\r\n    }\r\n  }\r\n  return newObj\r\n}\r\n\r\nexport const hardDeepMerge = curry((target, source) => {\r\n  if (!isObject(target) || !isObject(source)) {\r\n    return target\r\n  }\r\n\r\n  Object.keys(source).forEach(key => {\r\n    const targetValue = target[key]\r\n    const sourceValue = source[key]\r\n\r\n    if (isArray(targetValue) && isArray(sourceValue)) {\r\n      target[key] = deepCopy(sourceValue)\r\n    } else if (isObject(targetValue) && isObject(sourceValue)) {\r\n      target[key] = hardDeepMerge(targetValue, sourceValue)\r\n    } else {\r\n      target[key] = sourceValue\r\n    }\r\n  })\r\n\r\n  return target\r\n})\r\n\r\nexport const smartDeepMerge = (target, source) => {\r\n  if (!isObject(target) || !isObject(source)) {\r\n    return target\r\n  }\r\n\r\n  Object.keys(source).forEach(key => {\r\n    const targetValue = target[key]\r\n    const sourceValue = source[key]\r\n\r\n    if (isArray(targetValue) && isArray(sourceValue)) {\r\n      target[key] = targetValue.concat(sourceValue)\r\n    } else if (isObject(targetValue) && isObject(sourceValue)) {\r\n      target[key] = smartDeepMerge(targetValue, sourceValue)\r\n    } else {\r\n      target[key] = sourceValue\r\n    }\r\n  })\r\n\r\n  return target\r\n}\r\n\r\n// mapProps\r\n// omit\r\n// pick\r\n","export const isPhoneNum = v => /^1[3-9]\\d{9}$/.test(v)\r\nexport const isTelNum = v => /^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(v)\r\nexport const isQQId = v => /^[1-9][0-9]{4,10}$/.test(v)\r\nexport const isEmailAddress = v => /^([A-Za-z0-9_\\-.])+@([A-Za-z0-9_\\-.])+\\.([A-Za-z]{2,4})$/.test(v)\r\n","import { invoker, curry } from '../functional/helpers.js'\r\n\r\nexport const toString = invoker(1, 'toString')\r\nexport const toLowerCase = invoker(1, 'toLowerCase')\r\nexport const toUpperCase = invoker(1, 'toUpperCase')\r\nexport const trim = invoker(1, 'trim')\r\nexport const trimRight = invoker(1, 'trimRight')\r\nexport const trimLeft = invoker(1, 'trimLeft')\r\nexport const indexOf = invoker(2, 'indexOf')\r\nexport const split = invoker(2, 'split')\r\nexport const replace = invoker(3, 'replace')\r\n\r\nexport const isStartWith = curry((substr, str) => indexOf(substr, str) === 0)\r\n\r\nexport const isAllSpace = str => !!trim(str)\r\n\r\nconst _randomPacket = {}\r\nexport const randomString = (length, chars) => {\r\n  let result = ''\r\n  chars = chars || '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\r\n  for (let i = length; i > 0; --i) result += chars[Math.floor(Math.random() * chars.length)]\r\n  _randomPacket[length] = _randomPacket[length] || []\r\n  const packet = _randomPacket[length]\r\n  if (packet.includes(result)) {\r\n    return randomString()\r\n  } else {\r\n    packet.push(result)\r\n    return result\r\n  }\r\n}\r\n","import { composeL, applyTo } from './functional.js'\r\n\r\nexport const semantic = {\r\n  equiped: composeL,\r\n  equip: applyTo\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as MobiusUtils from './es/index.js'\r\n\r\nconsole.error(MobiusUtils)\r\n"],"sourceRoot":""}